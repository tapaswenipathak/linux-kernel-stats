commit c7020e1b346d5840e93b58cc4f2c67fc645d8df9
Merge: a0a6c76cf2a5 f826afe5eae8
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Wed Dec 14 09:54:10 2022 -0800

    Merge tag 'pci-v6.2-changes' of git://git.kernel.org/pub/scm/linux/kernel/git/helgaas/pci
    
    Pull PCI updates from Bjorn Helgaas:
     "Enumeration:
    
       - Squash portdrv_{core,pci}.c into portdrv.c to ease maintenance and
         make more things static.
    
       - Make portdrv bind to Switch Ports that have AER. Previously, if
         these Ports lacked MSI/MSI-X, portdrv failed to bind, which meant
         the Ports couldn't be suspended to low-power states. AER on these
         Ports doesn't use interrupts, and the AER driver doesn't need to
         claim them.
    
       - Assign PCI domain IDs using ida_alloc(), which makes host bridge
         add/remove work better.
    
      Resource management:
    
       - To work better with recent BIOSes that use EfiMemoryMappedIO for
         PCI host bridge apertures, remove those regions from the E820 map
         (E820 entries normally prevent us from allocating BARs). In v5.19,
         we added some quirks to disable E820 checking, but that's not very
         maintainable. EfiMemoryMappedIO means the OS needs to map the
         region for use by EFI runtime services; it shouldn't prevent OS
         from using it.
    
      PCIe native device hotplug:
    
       - Build pciehp by default if USB4 is enabled, since Thunderbolt/USB4
         PCIe tunneling depends on native PCIe hotplug.
    
       - Enable Command Completed Interrupt only if supported to avoid user
         confusion from lspci output that says this is enabled but not
         supported.
    
       - Prevent pciehp from binding to Switch Upstream Ports; this happened
         because of interaction with acpiphp and caused devices below the
         Upstream Port to disappear.
    
      Power management:
    
       - Convert AGP drivers to generic power management. We hope to remove
         legacy power management from the PCI core eventually.
    
      Virtualization:
    
       - Fix pci_device_is_present(), which previously always returned
         "false" for VFs, causing virtio hangs when unbinding the driver.
    
      Miscellaneous:
    
       - Convert drivers to gpiod API to prepare for dropping some legacy
         code.
    
       - Fix DOE fencepost error for the maximum data object length.
    
      Baikal-T1 PCIe controller driver:
    
       - Add driver and DT bindings.
    
      Broadcom STB PCIe controller driver:
    
       - Enable Multi-MSI.
    
       - Delay 100ms after PERST# deassert to allow power and clocks to
         stabilize.
    
       - Configure Read Completion Boundary to 64 bytes.
    
      Freescale i.MX6 PCIe controller driver:
    
       - Initialize PHY before deasserting core reset to fix a regression in
         v6.0 on boards where the PHY provides the reference.
    
       - Fix imx6sx and imx8mq clock names in DT schema.
    
      Intel VMD host bridge driver:
    
       - Fix Secondary Bus Reset on VMD bridges, which allows reset of NVMe
         SSDs in VT-d pass-through scenarios.
    
       - Disable MSI remapping, which gets re-enabled by firmware during
         suspend/resume.
    
      MediaTek PCIe Gen3 controller driver:
    
       - Add MT7986 and MT8195 support.
    
      Qualcomm PCIe controller driver:
    
       - Add SC8280XP/SA8540P basic interconnect support.
    
      Rockchip DesignWare PCIe controller driver:
    
       - Base DT schema on common Synopsys schema.
    
      Synopsys DesignWare PCIe core:
    
       - Collect DT items shared between Root Port and Endpoint (PERST GPIO,
         PHY info, clocks, resets, link speed, number of lanes, number of
         iATU windows, interrupt info, etc) to snps,dw-pcie-common.yaml.
    
       - Add dma-ranges support for Root Ports and Endpoints.
    
       - Consolidate DT resource retrieval for "dbi", "dbi2", "atu", etc. to
         reduce code duplication.
    
       - Add generic names for clocks and resets to encourage more
         consistent naming across drivers using DesignWare IP.
    
       - Stop advertising PTM Responder role for Endpoints, which aren't
         allowed to be responders.
    
      TI J721E PCIe driver:
    
       - Add j721s2 host mode ID to DT schema.
    
       - Add interrupt properties to DT schema.
    
      Toshiba Visconti PCIe controller driver:
    
       - Fix interrupts array max constraints in DT schema"
    
    * tag 'pci-v6.2-changes' of git://git.kernel.org/pub/scm/linux/kernel/git/helgaas/pci: (95 commits)
      x86/PCI: Use pr_info() when possible
      x86/PCI: Fix log message typo
      x86/PCI: Tidy E820 removal messages
      PCI: Skip allocate_resource() if too little space available
      efi/x86: Remove EfiMemoryMappedIO from E820 map
      PCI/portdrv: Allow AER service only for Root Ports & RCECs
      PCI: xilinx-nwl: Fix coding style violations
      PCI: mvebu: Switch to using gpiod API
      PCI: pciehp: Enable Command Completed Interrupt only if supported
      PCI: aardvark: Switch to using devm_gpiod_get_optional()
      dt-bindings: PCI: mediatek-gen3: add support for mt7986
      dt-bindings: PCI: mediatek-gen3: add SoC based clock config
      dt-bindings: PCI: qcom: Allow 'dma-coherent' property
      PCI: mt7621: Add sentinel to quirks table
      PCI: vmd: Fix secondary bus reset for Intel bridges
      PCI: endpoint: pci-epf-vntb: Fix sparse ntb->reg build warning
      PCI: endpoint: pci-epf-vntb: Fix sparse build warning for epf_db
      PCI: endpoint: pci-epf-vntb: Replace hardcoded 4 with sizeof(u32)
      PCI: endpoint: pci-epf-vntb: Remove unused epf_db_phy struct member
      PCI: endpoint: pci-epf-vntb: Fix call pci_epc_mem_free_addr() in error path
      ...

commit 5f9952548d91263eaf70a2ca71f8897c2a638cf1
Author: Dan Callaghan <dcallagh@chromium.org>
Date:   Tue Oct 18 15:06:23 2022 +1100

    platform/chrome: add a driver for HPS
    
    This patch introduces a driver for the ChromeOS human presence
    sensor (aka. HPS). The driver supports a sensor connected to the I2C bus
    and identified as "GOOG0020" in the ACPI tables.
    
    When loaded, the driver exports the sensor to userspace through a
    character device. This device only supports power management, i.e.,
    communication with the sensor must be done through regular I2C
    transmissions from userspace.
    
    Power management is implemented by enabling the respective power GPIO
    while at least one userspace process holds an open fd on the character
    device. By default, the device is powered down if there are no active
    clients.
    
    Note that the driver makes no effort to preserve the state of the sensor
    between power down and power up events. Userspace is responsible for
    reinitializing any needed state once power has been restored.
    
    The device firmware, I2C protocol and other documentation is available
    at https://chromium.googlesource.com/chromiumos/platform/hps-firmware.
    
    Co-developed-by: Sami Kyöstilä <skyostil@chromium.org>
    Signed-off-by: Sami Kyöstilä <skyostil@chromium.org>
    Signed-off-by: Dan Callaghan <dcallagh@chromium.org>
    Signed-off-by: Tzung-Bi Shih <tzungbi@kernel.org>
    Link: https://lore.kernel.org/r/20221018040623.2173441-1-dcallagh@chromium.org

commit 041bc24d867a2a577a06534d6d25e500b24a01ef
Merge: c440f9969523 0e00a3aeae25
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Tue Oct 11 11:08:18 2022 -0700

    Merge tag 'pci-v6.1-changes' of git://git.kernel.org/pub/scm/linux/kernel/git/helgaas/pci
    
    Pull pci updates from Bjorn Helgaas:
     "Resource management:
    
       - Distribute spare resources to unconfigured hotplug bridges at
         boot-time (not just when hot-adding such a bridge), which makes
         hot-adding devices to docks work better.
    
       - Revert to a BAR assignment inherited from firmware only when the
         address is actually reachable via any upstream bridges, which fixes
         some cases where firmware doesn't configure all devices.
    
       - Add a sysfs interface to resize BARs so this can be done before
         assigning devices to a VM through VFIO.
    
      Power management:
    
       - Disable Precision Time Management for all devices on suspend to
         enable lower-power PM state. We previously did this just for Root
         Ports, which isn't enough because downstream devices can still
         generate PTM messages, which cause errors if it's disabled in the
         Root Port.
    
       - Save and restore the ASPM L1 PM Substates configuration for
         suspend/ resume. Previously this configuration was lost, so L1.x
         states likely stopped working after resume.
    
       - Check whether the L1 PM Substates Capability exists. If it didn't
         exist, we previously read junk and tried to configure L1 Substates
         based on that.
    
       - Fix the LTR_L1.2_THRESHOLD computation, which previously set a
         threshold for entering L1.2 that was too low in some cases.
    
       - Reduce the delay after transitions to or from D3cold by using
         usleep_range() rather than msleep(), which often slept for ~19ms
         instead of the 10ms normally required. The spec says 10ms is
         enough, but it's possible we could trip over devices that need a
         little more.
    
      Error handling:
    
       - Work around a BIOS bug that caused Intel Root Ports to advertise a
         Root Port Programmed I/O (RP PIO) log size of zero, which caused
         annoying warnings and prevented the kernel from dumping log
         registers for DPC errors.
    
      Qualcomm PCIe controller driver:
    
       - Add support for SC8280XP and SA8540P host controllers and SM8450
         endpoint controller.
    
       - Disable Master AXI clock on endpoint controllers to save power when
         link is idle or in L1.x.
    
       - Expose link state transition counts via debugfs to help debug
         issues with low-power states.
    
       - Add auto-loading module support.
    
      Synopsys DesignWare PCIe controller driver:
    
       - Remove a dependency on ZONE_DMA32 by allocating the MSI target page
         differently. There's more work to do related to eDMA controllers,
         so it's not completely settled"
    
    * tag 'pci-v6.1-changes' of git://git.kernel.org/pub/scm/linux/kernel/git/helgaas/pci: (71 commits)
      PCI: qcom-ep: Check platform_get_resource_byname() return value
      PCI: qcom-ep: Add support for SM8450 SoC
      dt-bindings: PCI: qcom-ep: Add support for SM8450 SoC
      dt-bindings: PCI: qcom-ep: Define clocks per platform
      PCI: qcom-ep: Make PERST separation optional
      dt-bindings: PCI: qcom-ep: Make PERST separation optional
      PCI: qcom-ep: Disable Master AXI Clock when there is no PCIe traffic
      PCI: Expose PCIe Resizable BAR support via sysfs
      PCI/ASPM: Correct LTR_L1.2_THRESHOLD computation
      PCI/ASPM: Ignore L1 PM Substates if device lacks capability
      PCI/ASPM: Factor out L1 PM Substates configuration
      PCI: qcom-ep: Gate Master AXI clock to MHI bus during L1SS
      PCI: qcom-ep: Expose link transition counts via debugfs
      PCI: qcom-ep: Disable IRQs during driver remove
      PCI/ASPM: Save L1 PM Substates Capability for suspend/resume
      PCI/ASPM: Refactor L1 PM Substates Control Register programming
      PCI: qcom-ep: Make use of the cached dev pointer
      PCI: qcom-ep: Rely on the clocks supplied by devicetree
      PCI: qcom-ep: Add kernel-doc for qcom_pcie_ep structure
      phy: freescale: imx8m-pcie: Fix the wrong order of phy_init() and phy_power_on()
      ...

commit 4a329fecc9aaebb27a53fa7abfa53bbc2ee42f3f
Author: Robert Elliott <elliott@hpe.com>
Date:   Sat Aug 20 13:41:41 2022 -0500

    crypto: Kconfig - submenus for arm and arm64
    
    Move ARM- and ARM64-accelerated menus into a submenu under
    the Crypto API menu (paralleling all the architectures).
    
    Make each submenu always appear if the corresponding architecture
    is supported. Get rid of the ARM_CRYPTO and ARM64_CRYPTO symbols.
    
    The "ARM Accelerated" or "ARM64 Accelerated" entry disappears from:
        General setup  --->
        Platform selection  --->
        Kernel Features  --->
        Boot options  --->
        Power management options  --->
        CPU Power Management  --->
    [*] ACPI (Advanced Configuration and Power Interface) Support  --->
    [*] Virtualization  --->
    [*] ARM Accelerated Cryptographic Algorithms  --->
         (or)
    [*] ARM64 Accelerated Cryptographic Algorithms  --->
        ...
    -*- Cryptographic API  --->
        Library routines  --->
        Kernel hacking  --->
    
    and moves into the Cryptographic API menu, which now contains:
          ...
          Accelerated Cryptographic Algorithms for CPU (arm) --->
          (or)
          Accelerated Cryptographic Algorithms for CPU (arm64) --->
    [*]   Hardware crypto devices  --->
          ...
    
    Suggested-by: Eric Biggers <ebiggers@kernel.org>
    Signed-off-by: Robert Elliott <elliott@hpe.com>
    Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>

commit eff0cb3d91c06acbb957be1134a07afa2c4978e3
Merge: 31be1d0fbd95 c4f36c3ab065
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Thu Aug 4 19:30:35 2022 -0700

    Merge tag 'pci-v5.20-changes' of git://git.kernel.org/pub/scm/linux/kernel/git/helgaas/pci
    
    Pull pci updates from Bjorn Helgaas:
     "Enumeration:
    
       - Consolidate duplicated 'next function' scanning and extend to allow
         'isolated functions' on s390, similar to existing hypervisors
         (Niklas Schnelle)
    
      Resource management:
       - Implement pci_iobar_pfn() for sparc, which allows us to remove the
         sparc-specific pci_mmap_page_range() and pci_mmap_resource_range().
    
         This removes the ability to map the entire PCI I/O space using
         /proc/bus/pci, but we believe that's already been broken since
         v2.6.28 (Arnd Bergmann)
    
       - Move common PCI definitions to asm-generic/pci.h and rework others
         to be be more specific and more encapsulated in arches that need
         them (Stafford Horne)
    
      Power management:
    
       - Convert drivers to new *_PM_OPS macros to avoid need for '#ifdef
         CONFIG_PM_SLEEP' or '__maybe_unused' (Bjorn Helgaas)
    
      Virtualization:
    
       - Add ACS quirk for Broadcom BCM5750x multifunction NICs that isolate
         the functions but don't advertise an ACS capability (Pavan Chebbi)
    
      Error handling:
    
       - Clear PCI Status register during enumeration in case firmware left
         errors logged (Kai-Heng Feng)
    
       - When we have native control of AER, enable error reporting for all
         devices that support AER. Previously only a few drivers enabled
         this (Stefan Roese)
    
       - Keep AER error reporting enabled for switches. Previously we
         enabled this during enumeration but immediately disabled it (Stefan
         Roese)
    
       - Iterate over error counters instead of error strings to avoid
         printing junk in AER sysfs counters (Mohamed Khalfella)
    
      ASPM:
    
       - Remove pcie_aspm_pm_state_change() so ASPM config changes, e.g.,
         via sysfs, are not lost across power state changes (Kai-Heng Feng)
    
      Endpoint framework:
    
       - Don't stop an EPC when unbinding an EPF from it (Shunsuke Mie)
    
      Endpoint embedded DMA controller driver:
    
       - Simplify and clean up support for the DesignWare embedded DMA
         (eDMA) controller (Frank Li, Serge Semin)
    
      Broadcom STB PCIe controller driver:
    
       - Avoid config space accesses when link is down because we can't
         recover from the CPU aborts these cause (Jim Quinlan)
    
       - Look for power regulators described under Root Ports in DT and
         enable them before scanning the secondary bus (Jim Quinlan)
    
       - Disable/enable regulators in suspend/resume (Jim Quinlan)
    
      Freescale i.MX6 PCIe controller driver:
    
       - Simplify and clean up clock and PHY management (Richard Zhu)
    
       - Disable/enable regulators in suspend/resume (Richard Zhu)
    
       - Set PCIE_DBI_RO_WR_EN before writing DBI registers (Richard Zhu)
    
       - Allow speeds faster than Gen2 (Richard Zhu)
    
       - Make link being down a non-fatal error so controller probe doesn't
         fail if there are no Endpoints connected (Richard Zhu)
    
      Loongson PCIe controller driver:
    
       - Add ACPI and MCFG support for Loongson LS7A (Huacai Chen)
    
       - Avoid config reads to non-existent LS2K/LS7A devices because a
         hardware defect causes machine hangs (Huacai Chen)
    
       - Work around LS7A integrated devices that report incorrect Interrupt
         Pin values (Jianmin Lv)
    
      Marvell Aardvark PCIe controller driver:
    
       - Add support for AER and Slot capability on emulated bridge (Pali
         Rohár)
    
      MediaTek PCIe controller driver:
    
       - Add Airoha EN7532 to DT binding (John Crispin)
    
       - Allow building of driver for ARCH_AIROHA (Felix Fietkau)
    
      MediaTek PCIe Gen3 controller driver:
    
       - Print decoded LTSSM state when the link doesn't come up (Jianjun
         Wang)
    
      NVIDIA Tegra194 PCIe controller driver:
    
       - Convert DT binding to json-schema (Vidya Sagar)
    
       - Add DT bindings and driver support for Tegra234 Root Port and
         Endpoint mode (Vidya Sagar)
    
       - Fix some Root Port interrupt handling issues (Vidya Sagar)
    
       - Set default Max Payload Size to 256 bytes (Vidya Sagar)
    
       - Fix Data Link Feature capability programming (Vidya Sagar)
    
       - Extend Endpoint mode support to devices beyond Controller-5 (Vidya
         Sagar)
    
      Qualcomm PCIe controller driver:
    
       - Rework clock, reset, PHY power-on ordering to avoid hangs and
         improve consistency (Robert Marko, Christian Marangi)
    
       - Move pipe_clk handling to PHY drivers (Dmitry Baryshkov)
    
       - Add IPQ60xx support (Selvam Sathappan Periakaruppan)
    
       - Allow ASPM L1 and substates for 2.7.0 (Krishna chaitanya chundru)
    
       - Add support for more than 32 MSI interrupts (Dmitry Baryshkov)
    
      Renesas R-Car PCIe controller driver:
    
       - Convert DT binding to json-schema (Herve Codina)
    
       - Add Renesas RZ/N1D (R9A06G032) to rcar-gen2 DT binding and driver
         (Herve Codina)
    
      Samsung Exynos PCIe controller driver:
    
       - Fix phy-exynos-pcie driver so it follows the 'phy_init() before
         phy_power_on()' PHY programming model (Marek Szyprowski)
    
      Synopsys DesignWare PCIe controller driver:
    
       - Simplify and clean up the DWC core extensively (Serge Semin)
    
       - Fix an issue with programming the ATU for regions that cross a 4GB
         boundary (Serge Semin)
    
       - Enable the CDM check if 'snps,enable-cdm-check' exists; previously
         we skipped it if 'num-lanes' was absent (Serge Semin)
    
       - Allocate a 32-bit DMA-able page to be MSI target instead of using a
         driver data structure that may not be addressable with 32-bit
         address (Will McVicker)
    
       - Add DWC core support for more than 32 MSI interrupts (Dmitry
         Baryshkov)
    
      Xilinx Versal CPM PCIe controller driver:
    
       - Add DT binding and driver support for Versal CPM5 Gen5 Root Port
         (Bharat Kumar Gogada)"
    
    * tag 'pci-v5.20-changes' of git://git.kernel.org/pub/scm/linux/kernel/git/helgaas/pci: (150 commits)
      PCI: imx6: Support more than Gen2 speed link mode
      PCI: imx6: Set PCIE_DBI_RO_WR_EN before writing DBI registers
      PCI: imx6: Reformat suspend callback to keep symmetric with resume
      PCI: imx6: Move the imx6_pcie_ltssm_disable() earlier
      PCI: imx6: Disable clocks in reverse order of enable
      PCI: imx6: Do not hide PHY driver callbacks and refine the error handling
      PCI: imx6: Reduce resume time by only starting link if it was up before suspend
      PCI: imx6: Mark the link down as non-fatal error
      PCI: imx6: Move regulator enable out of imx6_pcie_deassert_core_reset()
      PCI: imx6: Turn off regulator when system is in suspend mode
      PCI: imx6: Call host init function directly in resume
      PCI: imx6: Disable i.MX6QDL clock when disabling ref clocks
      PCI: imx6: Propagate .host_init() errors to caller
      PCI: imx6: Collect clock enables in imx6_pcie_clk_enable()
      PCI: imx6: Factor out ref clock disable to match enable
      PCI: imx6: Move imx6_pcie_clk_disable() earlier
      PCI: imx6: Move imx6_pcie_enable_ref_clk() earlier
      PCI: imx6: Move PHY management functions together
      PCI: imx6: Move imx6_pcie_grp_offset(), imx6_pcie_configure_type() earlier
      PCI: imx6: Convert to NOIRQ_SYSTEM_SLEEP_PM_OPS()
      ...

commit 7446b157fe9cf03023fe183b3961c243f480e560
Merge: 4a934eca7b39 5050531610a6
Author: Jakub Kicinski <kuba@kernel.org>
Date:   Fri Jul 22 21:44:01 2022 -0700

    Merge branch 'net-usb-ax88179_178a-improvements-and-bug-fixes'
    
    Justin Chen says:
    
    ====================
    net: usb: ax88179_178a: improvements and bug fixes
    
    Power management was partially broken. There were two issues when dropping
    into a sleep state.
    1. Resume was not doing a fully HW restore. Only a partial restore. This
    lead to a couple things being broken on resume. One of them being tcp rx.
    2. wolopt was not being restored properly on resume.
    
    Also did some general improvements and clean up to make it easier to fix
    the issues mentioned above.
    ====================
    
    Link: https://lore.kernel.org/r/1658363296-15734-1-git-send-email-justinpopo6@gmail.com
    Signed-off-by: Jakub Kicinski <kuba@kernel.org>

commit 3cc30140dbe2df9b5ac000898e0ae3d1df980f2c
Merge: 8291eaafed36 32f479d05a44
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Fri May 27 15:25:10 2022 -0700

    Merge tag 'pci-v5.19-changes' of git://git.kernel.org/pub/scm/linux/kernel/git/helgaas/pci
    
    Pull pci updates from Bjorn Helgaas:
     "Resource management:
    
       - Restrict E820 clipping to PCI host bridge windows (Bjorn Helgaas)
    
       - Log E820 clipping better (Bjorn Helgaas)
    
       - Add kernel cmdline options to enable/disable E820 clipping (Hans de
         Goede)
    
       - Disable E820 reserved region clipping for IdeaPads, Yoga, Yoga
         Slip, Acer Spin 5, Clevo Barebone systems where clipping leaves no
         usable address space for touchpads, Thunderbolt devices, etc (Hans
         de Goede)
    
       - Disable E820 clipping by default starting in 2023 (Hans de Goede)
    
      PCI device hotplug:
    
       - Include files to remove implicit dependencies (Christophe Leroy)
    
       - Only put Root Ports in D3 if they can signal and wake from D3 so
         AMD Yellow Carp doesn't miss hotplug events (Mario Limonciello)
    
      Power management:
    
       - Define pci_restore_standard_config() only for CONFIG_PM_SLEEP since
         it's unused otherwise (Krzysztof Kozlowski)
    
       - Power up devices completely, including anything platform firmware
         needs to do, during runtime resume (Rafael J. Wysocki)
    
       - Move pci_resume_bus() to PM callbacks so we observe the required
         bridge power-up delays (Rafael J. Wysocki)
    
       - Drop unneeded runtime_d3cold device flag (Rafael J. Wysocki)
    
       - Split pci_raw_set_power_state() between pci_power_up() and a new
         pci_set_low_power_state() (Rafael J. Wysocki)
    
       - Set current_state to D3cold if config read returns ~0, indicating
         the device is not accessible (Rafael J. Wysocki)
    
       - Do not call pci_update_current_state() from pci_power_up() so BARs
         and ASPM config are restored correctly (Rafael J. Wysocki)
    
       - Write 0 to PMCSR in pci_power_up() in all cases (Rafael J. Wysocki)
    
       - Split pci_power_up() to pci_set_full_power_state() to avoid some
         redundant operations (Rafael J. Wysocki)
    
       - Skip restoring BARs if device is not in D0 (Rafael J. Wysocki)
    
       - Rearrange and clarify pci_set_power_state() (Rafael J. Wysocki)
    
       - Remove redundant BAR restores from pci_pm_thaw_noirq() (Rafael J.
         Wysocki)
    
      Virtualization:
    
       - Acquire device lock before config space access lock to avoid AB/BA
         deadlock with sriov_numvfs_store() (Yicong Yang)
    
      Error handling:
    
       - Clear MULTI_ERR_COR/UNCOR_RCV bits, which a race could previously
         leave permanently set (Kuppuswamy Sathyanarayanan)
    
      Peer-to-peer DMA:
    
       - Whitelist Intel Skylake-E Root Ports regardless of which devfn they
         are (Shlomo Pongratz)
    
      ASPM:
    
       - Override L1 acceptable latency advertised by Intel DG2 so ASPM L1
         can be enabled (Mika Westerberg)
    
      Cadence PCIe controller driver:
    
       - Set up device-specific register to allow PTM Responder to be
         enabled by the normal architected bit (Christian Gmeiner)
    
       - Override advertised FLR support since the controller doesn't
         implement FLR correctly (Parshuram Thombare)
    
      Cadence PCIe endpoint driver:
    
       - Correct bitmap size for the ob_region_map of outbound window usage
         (Dan Carpenter)
    
      Freescale i.MX6 PCIe controller driver:
    
       - Fix PERST# assertion/deassertion so we observe the required delays
         before accessing device (Francesco Dolcini)
    
      Freescale Layerscape PCIe controller driver:
    
       - Add "big-endian" DT property (Hou Zhiqiang)
    
       - Update SCFG DT property (Hou Zhiqiang)
    
       - Add "aer", "pme", "intr" DT properties (Li Yang)
    
       - Add DT compatible strings for ls1028a (Xiaowei Bao)
    
      Intel VMD host bridge driver:
    
       - Assign VMD IRQ domain before enumeration to avoid IOMMU interrupt
         remapping errors when MSI-X remapping is disabled (Nirmal Patel)
    
       - Revert VMD workaround that kept MSI-X remapping enabled when IOMMU
         remapping was enabled (Nirmal Patel)
    
      Marvell MVEBU PCIe controller driver:
    
       - Add of_pci_get_slot_power_limit() to parse the
         'slot-power-limit-milliwatt' DT property (Pali Rohár)
    
       - Add mvebu support for sending Set_Slot_Power_Limit message (Pali
         Rohár)
    
      MediaTek PCIe controller driver:
    
       - Fix refcount leak in mtk_pcie_subsys_powerup() (Miaoqian Lin)
    
      MediaTek PCIe Gen3 controller driver:
    
       - Reset PHY and MAC at probe time (AngeloGioacchino Del Regno)
    
      Microchip PolarFlare PCIe controller driver:
    
       - Add chained_irq_enter()/chained_irq_exit() calls to mc_handle_msi()
         and mc_handle_intx() to avoid lost interrupts (Conor Dooley)
    
       - Fix interrupt handling race (Daire McNamara)
    
      NVIDIA Tegra194 PCIe controller driver:
    
       - Drop tegra194 MSI register save/restore, which is unnecessary since
         the DWC core does it (Jisheng Zhang)
    
      Qualcomm PCIe controller driver:
    
       - Add SM8150 SoC DT binding and support (Bhupesh Sharma)
    
       - Fix pipe clock imbalance (Johan Hovold)
    
       - Fix runtime PM imbalance on probe errors (Johan Hovold)
    
       - Fix PHY init imbalance on probe errors (Johan Hovold)
    
       - Convert DT binding to YAML (Dmitry Baryshkov)
    
       - Update DT binding to show that resets aren't required for
         MSM8996/APQ8096 platforms (Dmitry Baryshkov)
    
       - Add explicit register names per chipset in DT binding (Dmitry
         Baryshkov)
    
       - Add sc7280-specific clock and reset definitions to DT binding
         (Dmitry Baryshkov)
    
      Rockchip PCIe controller driver:
    
       - Fix bitmap size when searching for free outbound region (Dan
         Carpenter)
    
      Rockchip DesignWare PCIe controller driver:
    
       - Remove "snps,dw-pcie" from rockchip-dwc DT "compatible" property
         because it's not fully compatible with rockchip (Peter Geis)
    
       - Reset rockchip-dwc controller at probe (Peter Geis)
    
       - Add rockchip-dwc INTx support (Peter Geis)
    
      Synopsys DesignWare PCIe controller driver:
    
       - Return error instead of success if DMA mapping of MSI area fails
         (Jiantao Zhang)
    
      Miscellaneous:
    
       - Change pci_set_dma_mask() documentation references to
         dma_set_mask() (Alex Williamson)"
    
    * tag 'pci-v5.19-changes' of git://git.kernel.org/pub/scm/linux/kernel/git/helgaas/pci: (64 commits)
      dt-bindings: PCI: qcom: Add schema for sc7280 chipset
      dt-bindings: PCI: qcom: Specify reg-names explicitly
      dt-bindings: PCI: qcom: Do not require resets on msm8996 platforms
      dt-bindings: PCI: qcom: Convert to YAML
      PCI: qcom: Fix unbalanced PHY init on probe errors
      PCI: qcom: Fix runtime PM imbalance on probe errors
      PCI: qcom: Fix pipe clock imbalance
      PCI: qcom: Add SM8150 SoC support
      dt-bindings: pci: qcom: Document PCIe bindings for SM8150 SoC
      x86/PCI: Disable E820 reserved region clipping starting in 2023
      x86/PCI: Disable E820 reserved region clipping via quirks
      x86/PCI: Add kernel cmdline options to use/ignore E820 reserved regions
      PCI: microchip: Fix potential race in interrupt handling
      PCI/AER: Clear MULTI_ERR_COR/UNCOR_RCV bits
      PCI: cadence: Clear FLR in device capabilities register
      PCI: cadence: Allow PTM Responder to be enabled
      PCI: vmd: Revert 2565e5b69c44 ("PCI: vmd: Do not disable MSI-X remapping if interrupt remapping is enabled by IOMMU.")
      PCI: vmd: Assign VMD IRQ domain before enumeration
      PCI: Avoid pci_dev_lock() AB/BA deadlock with sriov_numvfs_store()
      PCI: rockchip-dwc: Add legacy interrupt support
      ...

commit ec432e2a51412bde3d2d9fa785d3812f55ccd696
Merge: 37a86b32bf0e c8c960c10971
Author: Mark Brown <broonie@kernel.org>
Date:   Tue May 17 18:19:35 2022 +0100

    ASoC: Intel: avs: Driver core and PCM operations
    
    Merge series from Cezary Rojewski <cezary.rojewski@intel.com>:
    
    Part three of main AVS driver series. This series was originally part of
    the initial series which was later divided [1] into smaller,
    easier-to-review chunks. Thus, many patches found here were already
    present on the list.
    
    This series consists of code typical to many drivers - PCI driver
    operations, trace ability, PM operations - as well as PCM handlers for
    all standard audio interfaces, that is, HDA, I2S and DMIC are found
    here.
    
    Series starts with updating firmware boot flow - libraries are no longer
    ignored. This change is dependent on already merged topology code [2]
    and because of that could not be part of the initial series [1].
    
    PCM operations are split into four changes. First component operations
    alone i.e. operations which are usually agnostic towards path position
    (FE/BE). Then it continues with "generic" FE operations - there is no
    interface split here as from Intel ADSP point of view, FE, or HOST side
    as it's called in the specs, involves HD-Audio operations only.
    BE (also known as LINK) side on the other hand is divided into
    "non-HD-Audio" and HD-Audio part. The former represents transfer over
    DMIC and I2S interfaces both.
    
    While patches implementing standard PCI driver operations along (again
    standard) HD-Audio initialization routines followed up by power
    management handlers are two major ones, series covers also other
    important subjects such as:
    
    While patches implementing standard PCI driver operations along (again
    standard) HD-Audio initialization routines followed up by power
    management handlers are two major ones, series covers also other
    important subjects such as:
    
    - event tracing
    - preparation for firmware tracing (debugability)
    - coredump (debugability)
    - recovery flow (attempt recovery after IPC timeout or exception)
    - D0ix (D0 device substate, complements standard power management)
    
    Series is finalized by actual addition of supported platforms: SKL and
    APL-based. Platform-specific files are limited to firmware-specific
    bits, that is, bits that are specific to given firmware generation.
    Everything else is shared and is part of already upstream messaging
    code found in ipc.c, messages.c and messages.h files.
    
    Changes in v3:
    - addressed (hopefully) trace-code compilation under .configs with
      CONFIG_FTRACE dropped
    
    Changes in v2:
    - usage of avs_releast_last_firmware() dropped in error path for library
      loading procedure as suggested by Pierre
    - 'link_mask' usage replaced with 'i2s_link_mask' as requested by
      Pierre. Existing code addressed with new patch:
      "ASoC: Intel: avs: Replace link_mask usage with i2s_link_mask"
    - fixed possible race during recovery flow (->recovering flag is now
      atomic and tested in single location only).
    - dropped platform prefixes for basically all i2s board descriptors
    - 'ssp_test' renamed to 'i2s_test' to match naming convention of other
      boards
    - simplified PM implementation for current series, 'low_power' bits
      moved to future series
    - replaced SND_INTEL_DSP_DRIVER_SST with _AVS as suggested by Mark.
      Required changes to intel-dspcfg will be added in future series
    - number of typos across commit messages addressed
    
    [1]: https://lore.kernel.org/all/20220311153544.136854-1-cezary.rojewski@intel.com/
    [2]: https://lore.kernel.org/all/20220331135246.993089-1-cezary.rojewski@intel.com/
    
    Cezary Rojewski (14):
      ASoC: Intel: avs: Account for libraries when booting basefw
      ASoC: Intel: avs: Generic soc component driver
      ASoC: Intel: avs: Generic PCM FE operations
      ASoC: Intel: avs: non-HDA PCM BE operations
      ASoC: Intel: avs: HDA PCM BE operations
      ASoC: Intel: avs: Coredump and recovery flow
      ASoC: Intel: avs: Prepare for firmware tracing
      ASoC: Intel: avs: D0ix power state support
      ASoC: Intel: avs: Event tracing
      ASoC: Intel: avs: Machine board registration
      ASoC: Intel: avs: PCI driver implementation
      ASoC: Intel: avs: Power management
      ASoC: Intel: avs: SKL-based platforms support
      ASoC: Intel: avs: APL-based platforms support
    
    Piotr Maziarz (1):
      ASoC: Intel: avs: Replace link_mask usage with i2s_link_mask
    
     include/sound/intel-dsp-config.h      |    3 +-
     include/sound/soc-acpi.h              |    2 +
     sound/soc/intel/Kconfig               |    2 +
     sound/soc/intel/avs/Makefile          |    7 +-
     sound/soc/intel/avs/apl.c             |  250 ++++++
     sound/soc/intel/avs/avs.h             |   79 ++
     sound/soc/intel/avs/board_selection.c |  501 +++++++++++
     sound/soc/intel/avs/core.c            |  631 +++++++++++++
     sound/soc/intel/avs/dsp.c             |   27 +-
     sound/soc/intel/avs/ipc.c             |  253 +++++-
     sound/soc/intel/avs/loader.c          |   84 ++
     sound/soc/intel/avs/messages.c        |   35 +-
     sound/soc/intel/avs/messages.h        |   51 ++
     sound/soc/intel/avs/pcm.c             | 1182 +++++++++++++++++++++++++
     sound/soc/intel/avs/registers.h       |    8 +
     sound/soc/intel/avs/skl.c             |  125 +++
     sound/soc/intel/avs/topology.c        |   14 +-
     sound/soc/intel/avs/trace.c           |   33 +
     sound/soc/intel/avs/trace.h           |  154 ++++
     sound/soc/intel/avs/utils.c           |   23 +
     20 files changed, 3443 insertions(+), 21 deletions(-)
     create mode 100644 sound/soc/intel/avs/apl.c
     create mode 100644 sound/soc/intel/avs/board_selection.c
     create mode 100644 sound/soc/intel/avs/pcm.c
     create mode 100644 sound/soc/intel/avs/skl.c
     create mode 100644 sound/soc/intel/avs/trace.c
     create mode 100644 sound/soc/intel/avs/trace.h
    
    --
    2.25.1

commit cfbc100e6bbfd01a56bb83fe796318a02dc18ce4
Author: Cezary Rojewski <cezary.rojewski@intel.com>
Date:   Mon May 16 12:11:14 2022 +0200

    ASoC: Intel: avs: Power management
    
    To preserve power during sleep operations, handle suspend (S3),
    hibernation (S4) and runtime (RTD3) transitions. As flow for all of
    is shared, define common handlers to reduce code size.
    
    Signed-off-by: Amadeusz Sławiński <amadeuszx.slawinski@linux.intel.com>
    Signed-off-by: Cezary Rojewski <cezary.rojewski@intel.com>
    Link: https://lore.kernel.org/r/20220516101116.190192-14-cezary.rojewski@intel.com
    Signed-off-by: Mark Brown <broonie@kernel.org>

commit dbe946287e0825f0e9cd4cbeacfcde9d9b2dd168
Merge: 19df0cfa258c d68cf992ded5
Author: Dave Airlie <airlied@redhat.com>
Date:   Thu Apr 28 14:33:20 2022 +1000

    Merge tag 'amd-drm-next-5.19-2022-04-15' of https://gitlab.freedesktop.org/agd5f/linux into drm-next
    
    amd-drm-next-5.19-2022-04-15:
    
    amdgpu:
    - USB-C updates
    - GPUVM updates
    - TMZ fixes for RV
    - DCN 3.1 pstate fixes
    - Display z state fixes
    - RAS fixes
    - Misc code cleanups and spelling fixes
    - More DC FP rework
    - GPUVM TLB handling rework
    - Power management sysfs code cleanup
    - Add RAS support for VCN
    - Backlight fix
    - Add unique id support for more asics
    - Misc display updates
    - SR-IOV fixes
    - Extend CG and PG flags to 64 bits
    - Enable VCN clk sysfs nodes for navi12
    
    amdkfd:
    - Fix IO link cleanup during device removal
    - RAS fixes
    - Retry fault fixes
    - Asynchronously free events
    - SVM fixes
    
    radeon:
    - Drop some dead code
    - Misc code cleanups
    
    From: Alex Deucher <alexander.deucher@amd.com>
    Link: https://patchwork.freedesktop.org/patch/msgid/20220415135144.5700-1-alexander.deucher@amd.com
    Signed-off-by: Dave Airlie <airlied@redhat.com>

commit 615dce5bf7369334f8c4f19f7f8f2a5634b4f911
Author: Arnd Bergmann <arnd@arndb.de>
Date:   Thu Sep 12 10:11:24 2019 +0200

    ARM: omap1: fix build with no SoC selected
    
    In a multiplatform randconfig kernel, one can have
    CONFIG_ARCH_OMAP1 enabled, but none of the specific SoCs.
    This leads to some build issues as the code is not
    meant to deal with this configuration at the moment:
    
    arch/arm/mach-omap1/io.c:86:20: error: unused function 'omap1_map_common_io' [-Werror,-Wunused-function]
    arch/arm/mach-omap1/pm.h:113:2: error: "Power management for this processor not implemented yet" [-Werror,-W#warnings]
    
    Use the same trick as on OMAP2 and guard the actual compilation
    of platform code with another Makefile ifdef check based
    on an option that depends on having at least one SoC enabled.
    
    The io.c file still needs to get compiled to allow building
    device drivers with a dependency on CONFIG_ARCH_OMAP1.
    
    Acked-by: Tony Lindgren <tony@atomide.com>
    Signed-off-by: Arnd Bergmann <arnd@arndb.de>

commit d0a231f01e5b25bacd23e6edc7c979a18a517b2b
Merge: 88db8458086b 87c71931633b
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Sun Jan 16 08:08:11 2022 +0200

    Merge tag 'pci-v5.17-changes' of git://git.kernel.org/pub/scm/linux/kernel/git/helgaas/pci
    
    Pull pci updates from Bjorn Helgaas:
     "Enumeration:
       - Use pci_find_vsec_capability() instead of open-coding it (Andy
         Shevchenko)
       - Convert pci_dev_present() stub from macro to static inline to avoid
         'unused variable' errors (Hans de Goede)
       - Convert sysfs slot attributes from default_attrs to default_groups
         (Greg Kroah-Hartman)
       - Use DWORD accesses for LTR, L1 SS to avoid BayHub OZ711LV2 erratum
         (Rajat Jain)
       - Remove unnecessary initialization of static variables (Longji Guo)
    
      Resource management:
       - Always write Intel I210 ROM BAR on update to work around device
         defect (Bjorn Helgaas)
    
      PCIe native device hotplug:
       - Fix pciehp lockdep errors on Thunderbolt undock (Hans de Goede)
       - Fix infinite loop in pciehp IRQ handler on power fault (Lukas
         Wunner)
    
      Power management:
       - Convert amd64-agp, sis-agp, via-agp from legacy PCI power
         management to generic power management (Vaibhav Gupta)
    
      IOMMU:
       - Add function 1 DMA alias quirk for Marvell 88SE9125 SATA controller
         so it can work with an IOMMU (Yifeng Li)
    
      Error handling:
       - Add PCI_ERROR_RESPONSE and related definitions for signaling and
         checking for transaction errors on PCI (Naveen Naidu)
       - Fabricate PCI_ERROR_RESPONSE data (~0) in config read wrappers,
         instead of in host controller drivers, when transactions fail on
         PCI (Naveen Naidu)
       - Use PCI_POSSIBLE_ERROR() to check for possible failure of config
         reads (Naveen Naidu)
    
      Peer-to-peer DMA:
       - Add Logan Gunthorpe as P2PDMA maintainer (Bjorn Helgaas)
    
      ASPM:
       - Calculate link L0s and L1 exit latencies when needed instead of
         caching them (Saheed O. Bolarinwa)
       - Calculate device L0s and L1 acceptable exit latencies when needed
         instead of caching them (Saheed O. Bolarinwa)
       - Remove struct aspm_latency since it's no longer needed (Saheed O.
         Bolarinwa)
    
      APM X-Gene PCIe controller driver:
       - Fix IB window setup, which was broken by the fact that IB resources
         are now sorted in address order instead of DT dma-ranges order (Rob
         Herring)
    
      Apple PCIe controller driver:
       - Enable clock gating to save power (Hector Martin)
       - Fix REFCLK1 enable/poll logic (Hector Martin)
    
      Broadcom STB PCIe controller driver:
       - Declare bitmap correctly for use by bitmap interfaces (Christophe
         JAILLET)
       - Clean up computation of legacy and non-legacy MSI bitmasks (Florian
         Fainelli)
       - Update suspend/resume/remove error handling to warn about errors
         and not fail the operation (Jim Quinlan)
       - Correct the "pcie" and "msi" interrupt descriptions in DT binding
         (Jim Quinlan)
       - Add DT bindings for endpoint voltage regulators (Jim Quinlan)
       - Split brcm_pcie_setup() into two functions (Jim Quinlan)
       - Add mechanism for turning on voltage regulators for connected
         devices (Jim Quinlan)
       - Turn voltage regulators for connected devices on/off when bus is
         added or removed (Jim Quinlan)
       - When suspending, don't turn off voltage regulators for wakeup
         devices (Jim Quinlan)
    
      Freescale i.MX6 PCIe controller driver:
       - Add i.MX8MM support (Richard Zhu)
    
      Freescale Layerscape PCIe controller driver:
       - Use DWC common ops instead of layerscape-specific link-up functions
         (Hou Zhiqiang)
    
      Intel VMD host bridge driver:
       - Honor platform ACPI _OSC feature negotiation for Root Ports below
         VMD (Kai-Heng Feng)
       - Add support for Raptor Lake SKUs (Karthik L Gopalakrishnan)
       - Reset everything below VMD before enumerating to work around
         failure to enumerate NVMe devices when guest OS reboots (Nirmal
         Patel)
    
      Bridge emulation (used by Marvell Aardvark and MVEBU):
       - Make emulated ROM BAR read-only by default (Pali Rohár)
       - Make some emulated legacy PCI bits read-only for PCIe devices (Pali
         Rohár)
       - Update reserved bits in emulated PCIe Capability (Pali Rohár)
       - Allow drivers to emulate different PCIe Capability versions (Pali
         Rohár)
       - Set emulated Capabilities List bit for all PCIe devices, since they
         must have at least a PCIe Capability (Pali Rohár)
    
      Marvell Aardvark PCIe controller driver:
       - Add bridge emulation definitions for PCIe DEVCAP2, DEVCTL2,
         DEVSTA2, LNKCAP2, LNKCTL2, LNKSTA2, SLTCAP2, SLTCTL2, SLTSTA2 (Pali
         Rohár)
       - Add aardvark support for DEVCAP2, DEVCTL2, LNKCAP2 and LNKCTL2
         registers (Pali Rohár)
       - Clear all MSIs at setup to avoid spurious interrupts (Pali Rohár)
       - Disable bus mastering when unbinding host controller driver (Pali
         Rohár)
       - Mask all interrupts when unbinding host controller driver (Pali
         Rohár)
       - Fix memory leak in host controller unbind (Pali Rohár)
       - Assert PERST# when unbinding host controller driver (Pali Rohár)
       - Disable link training when unbinding host controller driver (Pali
         Rohár)
       - Disable common PHY when unbinding host controller driver (Pali
         Rohár)
       - Fix resource type checking to check only IORESOURCE_MEM, not
         IORESOURCE_MEM_64, which is a flavor of IORESOURCE_MEM (Pali Rohár)
    
      Marvell MVEBU PCIe controller driver:
       - Implement pci_remap_iospace() for ARM so mvebu can use
         devm_pci_remap_iospace() instead of the previous ARM-specific
         pci_ioremap_io() interface (Pali Rohár)
       - Use the standard pci_host_probe() instead of the device-specific
         mvebu_pci_host_probe() (Pali Rohár)
       - Replace all uses of ARM-specific pci_ioremap_io() with the ARM
         implementation of the standard pci_remap_iospace() interface and
         remove pci_ioremap_io() (Pali Rohár)
       - Skip initializing invalid Root Ports (Pali Rohár)
       - Check for errors from pci_bridge_emul_init() (Pali Rohár)
       - Ignore any bridges at non-zero function numbers (Pali Rohár)
       - Return ~0 data for invalid config read size (Pali Rohár)
       - Disallow mapping interrupts on emulated bridges (Pali Rohár)
       - Clear Root Port Memory & I/O Space Enable and Bus Master Enable at
         initialization (Pali Rohár)
       - Make type bits in Root Port I/O Base register read-only (Pali
         Rohár)
       - Disable Root Port windows when base/limit set to invalid values
         (Pali Rohár)
       - Set controller to Root Complex mode (Pali Rohár)
       - Set Root Port Class Code to PCI Bridge (Pali Rohár)
       - Update emulated Root Port secondary bus numbers to better reflect
         the actual topology (Pali Rohár)
       - Add PCI_BRIDGE_CTL_BUS_RESET support to emulated Root Ports so
         pci_reset_secondary_bus() can reset connected devices (Pali Rohár)
       - Add PCI_EXP_DEVCTL Error Reporting Enable support to emulated Root
         Ports (Pali Rohár)
       - Add PCI_EXP_RTSTA PME Status bit support to emulated Root Ports
         (Pali Rohár)
       - Add DEVCAP2, DEVCTL2 and LNKCTL2 support to emulated Root Ports on
         Armada XP and newer devices (Pali Rohár)
       - Export mvebu-mbus.c symbols to allow pci-mvebu.c to be a module
         (Pali Rohár)
       - Add support for compiling as a module (Pali Rohár)
    
      MediaTek PCIe controller driver:
       - Assert PERST# for 100ms to allow power and clock to stabilize
         (qizhong cheng)
    
      MediaTek PCIe Gen3 controller driver:
       - Disable Mediatek DVFSRC voltage request since lack of DVFSRC to
         respond to the request causes failure to exit L1 PM Substate
         (Jianjun Wang)
    
      MediaTek MT7621 PCIe controller driver:
       - Declare mt7621_pci_ops static (Sergio Paracuellos)
       - Give pcibios_root_bridge_prepare() access to host bridge windows
         (Sergio Paracuellos)
       - Move MIPS I/O coherency unit setup from driver to
         pcibios_root_bridge_prepare() (Sergio Paracuellos)
       - Add missing MODULE_LICENSE() (Sergio Paracuellos)
       - Allow COMPILE_TEST for all arches (Sergio Paracuellos)
    
      Microsoft Hyper-V host bridge driver:
       - Add hv-internal interfaces to encapsulate arch IRQ dependencies
         (Sunil Muthuswamy)
       - Add arm64 Hyper-V vPCI support (Sunil Muthuswamy)
    
      Qualcomm PCIe controller driver:
       - Undo PM setup in qcom_pcie_probe() error handling path (Christophe
         JAILLET)
       - Use __be16 type to store return value from cpu_to_be16()
         (Manivannan Sadhasivam)
       - Constify static dw_pcie_ep_ops (Rikard Falkeborn)
    
      Renesas R-Car PCIe controller driver:
       - Fix aarch32 abort handler so it doesn't check the wrong bus clock
         before accessing the host controller (Marek Vasut)
    
      TI Keystone PCIe controller driver:
       - Add register offset for ti,syscon-pcie-id and ti,syscon-pcie-mode
         DT properties (Kishon Vijay Abraham I)
    
      MicroSemi Switchtec management driver:
       - Add Gen4 automotive device IDs (Kelvin Cao)
       - Declare state_names[] as static so it's not allocated and
         initialized for every call (Kelvin Cao)
    
      Host controller driver cleanups:
       - Use of_device_get_match_data(), not of_match_device(), when we only
         need the device data in altera, artpec6, cadence, designware-plat,
         dra7xx, keystone, kirin (Fan Fei)
       - Drop pointless of_device_get_match_data() cast in j721e (Bjorn
         Helgaas)
       - Drop redundant struct device * from j721e since struct cdns_pcie
         already has one (Bjorn Helgaas)
       - Rename driver structs to *_pcie in intel-gw, iproc, ls-gen4,
         mediatek-gen3, microchip, mt7621, rcar-gen2, tegra194, uniphier,
         xgene, xilinx, xilinx-cpm for consistency across drivers (Fan Fei)
       - Fix invalid address space conversions in hisi, spear13xx (Bjorn
         Helgaas)
    
      Miscellaneous:
       - Sort Intel Device IDs by value (Andy Shevchenko)
       - Change Capability offsets to hex to match spec (Baruch Siach)
       - Correct misspellings (Krzysztof Wilczyński)
       - Terminate statement with semicolon in pci_endpoint_test.c (Ming
         Wang)"
    
    * tag 'pci-v5.17-changes' of git://git.kernel.org/pub/scm/linux/kernel/git/helgaas/pci: (151 commits)
      PCI: mt7621: Allow COMPILE_TEST for all arches
      PCI: mt7621: Add missing MODULE_LICENSE()
      PCI: mt7621: Move MIPS setup to pcibios_root_bridge_prepare()
      PCI: Let pcibios_root_bridge_prepare() access bridge->windows
      PCI: mt7621: Declare mt7621_pci_ops static
      PCI: brcmstb: Do not turn off WOL regulators on suspend
      PCI: brcmstb: Add control of subdevice voltage regulators
      PCI: brcmstb: Add mechanism to turn on subdev regulators
      PCI: brcmstb: Split brcm_pcie_setup() into two funcs
      dt-bindings: PCI: Add bindings for Brcmstb EP voltage regulators
      dt-bindings: PCI: Correct brcmstb interrupts, interrupt-map.
      PCI: brcmstb: Fix function return value handling
      PCI: brcmstb: Do not use __GENMASK
      PCI: brcmstb: Declare 'used' as bitmap, not unsigned long
      PCI: hv: Add arm64 Hyper-V vPCI support
      PCI: hv: Make the code arch neutral by adding arch specific interfaces
      PCI: pciehp: Use down_read/write_nested(reset_lock) to fix lockdep errors
      x86/PCI: Remove initialization of static variables to false
      PCI: Use DWORD accesses for LTR, L1 SS to avoid erratum
      misc: pci_endpoint_test: Terminate statement with semicolon
      ...

commit e0d07ba76bd1b074505e4b3b32fe45c3b5d087bd
Merge: e681a9d2050c fa487b2a900d
Author: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
Date:   Mon Jan 3 13:21:58 2022 +0100

    Merge tag 'thunderbolt-for-v5.17-rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/westeri/thunderbolt into usb-next
    
    Mika writes:
    
    thunderbolt: Changes for v5.17 merge window
    
    This includes following Thunderbolt/USB4 changes for the v5.17 merge
    window:
    
      * Enable low-power link state (CL0s) for USB4 and Intel Titan Ridge
        devices
      * Add support for TMU (Time Management Unit) uni-directional mode
      * Power management improvements (suspend-to-disk, runtime PM)
      * USB4 compatibility fixes
      * Minor fixes and cleanups.
    
    All these have been in linux-next with no reported issues.
    
    * tag 'thunderbolt-for-v5.17-rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/westeri/thunderbolt:
      thunderbolt: Add module parameter for CLx disabling
      thunderbolt: Enable CL0s for Intel Titan Ridge
      thunderbolt: Rename Intel TB_VSE_CAP_IECS capability
      thunderbolt: Implement TMU time disruption for Intel Titan Ridge
      thunderbolt: Move usb4_switch_wait_for_bit() to switch.c
      thunderbolt: Add CL0s support for USB4 routers
      thunderbolt: Add TMU uni-directional mode
      thunderbolt: Check return value of kmemdup() in icm_handle_event()
      thunderbolt: Do not dereference fwnode in struct device
      thunderbolt: Add debug logging of DisplayPort resource allocation
      thunderbolt: Do not program path HopIDs for USB4 routers
      thunderbolt: Do not allow subtracting more NFC credits than configured
      thunderbolt: Runtime resume USB4 port when retimers are scanned
      thunderbolt: Tear down existing tunnels when resuming from hibernate
      thunderbolt: Runtime PM activate both ends of the device link
      thunderbolt: xdomain: Avoid potential stack OOB read

commit b43e2d554ab09a836da14c70384698395ac116bf
Merge: a379e16ab8ae af9617b419f7 8d27b14775a4 bada0389c2d8 0b59e619ef24
Author: Stephen Boyd <sboyd@kernel.org>
Date:   Tue Nov 2 11:26:51 2021 -0700

    Merge branches 'clk-leak', 'clk-rockchip', 'clk-renesas' and 'clk-at91' into clk-next
    
     - Clock power management for new SAMA7G5 SoC
     - Updates to the master clock driver and sam9x60-pll to be able to use
       cpufreq-dt driver and avoid overclocking of CPU and MCK0 domains while
       changing the frequency via DVFS
     - Power management refinement with the use of save_context()/restore_context()
       on each clock driver to specify their use in case of Backup mode only
    
    * clk-leak:
      clk: mvebu: ap-cpu-clk: Fix a memory leak in error handling paths
    
    * clk-rockchip:
      clk: rockchip: use module_platform_driver_probe
      clk: rockchip: rk3399: expose PCLK_COREDBG_{B,L}
      clk: rockchip: rk3399: make CPU clocks critical
    
    * clk-renesas:
      clk: renesas: r8a779[56]x: Add MLP clocks
      clk: renesas: r9a07g044: Add SDHI clock and reset entries
      clk: renesas: rzg2l: Add SDHI clk mux support
      clk: renesas: r8a779a0: Add RPC support
      clk: renesas: cpg-lib: Move RPC clock registration to the library
      clk: renesas: r9a07g044: Add clock and reset entries for SPI Multi I/O Bus Controller
      clk: renesas: r8a779a0: Add Z0 and Z1 clock support
      clk: renesas: r9a07g044: Add GbEthernet clock/reset
      clk: renesas: rzg2l: Add support to handle coupled clocks
      clk: renesas: r9a07g044: Add ethernet clock sources
      clk: renesas: rzg2l: Add support to handle MUX clocks
      clk: renesas: r8a779a0: Add TPU clock
      clk: renesas: rzg2l: Fix clk status function
      clk: renesas: r9a07g044: Mark IA55_CLK and DMAC_ACLK critical
    
    * clk-at91:
      clk: at91: sama7g5: set low limit for mck0 at 32KHz
      clk: at91: sama7g5: remove prescaler part of master clock
      clk: at91: clk-master: add notifier for divider
      clk: at91: clk-sam9x60-pll: add notifier for div part of PLL
      clk: at91: clk-master: fix prescaler logic
      clk: at91: clk-master: mask mckr against layout->mask
      clk: at91: clk-master: check if div or pres is zero
      clk: at91: sam9x60-pll: use DIV_ROUND_CLOSEST_ULL
      clk: at91: pmc: add sama7g5 to the list of available pmcs
      clk: at91: clk-master: improve readability by using local variables
      clk: at91: clk-master: add register definition for sama7g5's master clock
      clk: at91: sama7g5: add securam's peripheral clock
      clk: at91: pmc: execute suspend/resume only for backup mode
      clk: at91: re-factor clocks suspend/resume
      clk: at91: check pmc node status before registering syscore ops

commit 83ec91697412ae64d25dcca74597ed03029aa00d
Merge: c793011242d1 46a226b50ec3
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Thu Sep 2 14:30:46 2021 -0700

    Merge branch 'for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/hid/hid
    
    Pull HID updates from Jiri Kosina:
    
     - Fix in i2c-hid driver for Elan touchpad quirk regression (Jim
       Broadus)
    
     - Quirk preventing ASUS Claymore from accidentally suspending whole
       system (Luke D. Jones)
    
     - Updates to the existing FW reporting mechanism, MP2 FW status checks,
       adding proper power management support for amd-sfh (Basavaraj
       Natikar)
    
     - Regression fix for an issue in HID core that got uncovered by recent
       USB core cleanup leading to issues when transfer_buffer_length is not
       in line with wLength (Alan Stern)
    
     - Memory leak fix in USB HID core (Anirudh Rayabharam)
    
     - Improvement of stylus battery reporting (Dmitry Torokhov)
    
     - Power management improvement for Goodix driver (Douglas Anderson)
    
     - High-resolution scroll support for Magicmouse devices (José Expósito)
    
     - Support for GHLive PS4 dongles (Daniel Nguyen)
    
     - Support proper EV_MSC emissions to hid-apple (Vincent Lefevre)
    
    * 'for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/hid/hid: (31 commits)
      HID: usbhid: Simplify code in hid_submit_ctrl()
      HID: usbhid: Fix warning caused by 0-length input reports
      HID: usbhid: Fix flood of "control queue full" messages
      HID: sony: Fix more ShanWan clone gamepads to not rumble when plugged in.
      HID: sony: support for the ghlive ps4 dongles
      HID: thrustmaster: clean up Makefile and adapt quirks
      HID: i2c-hid: Fix Elan touchpad regression
      HID: asus: Prevent Claymore sending suspend event
      HID: amd_sfh: Add dyndbg prints for debugging
      HID: amd_sfh: Add support for PM suspend and resume
      HID: amd_sfh: Move hid probe after sensor is enabled
      HID: amd_sfh: Add command response to check command status
      HID: amd_sfh: Fix period data field to enable sensor
      HID: logitech-hidpp: battery: provide CAPACITY property for newer devices
      HID: thrustmaster: Fix memory leak in thrustmaster_interrupts()
      HID: thrustmaster: Fix memory leak in remove
      HID: thrustmaster: Fix memory leaks in probe
      HID: elo: update the reference count of the usb device structure
      HID: logitech-hidpp: Use 'atomic_inc_return' instead of hand-writing it
      HID: apple: Add missing scan code event for keys handled by hid-apple
      ...

commit 318845985fa032a865784ef5373f182fcdf037a9
Merge: 12c3dca25d2f ad9bc2e35cf5
Author: Arnd Bergmann <arnd@arndb.de>
Date:   Wed Aug 4 15:58:24 2021 +0200

    Merge tag 'at91-soc-5.15' of git://git.kernel.org/pub/scm/linux/kernel/git/at91/linux into arm/soc
    
    AT91 soc for 5.15:
    
    - add new SoC based on a Cortex-A7 core: the SAMA7G5 family
      - mach-at91 entry, Kconfig and header files
      - Power Management Controller (PMC) code and associated power management
        changes. Support for suspend/resume, Ultra Low Power modes and
        Backup with Memory in Self-Refresh mode.
      - Power management association with DDR controller and
        shutdown controller for addressing this variety of modes.
    
    * tag 'at91-soc-5.15' of git://git.kernel.org/pub/scm/linux/kernel/git/at91/linux: (26 commits)
      ARM: at91: pm: add sama7g5 shdwc
      ARM: at91: pm: add pm support for SAMA7G5
      ARM: at91: sama7: introduce sama7 SoC family
      ARM: at91: pm: add sama7g5's pmc
      ARM: at91: pm: add backup mode support for SAMA7G5
      ARM: at91: pm: save ddr phy calibration data to securam
      ARM: at91: pm: add sama7g5 ddr phy controller
      ARM: at91: pm: add sama7g5 ddr controller
      ARM: at91: pm: wait for ddr power mode off
      ARM: at91: pm: add support for 2.5V LDO regulator control
      ARM: at91: pm: add support for MCK1..4 save/restore for ulp modes
      ARM: at91: pm: add self-refresh support for sama7g5
      ARM: at91: ddr: add registers definitions for sama7g5's ddr
      ARM: at91: sfrbu: add sfrbu registers definitions for sama7g5
      ARM: at91: pm: add support for waiting MCK1..4
      ARM: at91: pm: s/CONFIG_SOC_SAM9X60/CONFIG_HAVE_AT91_SAM9X60_PLL/g
      ARM: at91: pm: avoid push and pop on stack while memory is in self-refersh
      ARM: at91: pm: use r7 instead of tmp1
      ARM: at91: pm: do not initialize pdev
      ARM: at91: pm: check for different controllers in at91_pm_modes_init()
      ...
    
    Link: https://lore.kernel.org/r/20210804084316.12641-1-nicolas.ferre@microchip.com
    Signed-off-by: Arnd Bergmann <arnd@arndb.de>

commit 316a2c9b6a5f6f056441275f748e077027179f36
Merge: f3791f4df569 d58b20611059
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Thu Jul 8 12:06:20 2021 -0700

    Merge tag 'pci-v5.14-changes' of git://git.kernel.org/pub/scm/linux/kernel/git/helgaas/pci
    
    Pull pci updates from Bjorn Helgaas:
     "Enumeration:
       - Fix dsm_label_utf16s_to_utf8s() buffer overrun (Krzysztof
         Wilczyński)
       - Rely on lengths from scnprintf(), dsm_label_utf16s_to_utf8s()
         (Krzysztof Wilczyński)
       - Use sysfs_emit() and sysfs_emit_at() in "show" functions (Krzysztof
         Wilczyński)
       - Fix 'resource_alignment' newline issues (Krzysztof Wilczyński)
       - Add 'devspec' newline (Krzysztof Wilczyński)
       - Dynamically map ECAM regions (Russell King)
    
      Resource management:
       - Coalesce host bridge contiguous apertures (Kai-Heng Feng)
    
      PCIe native device hotplug:
       - Ignore Link Down/Up caused by DPC (Lukas Wunner)
    
      Power management:
       - Leave Apple Thunderbolt controllers on for s2idle or standby
         (Konstantin Kharlamov)
    
      Virtualization:
       - Work around Huawei Intelligent NIC VF FLR erratum (Chiqijun)
       - Clarify error message for unbound IOV devices (Moritz Fischer)
       - Add pci_reset_bus_function() Secondary Bus Reset interface (Raphael
         Norwitz)
    
      Peer-to-peer DMA:
       - Simplify distance calculation (Christoph Hellwig)
       - Finish RCU conversion of pdev->p2pdma (Eric Dumazet)
       - Rename upstream_bridge_distance() and rework doc (Logan Gunthorpe)
       - Collect acs list in stack buffer to avoid sleeping (Logan
         Gunthorpe)
       - Use correct calc_map_type_and_dist() return type (Logan Gunthorpe)
       - Warn if host bridge not in whitelist (Logan Gunthorpe)
       - Refactor pci_p2pdma_map_type() (Logan Gunthorpe)
       - Avoid pci_get_slot(), which may sleep (Logan Gunthorpe)
    
      Altera PCIe controller driver:
       - Add Joyce Ooi as Altera PCIe maintainer (Joyce Ooi)
    
      Broadcom iProc PCIe controller driver:
       - Fix multi-MSI base vector number allocation (Sandor Bodo-Merle)
       - Support multi-MSI only on uniprocessor kernel (Sandor Bodo-Merle)
    
      Freescale i.MX6 PCIe controller driver:
       - Limit DBI register length for imx6qp PCIe (Richard Zhu)
       - Add "vph-supply" for PHY supply voltage (Richard Zhu)
       - Enable PHY internal regulator when supplied >3V (Richard Zhu)
       - Remove imx6_pcie_probe() redundant error message (Zhen Lei)
    
      Intel Gateway PCIe controller driver:
       - Fix INTx enable (Martin Blumenstingl)
    
      Marvell Aardvark PCIe controller driver:
       - Fix checking for PIO Non-posted Request (Pali Rohár)
       - Implement workaround for the readback value of VEND_ID (Pali Rohár)
    
      MediaTek PCIe controller driver:
       - Remove redundant error printing in mtk_pcie_subsys_powerup() (Zhen
         Lei)
    
      MediaTek PCIe Gen3 controller driver:
       - Add missing MODULE_DEVICE_TABLE (Zou Wei)
    
      Microchip PolarFlare PCIe controller driver:
       - Make struct event_descs static (Krzysztof Wilczyński)
    
      Microsoft Hyper-V host bridge driver:
       - Fix race condition when removing the device (Long Li)
       - Remove bus device removal unused refcount/functions (Long Li)
    
      Mobiveil PCIe controller driver:
       - Remove unused readl and writel functions (Krzysztof Wilczyński)
    
      NVIDIA Tegra PCIe controller driver:
       - Add missing MODULE_DEVICE_TABLE (Zou Wei)
    
      NVIDIA Tegra194 PCIe controller driver:
       - Fix tegra_pcie_ep_raise_msi_irq() ill-defined shift (Jon Hunter)
       - Fix host initialization during resume (Vidya Sagar)
    
      Rockchip PCIe controller driver:
       - Register IRQ handlers after device and data are ready (Javier
         Martinez Canillas)"
    
    * tag 'pci-v5.14-changes' of git://git.kernel.org/pub/scm/linux/kernel/git/helgaas/pci: (48 commits)
      PCI/P2PDMA: Finish RCU conversion of pdev->p2pdma
      PCI: xgene: Annotate __iomem pointer
      PCI: Fix kernel-doc formatting
      PCI: cpcihp: Declare cpci_debug in header file
      MAINTAINERS: Add Joyce Ooi as Altera PCIe maintainer
      PCI: rockchip: Register IRQ handlers after device and data are ready
      PCI: tegra194: Fix tegra_pcie_ep_raise_msi_irq() ill-defined shift
      PCI: aardvark: Implement workaround for the readback value of VEND_ID
      PCI: aardvark: Fix checking for PIO Non-posted Request
      PCI: tegra194: Fix host initialization during resume
      PCI: tegra: Add missing MODULE_DEVICE_TABLE
      PCI: imx6: Enable PHY internal regulator when supplied >3V
      dt-bindings: imx6q-pcie: Add "vph-supply" for PHY supply voltage
      PCI: imx6: Limit DBI register length for imx6qp PCIe
      PCI: imx6: Remove imx6_pcie_probe() redundant error message
      PCI: intel-gw: Fix INTx enable
      PCI: iproc: Support multi-MSI only on uniprocessor kernel
      PCI: iproc: Fix multi-MSI base vector number allocation
      PCI: mediatek-gen3: Add missing MODULE_DEVICE_TABLE
      PCI: Dynamically map ECAM regions
      ...

commit f3827dc6b06e3b49f8a50daa899af82581daf090
Author: Julian Wiedmann <jwi@linux.ibm.com>
Date:   Mon Jun 14 09:14:27 2021 +0200

    s390/hvc_iucv: Remove power management support
    
    Power management support was removed for s390 with
    commit 394216275c7d ("s390: remove broken hibernate / power management
    support").
    
    Remove the hvc_iucv_driver, but keep the device struct around so that
    it can continue to provide the hvc_iucv_dev_attr_groups attributes.
    
    Signed-off-by: Julian Wiedmann <jwi@linux.ibm.com>
    Acked-by: Peter Oberparleiter <oberpar@linux.ibm.com>
    Signed-off-by: Vasily Gorbik <gor@linux.ibm.com>

commit 6b8ed170956388725ac1ef0ea3eff34df323ee03
Author: Peter Oberparleiter <oberpar@linux.ibm.com>
Date:   Fri Jun 11 13:28:13 2021 +0200

    s390/vmlogrdr: Remove power management support
    
    Power management support was removed for s390 with
    commit 394216275c7d ("s390: remove broken hibernate / power management
    support").
    
    Remove leftover vmlogrdr-related power management code.
    
    Acked-by: Heiko Carstens <hca@linux.ibm.com>
    Signed-off-by: Peter Oberparleiter <oberpar@linux.ibm.com>
    Signed-off-by: Vasily Gorbik <gor@linux.ibm.com>

commit 2f7e52084e8408cc549c8ba8592da8174e14e5b6
Author: Peter Oberparleiter <oberpar@linux.ibm.com>
Date:   Fri Jun 11 13:03:53 2021 +0200

    s390/sclp: Remove sclp base power management support
    
    Power management support was removed for s390 with
    commit 394216275c7d ("s390: remove broken hibernate / power management
    support").
    
    Remove leftover sclp base-related power management code. Note that we
    keep the registration of the sclp platform driver since it is used to
    externalize non-PM related attributes in sysfs.
    
    Acked-by: Heiko Carstens <hca@linux.ibm.com>
    Signed-off-by: Peter Oberparleiter <oberpar@linux.ibm.com>
    Signed-off-by: Vasily Gorbik <gor@linux.ibm.com>

commit 9b357ccddb69d8e69d0de6f1ee307d5c171df19d
Author: Peter Oberparleiter <oberpar@linux.ibm.com>
Date:   Fri Jun 11 11:13:40 2021 +0200

    s390/sclp: Remove quiesce power management support
    
    Power management support was removed for s390 with
    commit 394216275c7d ("s390: remove broken hibernate / power management
    support").
    
    Remove leftover sclp quiesce-related power management code.
    
    Acked-by: Heiko Carstens <hca@linux.ibm.com>
    Signed-off-by: Peter Oberparleiter <oberpar@linux.ibm.com>
    Signed-off-by: Vasily Gorbik <gor@linux.ibm.com>

commit fc8ebe820b595e1e53d7d0419bae59e3624fc7ef
Author: Peter Oberparleiter <oberpar@linux.ibm.com>
Date:   Fri Jun 11 11:11:36 2021 +0200

    s390/sclp: Remove memory hotplug power management support
    
    Power management support was removed for s390 with
    commit 394216275c7d ("s390: remove broken hibernate / power management
    support").
    
    Remove leftover sclp memory hotplug-related power management code.
    
    Acked-by: Heiko Carstens <hca@linux.ibm.com>
    Signed-off-by: Peter Oberparleiter <oberpar@linux.ibm.com>
    Signed-off-by: Vasily Gorbik <gor@linux.ibm.com>

commit 2f554d8b0a1e1b8b84af744f7dda38f74e21b180
Author: Peter Oberparleiter <oberpar@linux.ibm.com>
Date:   Fri Jun 11 11:07:15 2021 +0200

    s390/sclp: Remove vt220 power management support
    
    Power management support was removed for s390 with
    commit 394216275c7d ("s390: remove broken hibernate / power management
    support").
    
    Remove leftover sclp vt220-related power management code.
    
    Acked-by: Heiko Carstens <hca@linux.ibm.com>
    Signed-off-by: Peter Oberparleiter <oberpar@linux.ibm.com>
    Signed-off-by: Vasily Gorbik <gor@linux.ibm.com>

commit 5602bf8a7b05084d6fbb15c5889af6861ac61661
Author: Peter Oberparleiter <oberpar@linux.ibm.com>
Date:   Fri Jun 11 11:05:40 2021 +0200

    s390/sclp: Remove console power management support
    
    Power management support was removed for s390 with
    commit 394216275c7d ("s390: remove broken hibernate / power management
    support").
    
    Remove leftover sclp console-related power management code.
    
    Acked-by: Heiko Carstens <hca@linux.ibm.com>
    Signed-off-by: Peter Oberparleiter <oberpar@linux.ibm.com>
    Signed-off-by: Vasily Gorbik <gor@linux.ibm.com>

commit 21adcf11f62db0347bb95740d02bcf2867ed5e01
Author: Peter Oberparleiter <oberpar@linux.ibm.com>
Date:   Wed Jun 9 17:17:23 2021 +0200

    s390/monwriter: Remove power management support
    
    Power management support was removed for s390 with
    commit 394216275c7d ("s390: remove broken hibernate / power management
    support").
    
    Remove leftover monwriter-related power management code.
    
    Acked-by: Heiko Carstens <hca@linux.ibm.com>
    Signed-off-by: Peter Oberparleiter <oberpar@linux.ibm.com>
    Signed-off-by: Vasily Gorbik <gor@linux.ibm.com>

commit 8e1eaf4d834a6f51ece2a9ac9ebdf1854ec482e9
Author: Peter Oberparleiter <oberpar@linux.ibm.com>
Date:   Wed Jun 9 16:59:29 2021 +0200

    s390/monreader: Remove power management support
    
    Power management support was removed for s390 with
    commit 394216275c7d ("s390: remove broken hibernate / power management
    support").
    
    Remove leftover monreader-related power management code.
    
    Acked-by: Heiko Carstens <hca@linux.ibm.com>
    Signed-off-by: Peter Oberparleiter <oberpar@linux.ibm.com>
    Signed-off-by: Vasily Gorbik <gor@linux.ibm.com>

commit 28ac9b195d662dd8c5e4cc5fefb80bd3121aaee0
Author: Peter Oberparleiter <oberpar@linux.ibm.com>
Date:   Wed Jun 9 16:18:58 2021 +0200

    s390/xpram: Remove power management support
    
    Power management support was removed for s390 with
    commit 394216275c7d ("s390: remove broken hibernate / power management
    support").
    
    Remove leftover xpram-related power management code.
    
    Acked-by: Heiko Carstens <hca@linux.ibm.com>
    Signed-off-by: Peter Oberparleiter <oberpar@linux.ibm.com>
    Signed-off-by: Vasily Gorbik <gor@linux.ibm.com>

commit e2f4d7b55b9900a15ed1911b0aead485395b765d
Author: Peter Oberparleiter <oberpar@linux.ibm.com>
Date:   Wed Jun 9 15:46:17 2021 +0200

    s390/dcssblk: Remove power management support
    
    Power management support was removed for s390 with
    commit 394216275c7d ("s390: remove broken hibernate / power management
    support").
    
    Remove leftover dcssblk-related power management code.
    
    Acked-by: Heiko Carstens <hca@linux.ibm.com>
    Signed-off-by: Peter Oberparleiter <oberpar@linux.ibm.com>
    Signed-off-by: Vasily Gorbik <gor@linux.ibm.com>

commit decad3e1d1ed150588dd9d44beacf82295b9d5a5
Merge: bd7b12aa6081 b9c112f2c223
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Sun Jun 6 13:00:36 2021 -0700

    Merge tag 'arm-soc-fixes-v5.13-2' of git://git.kernel.org/pub/scm/linux/kernel/git/soc/soc
    
    Pull ARM SoC fixes from Olof Johansson:
     "A set of fixes that have been coming in over the last few weeks, the
      usual mix of fixes:
    
       - DT fixups for TI K3
    
       - SATA drive detection fix for TI DRA7
    
       - Power management fixes and a few build warning removals for OMAP
    
       - OP-TEE fix to use standard API for UUID exporting
    
       - DT fixes for a handful of i.MX boards
    
      And a few other smaller items"
    
    * tag 'arm-soc-fixes-v5.13-2' of git://git.kernel.org/pub/scm/linux/kernel/git/soc/soc: (29 commits)
      arm64: meson: select COMMON_CLK
      soc: amlogic: meson-clk-measure: remove redundant dev_err call in meson_msr_probe()
      ARM: OMAP1: ams-delta: remove unused function ams_delta_camera_power
      bus: ti-sysc: Fix flakey idling of uarts and stop using swsup_sidle_act
      ARM: dts: imx: emcon-avari: Fix nxp,pca8574 #gpio-cells
      ARM: dts: imx7d-pico: Fix the 'tuning-step' property
      ARM: dts: imx7d-meerkat96: Fix the 'tuning-step' property
      arm64: dts: freescale: sl28: var1: fix RGMII clock and voltage
      arm64: dts: freescale: sl28: var4: fix RGMII clock and voltage
      ARM: imx: pm-imx27: Include "common.h"
      arm64: dts: zii-ultra: fix 12V_MAIN voltage
      arm64: dts: zii-ultra: remove second GEN_3V3 regulator instance
      arm64: dts: ls1028a: fix memory node
      bus: ti-sysc: Fix am335x resume hang for usb otg module
      ARM: OMAP2+: Fix build warning when mmc_omap is not built
      ARM: OMAP1: isp1301-omap: Add missing gpiod_add_lookup_table function
      ARM: OMAP1: Fix use of possibly uninitialized irq variable
      optee: use export_uuid() to copy client UUID
      arm64: dts: ti: k3*: Introduce reg definition for interrupt routers
      arm64: dts: ti: k3-am65|j721e|am64: Map the dma / navigator subsystem via explicit ranges
      ...

commit 57151b502cbc0fa6ff9074a76883fa9d9eda322e
Merge: 7b9df264f0ab 882862aaacef
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Wed May 5 13:24:11 2021 -0700

    Merge tag 'pci-v5.13-changes' of git://git.kernel.org/pub/scm/linux/kernel/git/helgaas/pci
    
    Pull pci updates from Bjorn Helgaas:
     "Enumeration:
       - Release OF node when pci_scan_device() fails (Dmitry Baryshkov)
       - Add pci_disable_parity() (Bjorn Helgaas)
       - Disable Mellanox Tavor parity reporting (Heiner Kallweit)
       - Disable N2100 r8169 parity reporting (Heiner Kallweit)
       - Fix RCiEP device to RCEC association (Qiuxu Zhuo)
       - Convert sysfs "config", "rom", "reset", "label", "index",
         "acpi_index" to static attributes to help fix races in device
         enumeration (Krzysztof Wilczyński)
       - Convert sysfs "vpd" to static attribute (Heiner Kallweit, Krzysztof
         Wilczyński)
       - Use sysfs_emit() in "show" functions (Krzysztof Wilczyński)
       - Remove unused alloc_pci_root_info() return value (Krzysztof
         Wilczyński)
    
      PCI device hotplug:
       - Fix acpiphp reference count leak (Feilong Lin)
    
      Power management:
       - Fix acpi_pci_set_power_state() debug message (Rafael J. Wysocki)
       - Fix runtime PM imbalance (Dinghao Liu)
    
      Virtualization:
       - Increase delay after FLR to work around Intel DC P4510 NVMe erratum
         (Raphael Norwitz)
    
      MSI:
       - Convert rcar, tegra, xilinx to MSI domains (Marc Zyngier)
       - For rcar, xilinx, use controller address as MSI doorbell (Marc
         Zyngier)
       - Remove unused hv msi_controller struct (Marc Zyngier)
       - Remove unused PCI core msi_controller support (Marc Zyngier)
       - Remove struct msi_controller altogether (Marc Zyngier)
       - Remove unused default_teardown_msi_irqs() (Marc Zyngier)
       - Let host bridges declare their reliance on MSI domains (Marc
         Zyngier)
       - Make pci_host_common_probe() declare its reliance on MSI domains
         (Marc Zyngier)
       - Advertise mediatek lack of built-in MSI handling (Thomas Gleixner)
       - Document ways of ending up with NO_MSI (Marc Zyngier)
       - Refactor HT advertising of NO_MSI flag (Marc Zyngier)
    
      VPD:
       - Remove obsolete Broadcom NIC VPD length-limiting quirk (Heiner
         Kallweit)
       - Remove sysfs VPD size checking dead code (Heiner Kallweit)
       - Convert VPF sysfs file to static attribute (Heiner Kallweit)
       - Remove unnecessary pci_set_vpd_size() (Heiner Kallweit)
       - Tone down "missing VPD" message (Heiner Kallweit)
    
      Endpoint framework:
       - Fix NULL pointer dereference when epc_features not implemented
         (Shradha Todi)
       - Add missing destroy_workqueue() in endpoint test (Yang Yingliang)
    
      Amazon Annapurna Labs PCIe controller driver:
       - Fix compile testing without CONFIG_PCI_ECAM (Arnd Bergmann)
       - Fix "no symbols" warnings when compile testing with
         CONFIG_TRIM_UNUSED_KSYMS (Arnd Bergmann)
    
      APM X-Gene PCIe controller driver:
       - Fix cfg resource mapping regression (Dejin Zheng)
    
      Broadcom iProc PCIe controller driver:
       - Return zero for success of iproc_msi_irq_domain_alloc() (Pali
         Rohár)
    
      Broadcom STB PCIe controller driver:
       - Add reset_control_rearm() stub for !CONFIG_RESET_CONTROLLER (Jim
         Quinlan)
       - Fix use of BCM7216 reset controller (Jim Quinlan)
       - Use reset/rearm for Broadcom STB pulse reset instead of
         deassert/assert (Jim Quinlan)
       - Fix brcm_pcie_probe() error return for unsupported revision (Wei
         Yongjun)
    
      Cavium ThunderX PCIe controller driver:
       - Fix compile testing (Arnd Bergmann)
       - Fix "no symbols" warnings when compile testing with
         CONFIG_TRIM_UNUSED_KSYMS (Arnd Bergmann)
    
      Freescale Layerscape PCIe controller driver:
       - Fix ls_pcie_ep_probe() syntax error (comma for semicolon)
         (Krzysztof Wilczyński)
       - Remove layerscape-gen4 dependencies on OF and ARM64, add dependency
         on ARCH_LAYERSCAPE (Geert Uytterhoeven)
    
      HiSilicon HIP PCIe controller driver:
       - Remove obsolete HiSilicon PCIe DT description (Dongdong Liu)
    
      Intel Gateway PCIe controller driver:
       - Remove unused pcie_app_rd() (Jiapeng Chong)
    
      Intel VMD host bridge driver:
       - Program IRTE with Requester ID of VMD endpoint, not child device
         (Jon Derrick)
       - Disable VMD MSI-X remapping when possible so children can use more
         MSI-X vectors (Jon Derrick)
    
      MediaTek PCIe controller driver:
       - Configure FC and FTS for functions other than 0 (Ryder Lee)
       - Add YAML schema for MediaTek (Jianjun Wang)
       - Export pci_pio_to_address() for module use (Jianjun Wang)
       - Add MediaTek MT8192 PCIe controller driver (Jianjun Wang)
       - Add MediaTek MT8192 INTx support (Jianjun Wang)
       - Add MediaTek MT8192 MSI support (Jianjun Wang)
       - Add MediaTek MT8192 system power management support (Jianjun Wang)
       - Add missing MODULE_DEVICE_TABLE (Qiheng Lin)
    
      Microchip PolarFlare PCIe controller driver:
       - Make several symbols static (Wei Yongjun)
    
      NVIDIA Tegra PCIe controller driver:
       - Add MCFG quirks for Tegra194 ECAM errata (Vidya Sagar)
       - Make several symbols const (Rikard Falkeborn)
       - Fix Kconfig host/endpoint typo (Wesley Sheng)
    
      SiFive FU740 PCIe controller driver:
       - Add pcie_aux clock to prci driver (Greentime Hu)
       - Use reset-simple in prci driver for PCIe (Greentime Hu)
       - Add SiFive FU740 PCIe host controller driver and DT binding (Paul
         Walmsley, Greentime Hu)
    
      Synopsys DesignWare PCIe controller driver:
       - Move MSI Receiver init to dw_pcie_host_init() so it is
         re-initialized along with the RC in resume (Jisheng Zhang)
       - Move iATU detection earlier to fix regression (Hou Zhiqiang)
    
      TI J721E PCIe driver:
       - Add DT binding and TI j721e support for refclk to PCIe connector
         (Kishon Vijay Abraham I)
       - Add host mode and endpoint mode DT bindings for TI AM64 SoC (Kishon
         Vijay Abraham I)
    
      TI Keystone PCIe controller driver:
       - Use generic config accessors for TI AM65x (K3) to fix regression
         (Kishon Vijay Abraham I)
    
      Xilinx NWL PCIe controller driver:
       - Add support for coherent PCIe DMA traffic using CCI (Bharat Kumar
         Gogada)
       - Add optional "dma-coherent" DT property (Bharat Kumar Gogada)
    
      Miscellaneous:
       - Fix kernel-doc warnings (Krzysztof Wilczyński)
       - Remove unused MicroGate SyncLink device IDs (Jiri Slaby)
       - Remove redundant dev_err() for devm_ioremap_resource() failure
         (Chen Hui)
       - Remove redundant initialization (Colin Ian King)
       - Drop redundant dev_err() for platform_get_irq() errors (Krzysztof
         Wilczyński)"
    
    * tag 'pci-v5.13-changes' of git://git.kernel.org/pub/scm/linux/kernel/git/helgaas/pci: (98 commits)
      riscv: dts: Add PCIe support for the SiFive FU740-C000 SoC
      PCI: fu740: Add SiFive FU740 PCIe host controller driver
      dt-bindings: PCI: Add SiFive FU740 PCIe host controller
      MAINTAINERS: Add maintainers for SiFive FU740 PCIe driver
      clk: sifive: Use reset-simple in prci driver for PCIe driver
      clk: sifive: Add pcie_aux clock in prci driver for PCIe driver
      PCI: brcmstb: Use reset/rearm instead of deassert/assert
      ata: ahci_brcm: Fix use of BCM7216 reset controller
      reset: add missing empty function reset_control_rearm()
      PCI: Allow VPD access for QLogic ISP2722
      PCI/VPD: Add helper pci_get_func0_dev()
      PCI/VPD: Remove pci_vpd_find_tag() SRDT handling
      PCI/VPD: Remove pci_vpd_find_tag() 'offset' argument
      PCI/VPD: Change pci_vpd_init() return type to void
      PCI/VPD: Make missing VPD message less alarming
      PCI/VPD: Remove pci_set_vpd_size()
      x86/PCI: Remove unused alloc_pci_root_info() return value
      MAINTAINERS: Add Jianjun Wang as MediaTek PCI co-maintainer
      PCI: mediatek-gen3: Add system PM support
      PCI: mediatek-gen3: Add MSI support
      ...

commit 3e7f2f2980e82eb20ce73691d65d696c6994ad4c
Merge: 66f3431a8733 60d93f64a851
Author: Arnd Bergmann <arnd@arndb.de>
Date:   Thu Apr 1 22:17:12 2021 +0200

    Merge tag 'v5.12-next-soc' of git://git.kernel.org/pub/scm/linux/kernel/git/matthias.bgg/linux into arm/drivers
    
    - add MT8183 support to mutex driver
    
    MMSYS:
    - use per SoC array to describe the possible routing
    - add support for MT8183
    
    Power management domains:
    - fix the case of a domain fails to get added
    - add names for each power domain to make debugging easier
    
    PMIC wrapper:
    - add support for PMIC wrapper with integrated arbiter
    - add support for MT8192/MT6873
    
    * tag 'v5.12-next-soc' of git://git.kernel.org/pub/scm/linux/kernel/git/matthias.bgg/linux:
      soc: mediatek: pm-domains: Add a power domain names for mt8167
      soc: mediatek: pm-domains: Add a power domain names for mt8192
      soc: mediatek: pm-domains: Add a power domain names for mt8183
      soc: mediatek: pm-domains: Add a meaningful power domain name
      soc: mediatek: Make symbol 'mtk_mutex_driver' static
      soc: mediatek: mmsys: Add mt8183 mmsys routing table
      soc: mediatek: pwrap: add pwrap driver for MT6873/8192 SoCs
      dt-bindings: mediatek: add compatible for MT6873/8192 pwrap
      soc: mediatek: pwrap: add arbiter capability
      soc: mediatek: pwrap: use BIT() macro
      soc: mediatek: pm-domains: Fix missing error code in scpsys_add_subdomain()
      soc: mediatek: mmsys: Use an array for setting the routing registers
      soc: mediatek: mmsys: Create struct mtk_mmsys to store context data
      soc: mediatek: add mtk mutex support for MT8183
    
    Link: https://lore.kernel.org/r/c47d4bdd-9e05-c0de-bacb-3a262fed936d@gmail.com
    Signed-off-by: Arnd Bergmann <arnd@arndb.de>

commit f7cb7fe34db9f32e8b1c13ecc823112480b875f8
Author: Cristian Ciocaltea <cristian.ciocaltea@gmail.com>
Date:   Tue Jan 26 11:55:59 2021 +0200

    mfd: Add MFD driver for ATC260x PMICs
    
    Add initial support for the Actions Semi ATC260x PMICs which integrates
    Audio Codec, Power management, Clock generation and GPIO controller
    blocks.
    
    For the moment this driver only supports Regulator, Poweroff and Onkey
    functionalities for the ATC2603C and ATC2609A chip variants.
    
    Since the PMICs can be accessed using both I2C and SPI buses, the
    following driver structure has been adopted:
    
               -----> atc260x-core.c (Implements core functionalities)
              /
    ATC260x --------> atc260x-i2c.c (Implements I2C interface)
              \
               -----> atc260x-spi.c (Implements SPI interface - TODO)
    
    Co-developed-by: Manivannan Sadhasivam <manivannan.sadhasivam@linaro.org>
    Signed-off-by: Manivannan Sadhasivam <manivannan.sadhasivam@linaro.org>
    Signed-off-by: Cristian Ciocaltea <cristian.ciocaltea@gmail.com>
    Signed-off-by: Lee Jones <lee.jones@linaro.org>

commit 489e9fea66f31086f85d9a18e61e4791d94a56a4
Merge: aab7ce2b099b 255b2d524884
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Tue Dec 15 16:49:59 2020 -0800

    Merge tag 'pci-v5.11-changes' of git://git.kernel.org/pub/scm/linux/kernel/git/helgaas/pci
    
    Pull PCI updates from Bjorn Helgaas:
     "Enumeration:
       - Decode PCIe 64 GT/s link speed (Gustavo Pimentel)
       - Remove unused HAVE_PCI_SET_MWI (Heiner Kallweit)
       - Reduce pci_set_cacheline_size() message to debug level (Heiner
         Kallweit)
       - Fix pci_slot_release() NULL pointer dereference (Jubin Zhong)
       - Unify ECAM constants in native PCI Express drivers (Krzysztof
         Wilczyński)
       - Return u8 from pci_find_capability() and similar (Puranjay Mohan)
       - Return u16 from pci_find_ext_capability() and similar (Bjorn
         Helgaas)
       - Fix ACPI companion lookup for device 0 on the root bus (Rafael J.
         Wysocki)
    
      Resource management:
       - Keep both device and resource name for config space remaps
         (Alexander Lobakin)
       - Bounds-check command-line resource alignment requests (Bjorn
         Helgaas)
       - Fix overflow in command-line resource alignment requests (Colin Ian
         King)
    
      Driver binding:
       - Avoid duplicate IDs in driver dynamic IDs list (Zhenzhong Duan)
    
      Power management:
       - Save/restore Precision Time Measurement Capability for
         suspend/resume (David E. Box)
       - Disable PTM during suspend to save power (David E. Box)
       - Add sysfs attribute for device power state (Maximilian Luz)
       - Rename pci_wakeup_bus() to pci_resume_bus() (Mika Westerberg)
       - Do not generate wakeup event when runtime resuming device (Mika
         Westerberg)
       - Save/restore ASPM L1SS Capability for suspend/resume (Vidya Sagar)
    
      Virtualization:
       - Mark AMD Raven iGPU ATS as broken in some platforms (Alex Deucher)
       - Add function 1 DMA alias quirk for Marvell 9215 SATA controller
         (Bjorn Helgaas)
    
      MSI:
       - Disable MSI for Pericom PCIe-USB adapter (Andy Shevchenko)
       - Improve warnings for 32-bit-limited MSI support (Vidya Sagar)
    
      Error handling:
       - Cache RCEC EA Capability offset in pci_init_capabilities() (Sean V
         Kelley)
       - Rename reset_link() to reset_subordinates() (Sean V Kelley)
       - Write AER Capability only when we control it (Sean V Kelley)
       - Clear AER status only when we control AER (Sean V Kelley)
       - Bind RCEC devices to the Root Port driver (Qiuxu Zhuo)
       - Recover from RCiEP AER errors (Qiuxu Zhuo)
       - Recover from RCEC AER errors (Sean V Kelley)
       - Add pcie_link_rcec() to associate RCiEPs (Sean V Kelley)
       - Add pcie_walk_rcec() to RCEC AER handling (Sean V Kelley)
       - Add pcie_walk_rcec() to RCEC PME handling (Sean V Kelley)
       - Add RCEC AER error injection support (Qiuxu Zhuo)
    
      Broadcom iProc PCIe controller driver:
       - Fix out-of-bound array accesses (Bharat Gooty)
       - Invalidate correct PAXB inbound windows (Roman Bacik)
       - Enhance PCIe Link information display (Srinath Mannam)
    
      Cadence PCIe controller driver:
       - Make "cdns,max-outbound-regions" property optional (Kishon Vijay
         Abraham I)
    
      Intel VMD host bridge driver:
       - Offset client MSI-X vectors (Jon Derrick)
       - Update type of __iomem pointers (Krzysztof Wilczyński)
    
      NVIDIA Tegra PCIe controller driver:
       - Move "dbi" accesses to post common DWC initialization (Vidya Sagar)
       - Read "dbi" base address to program in application logic (Vidya
         Sagar)
       - Fix ASPM-L1SS advertisement disable code (Vidya Sagar)
       - Set DesignWare IP version (Vidya Sagar)
       - Continue unconfig sequence even if parts fail (Vidya Sagar)
       - Check return value of tegra_pcie_init_controller() (Vidya Sagar)
       - Disable LTSSM during L2 entry (Vidya Sagar)
    
      Qualcomm PCIe controller driver:
       - Document PCIe bindings for SM8250 SoC (Manivannan Sadhasivam)
       - Add SM8250 SoC support (Manivannan Sadhasivam)
       - Add support for configuring BDF to SID mapping for SM8250
         (Manivannan Sadhasivam)
    
      Renesas R-Car PCIe controller driver:
       - rcar: Drop unused members from struct rcar_pcie_host (Lad
         Prabhakar)
       - PCI: rcar-pci-host: Document r8a774e1 bindings (Lad Prabhakar)
       - PCI: rcar-pci-host: Convert bindings to json-schema (Yoshihiro
         Shimoda)
       - PCI: rcar-pci-host: Document r8a77965 bindings (Yoshihiro Shimoda)
    
      Samsung Exynos PCIe controller driver:
       - Rework driver to support Exynos5433 PCIe PHY (Jaehoon Chung)
       - Rework driver to support Exynos5433 variant (Jaehoon Chung)
       - Drop samsung,exynos5440-pcie binding (Marek Szyprowski)
       - Add the samsung,exynos-pcie binding (Marek Szyprowski)
       - Add the samsung,exynos-pcie-phy binding (Marek Szyprowski)
    
      Synopsys DesignWare PCIe controller driver:
       - Support multiple ATU memory regions (Rob Herring)
       - Move intel-gw ATU offset out of driver match data (Rob Herring)
       - Move "dbi", "dbi2", and "addr_space" resource setup into common
         code (Rob Herring)
       - Remove intel-gw unneeded function wrappers (Rob Herring)
       - Ensure all outbound ATU windows are reset (Rob Herring)
       - Use the common MSI irq_chip in dra7xx (Rob Herring)
       - Drop the .set_num_vectors() host op (Rob Herring)
       - Move MSI interrupt setup into DWC common code (Rob Herring)
       - Rework MSI initialization (Rob Herring)
       - Move link handling into common code (Rob Herring)
       - Move dw_pcie_msi_init() into core (Rob Herring)
       - Move dw_pcie_setup_rc() to DWC common code (Rob Herring)
       - Remove unnecessary wrappers around dw_pcie_host_init() (Rob
         Herring)
       - Drop keystone duplicated 'num-viewport'" (Rob Herring)
       - Move inbound and outbound windows to common struct (Rob Herring)
       - Detect number of iATU windows (Rob Herring)
       - Warn if non-prefetchable memory aperture size is > 32-bit (Vidya
         Sagar)
       - Add support to program ATU for >4GB memory (Vidya Sagar)
       - Set 32-bit DMA mask for MSI target address allocation (Vidya Sagar)
    
      TI J721E PCIe driver:
       - Fix "ti,syscon-pcie-ctrl" to take argument (Kishon Vijay Abraham I)
       - Add host mode dt-bindings for TI's J7200 SoC (Kishon Vijay Abraham
         I)
       - Add EP mode dt-bindings for TI's J7200 SoC (Kishon Vijay Abraham I)
       - Get offset within "syscon" from "ti,syscon-pcie-ctrl" phandle arg
         (Kishon Vijay Abraham I)
    
      TI Keystone PCIe controller driver:
       - Enable compile-testing on !ARM (Alex Dewar)"
    
    * tag 'pci-v5.11-changes' of git://git.kernel.org/pub/scm/linux/kernel/git/helgaas/pci: (100 commits)
      PCI: Add function 1 DMA alias quirk for Marvell 9215 SATA controller
      PCI/ACPI: Fix companion lookup for device 0 on the root bus
      PCI: Keep both device and resource name for config space remaps
      PCI: xgene: Removed unused ".bus_shift" initialisers from pci-xgene.c
      PCI: vmd: Update type of the __iomem pointers
      PCI: iproc: Convert to use the new ECAM constants
      PCI: thunder-pem: Add constant for custom ".bus_shift" initialiser
      PCI: Unify ECAM constants in native PCI Express drivers
      PCI: Disable PTM during suspend to save power
      PCI/PTM: Save/restore Precision Time Measurement Capability for suspend/resume
      PCI: Mark AMD Raven iGPU ATS as broken in some platforms
      PCI: j721e: Get offset within "syscon" from "ti,syscon-pcie-ctrl" phandle arg
      dt-bindings: PCI: Add EP mode dt-bindings for TI's J7200 SoC
      dt-bindings: PCI: Add host mode dt-bindings for TI's J7200 SoC
      dt-bindings: pci: ti,j721e: Fix "ti,syscon-pcie-ctrl" to take argument
      PCI: dwc: Set 32-bit DMA mask for MSI target address allocation
      PCI: qcom: Add support for configuring BDF to SID mapping for SM8250
      PCI: Reduce pci_set_cacheline_size() message to debug level
      PCI: Remove unused HAVE_PCI_SET_MWI
      PCI: qcom: Add SM8250 SoC support
      ...

commit d5530d82efc8631beff20480b1168b1c44294fe1
Merge: f4b936f5d6fd b4c00e797663
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Sun Nov 22 14:36:06 2020 -0800

    Merge branch 'for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/hid/hid
    
    Pull HID fixes from Jiri Kosina:
    
     - Various functionality / regression fixes for Logitech devices from
       Hans de Goede
    
     - Fix for (recently added) GPIO support in mcp2221 driver from Lars
       Povlsen
    
     - Power management handling fix/quirk in i2c-hid driver for certain
       BIOSes that have strange aproach to power-cycle from Hans de Goede
    
     - a few device ID additions and device-specific quirks
    
    * 'for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/hid/hid:
      HID: logitech-dj: Fix Dinovo Mini when paired with a MX5x00 receiver
      HID: logitech-dj: Fix an error in mse_bluetooth_descriptor
      HID: Add Logitech Dinovo Edge battery quirk
      HID: logitech-hidpp: Add HIDPP_CONSUMER_VENDOR_KEYS quirk for the Dinovo Edge
      HID: logitech-dj: Handle quad/bluetooth keyboards with a builtin trackpad
      HID: add HID_QUIRK_INCREMENT_USAGE_ON_DUPLICATE for Gamevice devices
      HID: mcp2221: Fix GPIO output handling
      HID: hid-sensor-hub: Fix issue with devices with no report ID
      HID: i2c-hid: Put ACPI enumerated devices in D3 on shutdown
      HID: add support for Sega Saturn
      HID: cypress: Support Varmilo Keyboards' media hotkeys
      HID: ite: Replace ABS_MISC 120/121 events with touchpad on/off keypresses
      HID: logitech-hidpp: Add PID for MX Anywhere 2
      HID: uclogic: Add ID for Trust Flex Design Tablet

commit 00937f36b09e89c74e4a059dbb8acbf4b971d5eb
Merge: 96485e446260 28e34e751f6c
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Thu Oct 22 12:41:00 2020 -0700

    Merge tag 'pci-v5.10-changes' of git://git.kernel.org/pub/scm/linux/kernel/git/helgaas/pci
    
    Pull PCI updates from Bjorn Helgaas:
     "Enumeration:
       - Print IRQ number used by PCIe Link Bandwidth Notification (Dongdong
         Liu)
       - Add schedule point in pci_read_config() to reduce max latency
         (Jiang Biao)
       - Add Kconfig options for MPS/MRRS strategy (Jim Quinlan)
    
      Resource management:
       - Fix pci_iounmap() memory leak when !CONFIG_GENERIC_IOMAP (Lorenzo
         Pieralisi)
    
      PCIe native device hotplug:
       - Reduce noisiness on hot removal (Lukas Wunner)
    
      Power management:
       - Revert "PCI/PM: Apply D2 delay as milliseconds, not microseconds"
         that was done on the basis of spec typo (Bjorn Helgaas)
       - Rename pci_dev.d3_delay to d3hot_delay to remove D3hot/D3cold
         ambiguity (Krzysztof Wilczyński)
       - Remove unused pcibios_pm_ops (Vaibhav Gupta)
    
      IOMMU:
       - Enable Translation Blocking for external devices to harden against
         DMA attacks (Rajat Jain)
    
      Error handling:
       - Add an ACPI APEI notifier chain for vendor CPER records to enable
         device-specific error handling (Shiju Jose)
    
      ASPM:
       - Remove struct aspm_register_info to simplify code (Saheed O.
         Bolarinwa)
    
      Amlogic Meson PCIe controller driver:
       - Build as module by default (Kevin Hilman)
    
      Ampere Altra PCIe controller driver:
       - Add MCFG quirk to work around non-standard ECAM implementation
         (Tuan Phan)
    
      Broadcom iProc PCIe controller driver:
       - Set affinity mask on MSI interrupts (Mark Tomlinson)
    
      Broadcom STB PCIe controller driver:
       - Make PCIE_BRCMSTB depend on ARCH_BRCMSTB (Jim Quinlan)
       - Add DT bindings for more Brcmstb chips (Jim Quinlan)
       - Add bcm7278 register info (Jim Quinlan)
       - Add bcm7278 PERST# support (Jim Quinlan)
       - Add suspend and resume pm_ops (Jim Quinlan)
       - Add control of rescal reset (Jim Quinlan)
       - Set additional internal memory DMA viewport sizes (Jim Quinlan)
       - Accommodate MSI for older chips (Jim Quinlan)
       - Set bus max burst size by chip type (Jim Quinlan)
       - Add support for bcm7211, bcm7216, bcm7445, bcm7278 (Jim Quinlan)
    
      Freescale i.MX6 PCIe controller driver:
       - Use dev_err_probe() to reduce redundant messages (Anson Huang)
    
      Freescale Layerscape PCIe controller driver:
       - Enforce 4K DMA buffer alignment in endpoint test (Hou Zhiqiang)
       - Add DT compatible strings for ls1088a, ls2088a (Xiaowei Bao)
       - Add endpoint support for ls1088a, ls2088a (Xiaowei Bao)
       - Add endpoint test support for lS1088a (Xiaowei Bao)
       - Add MSI-X support for ls1088a (Xiaowei Bao)
    
      HiSilicon HIP PCIe controller driver:
       - Handle HIP-specific errors via ACPI APEI (Yicong Yang)
    
      HiSilicon Kirin PCIe controller driver:
       - Return -EPROBE_DEFER if the GPIO isn't ready (Bean Huo)
    
      Intel VMD host bridge driver:
       - Factor out physical offset, bus offset, IRQ domain, IRQ allocation
         (Jon Derrick)
       - Use generic PCI PM correctly (Jon Derrick)
    
      Marvell Aardvark PCIe controller driver:
       - Fix compilation on s390 (Pali Rohár)
       - Implement driver 'remove' function and allow to build it as module
         (Pali Rohár)
       - Move PCIe reset card code to advk_pcie_train_link() (Pali Rohár)
       - Convert mvebu a3700 internal SMCC firmware return codes to errno
         (Pali Rohár)
       - Fix initialization with old Marvell's Arm Trusted Firmware (Pali
         Rohár)
    
      Microsoft Hyper-V host bridge driver:
       - Fix hibernation in case interrupts are not re-created (Dexuan Cui)
    
      NVIDIA Tegra PCIe controller driver:
       - Stop checking return value of debugfs_create() functions (Greg
         Kroah-Hartman)
       - Convert to use DEFINE_SEQ_ATTRIBUTE macro (Liu Shixin)
    
      Qualcomm PCIe controller driver:
       - Reset PCIe to work around Qsdk U-Boot issue (Ansuel Smith)
    
      Renesas R-Car PCIe controller driver:
       - Add DT documentation for r8a774a1, r8a774b1, r8a774e1 endpoints
         (Lad Prabhakar)
       - Add RZ/G2M, RZ/G2N, RZ/G2H IDs to endpoint test (Lad Prabhakar)
       - Add DT support for r8a7742 (Lad Prabhakar)
    
      Socionext UniPhier Pro5 controller driver:
       - Add DT descriptions of iATU register (host and endpoint) (Kunihiko
         Hayashi)
    
      Synopsys DesignWare PCIe controller driver:
       - Add link up check in dw_child_pcie_ops.map_bus() (racy, but seems
         unavoidable) (Hou Zhiqiang)
       - Fix endpoint Header Type check so multi-function devices work (Hou
         Zhiqiang)
       - Skip PCIE_MSI_INTR0* programming if MSI is disabled (Jisheng Zhang)
       - Stop leaking MSI page in suspend/resume (Jisheng Zhang)
       - Add common iATU register support instead of keystone-specific code
         (Kunihiko Hayashi)
       - Major config space access and other cleanups in dwc core and
         drivers that use it (al, exynos, histb, imx6, intel-gw, keystone,
         kirin, meson, qcom, tegra) (Rob Herring)
       - Add multiple PFs support for endpoint (Xiaowei Bao)
       - Add MSI-X doorbell mode in endpoint mode (Xiaowei Bao)
    
      Miscellaneous:
       - Use fallthrough pseudo-keyword (Gustavo A. R. Silva)
       - Fix "0 used as NULL pointer" warnings (Gustavo Pimentel)
       - Fix "cast truncates bits from constant value" warnings (Gustavo
         Pimentel)
       - Remove redundant zeroing for sg_init_table() (Julia Lawall)
       - Use scnprintf(), not snprintf(), in sysfs "show" functions
         (Krzysztof Wilczyński)
       - Remove unused assignments (Krzysztof Wilczyński)
       - Fix "0 used as NULL pointer" warning (Krzysztof Wilczyński)
       - Simplify bool comparisons (Krzysztof Wilczyński)
       - Use for_each_child_of_node() and for_each_node_by_name() (Qinglang
         Miao)
       - Simplify return expressions (Qinglang Miao)"
    
    * tag 'pci-v5.10-changes' of git://git.kernel.org/pub/scm/linux/kernel/git/helgaas/pci: (147 commits)
      PCI: vmd: Update VMD PM to correctly use generic PCI PM
      PCI: vmd: Create IRQ allocation helper
      PCI: vmd: Create IRQ Domain configuration helper
      PCI: vmd: Create bus offset configuration helper
      PCI: vmd: Create physical offset helper
      PCI: v3-semi: Remove unneeded break
      PCI: dwc: Add link up check in dw_child_pcie_ops.map_bus()
      PCI/ASPM: Remove struct pcie_link_state.l1ss
      PCI/ASPM: Remove struct aspm_register_info.l1ss_cap
      PCI/ASPM: Pass L1SS Capabilities value, not struct aspm_register_info
      PCI/ASPM: Remove struct aspm_register_info.l1ss_ctl1
      PCI/ASPM: Remove struct aspm_register_info.l1ss_ctl2 (unused)
      PCI/ASPM: Remove struct aspm_register_info.l1ss_cap_ptr
      PCI/ASPM: Remove struct aspm_register_info.latency_encoding
      PCI/ASPM: Remove struct aspm_register_info.enabled
      PCI/ASPM: Remove struct aspm_register_info.support
      PCI/ASPM: Use 'parent' and 'child' for readability
      PCI/ASPM: Move LTR path check to where it's used
      PCI/ASPM: Move pci_clear_and_set_dword() earlier
      PCI: dwc: Fix MSI page leakage in suspend/resume
      ...

commit 59ee364bafb2690ebdd1ea5793c2fdb2ea27433a
Merge: bf1c67449833 810278da901c
Author: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
Date:   Wed Sep 30 09:42:36 2020 +0200

    Merge tag 'thunderbolt-for-v5.10-rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/westeri/thunderbolt into usb-next
    
    Mika writes:
    
    thunderbolt: Changes for v5.10 merge window
    
    This includes following Thunderbolt/USB4 changes for v5.10 merge window:
    
      * A couple of optimizations around Tiger Lake force power logic and
        NHI (Native Host Interface) LC (Link Controller) mailbox command
        processing
    
      * Power management improvements for Software Connection Manager
    
      * Debugfs support
    
      * Allow KUnit tests to be enabled also when Thunderbolt driver is
        configured as module.
    
      * Few minor cleanups and fixes
    
    All these have been in linux-next with no reported issues.
    
    * tag 'thunderbolt-for-v5.10-rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/westeri/thunderbolt: (37 commits)
      thunderbolt: Capitalize comment on top of QUIRK_FORCE_POWER_LINK_CONTROLLER
      thunderbolt: Correct tb_check_quirks() kernel-doc
      thunderbolt: Log correct zeroX entries in decode_error()
      thunderbolt: Handle ERR_LOCK notification
      thunderbolt: Use "if USB4" instead of "depends on" in Kconfig
      thunderbolt: Allow KUnit tests to be built also when CONFIG_USB4=m
      thunderbolt: Only stop control channel when entering freeze
      thunderbolt: debugfs: Fix uninitialized return in counters_write()
      thunderbolt: Add debugfs interface
      thunderbolt: No need to warn in TB_CFG_ERROR_INVALID_CONFIG_SPACE
      thunderbolt: Introduce tb_switch_is_tiger_lake()
      thunderbolt: Introduce tb_switch_is_ice_lake()
      thunderbolt: Check for Intel vendor ID when identifying controller
      thunderbolt: Introduce tb_port_is_nhi()
      thunderbolt: Introduce tb_switch_next_cap()
      thunderbolt: Introduce tb_port_next_cap()
      thunderbolt: Move struct tb_cap_any to tb_regs.h
      thunderbolt: Add runtime PM for Software CM
      thunderbolt: Create device links from ACPI description
      ACPI: Export acpi_get_first_physical_node() to modules
      ...

commit 3925c3bbdf886f1ddf64461b9b380e1bb36f90c1
Merge: 9fa88c5d3f5e 2bd81cd04a3f
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Sat Jun 6 11:01:58 2020 -0700

    Merge tag 'pci-v5.8-changes' of git://git.kernel.org/pub/scm/linux/kernel/git/helgaas/pci
    
    Pull PCI updates from Bjorn Helgaas:
     "Enumeration:
    
       - Program MPS for RCiEP devices (Ashok Raj)
    
       - Fix pci_register_host_bridge() device_register() error handling
         (Rob Herring)
    
       - Fix pci_host_bridge struct device release/free handling (Rob
         Herring)
    
      Resource management:
    
       - Allow resizing BARs for devices on root bus (Ard Biesheuvel)
    
      Power management:
    
       - Reduce Thunderbolt resume time by working around devices that don't
         support DLL Link Active reporting (Mika Westerberg)
    
       - Work around a Pericom USB controller OHCI/EHCI PME# defect
         (Kai-Heng Feng)
    
      Virtualization:
    
       - Add ACS quirk for Intel Root Complex Integrated Endpoints (Ashok
         Raj)
    
       - Avoid FLR for AMD Starship USB 3.0 (Kevin Buettner)
    
       - Avoid FLR for AMD Matisse HD Audio & USB 3.0 (Marcos Scriven)
    
      Error handling:
    
       - Use only _OSC (not HEST FIRMWARE_FIRST) to determine AER ownership
         (Alexandru Gagniuc, Kuppuswamy Sathyanarayanan)
    
       - Reduce verbosity by logging only ACPI_NOTIFY_DISCONNECT_RECOVER
         events (Kuppuswamy Sathyanarayanan)
    
       - Don't enable AER by default in Kconfig (Bjorn Helgaas)
    
      Peer-to-peer DMA:
    
       - Add AMD Zen Raven and Renoir Root Ports to whitelist (Alex Deucher)
    
      ASPM:
    
       - Allow ASPM on links to PCIe-to-PCI/PCI-X Bridges (Kai-Heng Feng)
    
      Endpoint framework:
    
       - Fix DMA channel release in test (Kunihiko Hayashi)
    
       - Add page size as argument to pci_epc_mem_init() (Lad Prabhakar)
    
       - Add support to handle multiple base for mapping outbound memory
         (Lad Prabhakar)
    
      Generic host bridge driver:
    
       - Support building as module (Rob Herring)
    
       - Eliminate pci_host_common_probe wrappers (Rob Herring)
    
      Amlogic Meson PCIe controller driver:
    
       - Don't use FAST_LINK_MODE to set up link (Marc Zyngier)
    
      Broadcom STB PCIe controller driver:
    
       - Disable ASPM L0s if 'aspm-no-l0s' in DT (Jim Quinlan)
    
       - Fix clk_put() error (Jim Quinlan)
    
       - Fix window register offset (Jim Quinlan)
    
       - Assert fundamental reset on initialization (Nicolas Saenz Julienne)
    
       - Add notify xHCI reset property (Nicolas Saenz Julienne)
    
       - Add init routine for Raspberry Pi 4 VL805 USB controller (Nicolas
         Saenz Julienne)
    
       - Sync with Raspberry Pi 4 firmware for VL805 initialization (Nicolas
         Saenz Julienne)
    
      Cadence PCIe controller driver:
    
       - Remove "cdns,max-outbound-regions" DT property (replaced by
         "ranges") (Kishon Vijay Abraham I)
    
       - Read 32-bit (not 16-bit) Vendor ID/Device ID property from DT
         (Kishon Vijay Abraham I)
    
      Marvell Aardvark PCIe controller driver:
    
       - Improve link training (Marek Behún)
    
       - Add PHY support (Marek Behún)
    
       - Add "phys", "max-link-speed", "reset-gpios" to dt-binding (Marek
         Behún)
    
       - Train link immediately after enabling training to work around
         detection issues with some cards (Pali Rohár)
    
       - Issue PERST via GPIO to work around detection issues (Pali Rohár)
    
       - Don't blindly enable ASPM L0s (Pali Rohár)
    
       - Replace custom macros by standard linux/pci_regs.h macros (Pali
         Rohár)
    
      Microsoft Hyper-V host bridge driver:
    
       - Fix probe failure path to release resource (Wei Hu)
    
       - Retry PCI bus D0 entry on invalid device state for kdump (Wei Hu)
    
      Renesas R-Car PCIe controller driver:
    
       - Fix incorrect programming of OB windows (Andrew Murray)
    
       - Add suspend/resume (Kazufumi Ikeda)
    
       - Rename pcie-rcar.c to pcie-rcar-host.c (Lad Prabhakar)
    
       - Add endpoint controller driver (Lad Prabhakar)
    
       - Fix PCIEPAMR mask calculation (Lad Prabhakar)
    
       - Add r8a77961 to DT binding (Yoshihiro Shimoda)
    
      Socionext UniPhier Pro5 controller driver:
    
       - Add endpoint controller driver (Kunihiko Hayashi)
    
      Synopsys DesignWare PCIe controller driver:
    
       - Program outbound ATU upper limit register (Alan Mikhak)
    
       - Fix inner MSI IRQ domain registration (Marc Zyngier)
    
      Miscellaneous:
    
       - Check for platform_get_irq() failure consistently (negative return
         means failure) (Aman Sharma)
    
       - Fix several runtime PM get/put imbalances (Dinghao Liu)
    
       - Use flexible-array and struct_size() helpers for code cleanup
         (Gustavo A. R. Silva)
    
       - Update & fix issues in bridge emulation of PCIe registers (Jon
         Derrick)
    
       - Add macros for bridge window names (PCI_BRIDGE_IO_WINDOW, etc)
         (Krzysztof Wilczyński)
    
       - Work around Intel PCH MROMs that have invalid BARs (Xiaochun Lee)"
    
    * tag 'pci-v5.8-changes' of git://git.kernel.org/pub/scm/linux/kernel/git/helgaas/pci: (100 commits)
      PCI: uniphier: Add Socionext UniPhier Pro5 PCIe endpoint controller driver
      PCI: Add ACS quirk for Intel Root Complex Integrated Endpoints
      PCI/DPC: Print IRQ number used by port
      PCI/AER: Use "aer" variable for capability offset
      PCI/AER: Remove redundant dev->aer_cap checks
      PCI/AER: Remove redundant pci_is_pcie() checks
      PCI/AER: Remove HEST/FIRMWARE_FIRST parsing for AER ownership
      PCI: tegra: Fix runtime PM imbalance on error
      PCI: vmd: Filter resource type bits from shadow register
      PCI: tegra194: Fix runtime PM imbalance on error
      dt-bindings: PCI: Add UniPhier PCIe endpoint controller description
      PCI: hv: Use struct_size() helper
      PCI: Rename _DSM constants to align with spec
      PCI: Avoid FLR for AMD Starship USB 3.0
      PCI: Avoid FLR for AMD Matisse HD Audio & USB 3.0
      x86/PCI: Drop unused xen_register_pirq() gsi_override parameter
      PCI: dwc: Use private data pointer of "struct irq_domain" to get pcie_port
      PCI: amlogic: meson: Don't use FAST_LINK_MODE to set up link
      PCI: dwc: Fix inner MSI IRQ domain registration
      PCI: dwc: pci-dra7xx: Use devm_platform_ioremap_resource_byname()
      ...

commit 281d90e24f1378967531d715decf6b81ecba664e
Merge: 09dd629eeabb fe297f8f048a
Author: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
Date:   Wed Mar 18 11:33:12 2020 +0100

    Merge tag 'iio-5.7a' of git://git.kernel.org/pub/scm/linux/kernel/git/jic23/iio into staging-next
    
    Jonathan writes:
    
    First set of new IIO device support, fatures and cleanups for the 5.7 cycle
    
    Includes changes for the counter subsystem
    
    Core Feature
    * Explicitly handle sysfs values in dB, including correctly handling the
      needed postfix dB.
    * Add a TODO to suggest suitable activities for new contributors to IIO now
      the vast majority of drivers are out of staging (and the remaining ones
      there are 'hard'). Also update the TODO in staging to remove stale entries.
    
    Staging graduations
    * ad7192 ADC.
    
    New device support
    * ad5770r
      - New driver for this 6 channel DAC including DT bindings.
    * ad8366
      - Add supprot for the hmc1119 attenuator.
    * al3010
      - New driver supporting this Dyna-image light sensors.
      - Power management and DT bindings added in additional patches.
    * atlas-sensor
      - Add support for atlas DO-SM device.  Reads disolved oxygen in a solution.
    * gpap002x00f
      - New driver and bindings to support the GP2AP002A00F and GP2AP002S00F light
        and proximity sensors. There is some limited existing support in
        input.  The intent is to drop this driver once IIO driver is in place.
    * hmc425a
      - New driver for this attenuator.
    * icp10100
      - New driver for this presure sensor.
    * ltc2632
      - Add support for the ltc2636 8 channel DAC. Includes bindings and some
        tidying up of the driver.
    * inv_mpu6050
      - Support IAM20680, ICM20609, ICM20689 and ICM20690.
        Includes related tidy up and rework of low pass filter bandwidth
        handling to give suitable values for all chips.
    
    Binding conversions to yaml or missing bindings docs.
    * atlas-sensor, including consolidation of previous 3 separate docs into 1.
    * ad7923, previously no doc.
    * max1363, split into max1238 and max1363 to simplify yaml.
    * stm32-adc
    
    Features
    * (counter) 104-quad-8
      - Support a filter clock prescaler.
      - Support reporting of encoder cable status.
    * ad7124
      - Low pass filter support.
      - Debugfs interface to access registers directly.
    * ad8366
      - Support control of hardware gain.
    * inv_mpu6050
      - Runtime pm with autosuspend.
    * npcm adc
      - Add reset support. This is a breaking change if DT is not in sync,
        however this device is a BMC so the ecosystem is closed enought that
        this should not be a problem.
    * srf04
      - Add power management with DT bindings for the GPIO.
    * stm32-timer-trigger
      - Power management.
    * (counter) stm32-timer-cnt
      - Power management.
    * vcnl4000
      - Enable runtime PM for devices that don't use on demand measurement.
    
    Cleanups and minor fixes
    * core
      - Avoid double read when using debugfs.  Whilst we provide no guarantees
        on lack of side effects using the debugfs interfaces, this one is
        generate unexpected results so let us tidy it up.
    * dac/Kconfig
      - Alphabetic order.
    * ad5755
      - Grammar and minor other fixes.
    * ad7124
      - Fail probe if get_voltage fails as no meaningful readings can be had
        without knowing the external reference.
      - Switch to selection between different channel attributes rather than
        building the arrays at runtime.
      - Remove the spi_device_id table as the driver cannot be probled without
        more information that can be provided without dt.
      - Update sysfs docs to provide more inormation and bring remaining docs for
        this part out of staging.
    * ad9292
      - Use new SPI transfer delay structure.
    * adis library
      - Add unlocked version of adis_initial_startup and refactor the function.
      - Add a product ID santiy check.
      - Add support for different self test registers.
      - Use new SPI delay structure.
      - Add new docs and tidy up existing.
    * adis16136
      - Initialize adis_data statically.
    * adis16400
      - Initialize adis_data statically.
    * adis16460
      - Use core __adis_initial_Startup now it supports everything needed.
    * adis16480
      - Initialize adis_data statically.
      - Use core __adis_initial_startup now it supports everything needed.
    * al3320a
      - Add missing DT binding docs.
      - Tidy up code formatting.
      - Simplify error paths using devm_add_action_or_reset.
      - Ensure autoloading works by adding the of_match_table.
    * atlas-sensor
      - Drop false requirement for interrupt line, the value can be polled using
        a sysfs or hrtimer type trigger.
    * exynos-adc
      - Silence warning message on deferring probe.
    * gp2ap002
      - Greatly simplify the Lux LUT.
      - Reorder actions around buffer setup and tear down as part of a sub-system
        wide standardization of these.
    * inv_mpu6050
      - Various lttle tidyups.
      - Simpliy I2C aux MUX handling by enabling it only at startup. It never
        needs to be disabled.
      - Simplify polling rate when magnetometer enabled by putting only under
        control of userspace.
      - Always execute full reset on devices supporting spi. It does no harm
        when using i2c and makes for simpler code.
      - Reduce over the top sleep times for vddio regulator power up.
      - Greatly simplify power and engine management.
      - Fix some delays in polled reads (only visible due to other changes)
      - Stop preventing sampling rate changes whilst running as there is no
        adverse consequence of doing so.
      - Prevent attempting to read the temperature if neither accel nor
        gyro is enabled.
    * lmp9100
      - Reorder actions around buffer setup and tear down as part of a sub-system
        wide standardization of these.
    * max1118
      - Use new SPI transfer delay structure.
    * mcp320x
      - Use new SPI transfer delay structure.
    * si1133
      - Read full 24 bit signed integer instead o dropping last 8 bits of value.
        Not a critical fix as just adds precision.
    * st_sensors
      - Use st_sensors_dev_name_probe instead of open coded version in st_accel
      - Handle potential memory allocation failure.
    * st_lsm6dsx
      - Fix some wrong structure element naming in documentation.
      - Add missing return value check.
    * stm32_timer_cnt
      - Drop some unused left over IIO headers from this count subsystem driver.
      - Ensure the clock is enabled in master mode.  Theoretical issue rather
        than one known to happen in the wild.
    * tlc4541
      - Use new SPI delay structure.
    
    * tag 'iio-5.7a' of git://git.kernel.org/pub/scm/linux/kernel/git/jic23/iio: (98 commits)
      iio: dac: Kconfig: sort symbols alphabetically
      iio: light: gp2ap020a00f: fix iio_triggered_buffer_{predisable,postenable} positions
      iio: potentiostat: lmp9100: fix iio_triggered_buffer_{predisable,postenable} positions
      iio: trigger: stm32-timer: add power management support
      iio: trigger: stm32-timer: rename enabled flag
      iio: add a TODO
      counter: 104-quad-8: Support Differential Encoder Cable Status
      counter: 104-quad-8: Support Filter Clock Prescaler
      iio: pressure: icp10100: add driver for InvenSense ICP-101xx
      iio: industrialio-core: Fix debugfs read
      iio: imu: adis: add a note better explaining state_lock
      iio: imu: adis: update 'adis_data' struct doc-string
      iio: imu: adis: add doc-string for 'adis' struct
      iio: imu: adis_buffer: Use new structure for SPI transfer delays
      iio: adc: ti-tlc4541: Use new structure for SPI transfer delays
      iio: adc: mcp320x: Use new structure for SPI transfer delays
      iio: adc: max1118: Use new structure for SPI transfer delays
      iio: adc: ad9292: Use new structure for SPI transfer delays
      iio: adc: exynos: Silence warning about regulators during deferred probe
      staging: iio: update TODO
      ...

commit 26dca6dbd62d74a5012cafab6b2d6d65a01ea69c
Merge: 846de71bedef 01b810ed7187
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Fri Jan 31 14:48:54 2020 -0800

    Merge tag 'pci-v5.6-changes' of git://git.kernel.org/pub/scm/linux/kernel/git/helgaas/pci
    
    Pull PCI updates from Bjorn Helgaas:
    
     "Resource management:
    
       - Improve resource assignment for hot-added nested bridges, e.g.,
         Thunderbolt (Nicholas Johnson)
    
      Power management:
    
       - Optionally print config space of devices before suspend (Chen Yu)
    
       - Increase D3 delay for AMD Ryzen5/7 XHCI controllers (Daniel Drake)
    
      Virtualization:
    
       - Generalize DMA alias quirks (James Sewart)
    
       - Add DMA alias quirk for PLX PEX NTB (James Sewart)
    
       - Fix IOV memory leak (Navid Emamdoost)
    
      AER:
    
       - Log which device prevents error recovery (Yicong Yang)
    
      Peer-to-peer DMA:
    
       - Whitelist Intel SkyLake-E (Armen Baloyan)
    
      Broadcom iProc host bridge driver:
    
       - Apply PAXC quirk whether driver is built-in or module (Wei Liu)
    
      Broadcom STB host bridge driver:
    
       - Add Broadcom STB PCIe host controller driver (Jim Quinlan)
    
      Intel Gateway SoC host bridge driver:
    
       - Add driver for Intel Gateway SoC (Dilip Kota)
    
      Intel VMD host bridge driver:
    
       - Add support for DMA aliases on other buses (Jon Derrick)
    
       - Remove dma_map_ops overrides (Jon Derrick)
    
       - Remove now-unused X86_DEV_DMA_OPS (Christoph Hellwig)
    
      NVIDIA Tegra host bridge driver:
    
       - Fix Tegra30 afi_pex2_ctrl register offset (Marcel Ziswiler)
    
      Panasonic UniPhier host bridge driver:
    
       - Remove module code since driver can't be built as a module
         (Masahiro Yamada)
    
      Qualcomm host bridge driver:
    
       - Add support for SDM845 PCIe controller (Bjorn Andersson)
    
      TI Keystone host bridge driver:
    
       - Fix "num-viewport" DT property error handling (Kishon Vijay Abraham I)
    
       - Fix link training retries initiation (Yurii Monakov)
    
       - Fix outbound region mapping (Yurii Monakov)
    
      Misc:
    
       - Add Switchtec Gen4 support (Kelvin Cao)
    
       - Add Switchtec Intercomm Notify and Upstream Error Containment
         support (Logan Gunthorpe)
    
       - Use dma_set_mask_and_coherent() since Switchtec supports 64-bit
         addressing (Wesley Sheng)"
    
    * tag 'pci-v5.6-changes' of git://git.kernel.org/pub/scm/linux/kernel/git/helgaas/pci: (60 commits)
      PCI: Allow adjust_bridge_window() to shrink resource if necessary
      PCI: Set resource size directly in adjust_bridge_window()
      PCI: Rename extend_bridge_window() to adjust_bridge_window()
      PCI: Rename extend_bridge_window() parameter
      PCI: Consider alignment of hot-added bridges when assigning resources
      PCI: Remove local variable usage in pci_bus_distribute_available_resources()
      PCI: Pass size + alignment to pci_bus_distribute_available_resources()
      PCI: Rename variables
      PCI: vmd: Add two VMD Device IDs
      PCI: Remove unnecessary braces
      PCI: brcmstb: Add MSI support
      PCI: brcmstb: Add Broadcom STB PCIe host controller driver
      x86/PCI: Remove X86_DEV_DMA_OPS
      PCI: vmd: Remove dma_map_ops overrides
      iommu/vt-d: Remove VMD child device sanity check
      iommu/vt-d: Use pci_real_dma_dev() for mapping
      PCI: Introduce pci_real_dma_dev()
      x86/PCI: Expose VMD's pci_dev in struct pci_sysdata
      x86/PCI: Add to_pci_sysdata() helper
      PCI/AER: Initialize aer_fifo
      ...

commit 1af5332fcf7c7f29eef55a2304b9ca4e5d09050c
Author: Matti Vaittinen <matti.vaittinen@fi.rohmeurope.com>
Date:   Mon Jan 20 15:41:12 2020 +0200

    dt-bindings: mfd: Document ROHM BD71828 bindings
    
    ROHM BD71828 Power management IC integrates 7 buck converters, 7 LDOs,
    a real-time clock (RTC), 3 GPO/regulator control pins, HALL input
    and a 32.768 kHz clock gate.
    
    Document the dt bindings drivers are using.
    
    Signed-off-by: Matti Vaittinen <matti.vaittinen@fi.rohmeurope.com>
    Reviewed-by: Rob Herring <robh@kernel.org>
    Signed-off-by: Lee Jones <lee.jones@linaro.org>

commit c3bed3b20e40ab44b98ac5f0471a5bd92a802f5a
Merge: 4672c2f2026d 7e124c405172
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Tue Dec 3 13:58:22 2019 -0800

    Merge tag 'pci-v5.5-changes' of git://git.kernel.org/pub/scm/linux/kernel/git/helgaas/pci
    
    Pull PCI updates from Bjorn Helgaas:
     "Enumeration:
    
       - Warn if a host bridge has no NUMA info (Yunsheng Lin)
    
       - Add PCI_STD_NUM_BARS for the number of standard BARs (Denis
         Efremov)
    
      Resource management:
    
       - Fix boot-time Embedded Controller GPE storm caused by incorrect
         resource assignment after ACPI Bus Check Notification (Mika
         Westerberg)
    
       - Protect pci_reassign_bridge_resources() against concurrent
         addition/removal (Benjamin Herrenschmidt)
    
       - Fix bridge dma_ranges resource list cleanup (Rob Herring)
    
       - Add "pci=hpmmiosize" and "pci=hpmmioprefsize" parameters to control
         the MMIO and prefetchable MMIO window sizes of hotplug bridges
         independently (Nicholas Johnson)
    
       - Fix MMIO/MMIO_PREF window assignment that assigned more space than
         desired (Nicholas Johnson)
    
       - Only enforce bus numbers from bridge EA if the bridge has EA
         devices downstream (Subbaraya Sundeep)
    
       - Consolidate DT "dma-ranges" parsing and convert all host drivers to
         use shared parsing (Rob Herring)
    
      Error reporting:
    
       - Restore AER capability after resume (Mayurkumar Patel)
    
       - Add PoisonTLPBlocked AER counter (Rajat Jain)
    
       - Use for_each_set_bit() to simplify AER code (Andy Shevchenko)
    
       - Fix AER kernel-doc (Andy Shevchenko)
    
       - Add "pcie_ports=dpc-native" parameter to allow native use of DPC
         even if platform didn't grant control over AER (Olof Johansson)
    
      Hotplug:
    
       - Avoid returning prematurely from sysfs requests to enable or
         disable a PCIe hotplug slot (Lukas Wunner)
    
       - Don't disable interrupts twice when suspending hotplug ports (Mika
         Westerberg)
    
       - Fix deadlocks when PCIe ports are hot-removed while suspended (Mika
         Westerberg)
    
      Power management:
    
       - Remove unnecessary ASPM locking (Bjorn Helgaas)
    
       - Add support for disabling L1 PM Substates (Heiner Kallweit)
    
       - Allow re-enabling Clock PM after it has been disabled (Heiner
         Kallweit)
    
       - Add sysfs attributes for controlling ASPM link states (Heiner
         Kallweit)
    
       - Remove CONFIG_PCIEASPM_DEBUG, including "link_state" and "clk_ctl"
         sysfs files (Heiner Kallweit)
    
       - Avoid AMD FCH XHCI USB PME# from D0 defect that prevents wakeup on
         USB 2.0 or 1.1 connect events (Kai-Heng Feng)
    
       - Move power state check out of pci_msi_supported() (Bjorn Helgaas)
    
       - Fix incorrect MSI-X masking on resume and revert related nvme quirk
         for Kingston NVME SSD running FW E8FK11.T (Jian-Hong Pan)
    
       - Always return devices to D0 when thawing to fix hibernation with
         drivers like mlx4 that used legacy power management (previously we
         only did it for drivers with new power management ops) (Dexuan Cui)
    
       - Clear PCIe PME Status even for legacy power management (Bjorn
         Helgaas)
    
       - Fix PCI PM documentation errors (Bjorn Helgaas)
    
       - Use dev_printk() for more power management messages (Bjorn Helgaas)
    
       - Apply D2 delay as milliseconds, not microseconds (Bjorn Helgaas)
    
       - Convert xen-platform from legacy to generic power management (Bjorn
         Helgaas)
    
       - Removed unused .resume_early() and .suspend_late() legacy power
         management hooks (Bjorn Helgaas)
    
       - Rearrange power management code for clarity (Rafael J. Wysocki)
    
       - Decode power states more clearly ("4" or "D4" really refers to
         "D3cold") (Bjorn Helgaas)
    
       - Notice when reading PM Control register returns an error (~0)
         instead of interpreting it as being in D3hot (Bjorn Helgaas)
    
       - Add missing link delays required by the PCIe spec (Mika Westerberg)
    
      Virtualization:
    
       - Move pci_prg_resp_pasid_required() to CONFIG_PCI_PRI (Bjorn
         Helgaas)
    
       - Allow VFs to use PRI (the PF PRI is shared by the VFs, but the code
         previously didn't recognize that) (Kuppuswamy Sathyanarayanan)
    
       - Allow VFs to use PASID (the PF PASID capability is shared by the
         VFs, but the code previously didn't recognize that) (Kuppuswamy
         Sathyanarayanan)
    
       - Disconnect PF and VF ATS enablement, since ATS in PFs and
         associated VFs can be enabled independently (Kuppuswamy
         Sathyanarayanan)
    
       - Cache PRI and PASID capability offsets (Kuppuswamy Sathyanarayanan)
    
       - Cache the PRI PRG Response PASID Required bit (Bjorn Helgaas)
    
       - Consolidate ATS declarations in linux/pci-ats.h (Krzysztof
         Wilczynski)
    
       - Remove unused PRI and PASID stubs (Bjorn Helgaas)
    
       - Removed unnecessary EXPORT_SYMBOL_GPL() from ATS, PRI, and PASID
         interfaces that are only used by built-in IOMMU drivers (Bjorn
         Helgaas)
    
       - Hide PRI and PASID state restoration functions used only inside the
         PCI core (Bjorn Helgaas)
    
       - Add a DMA alias quirk for the Intel VCA NTB (Slawomir Pawlowski)
    
       - Serialize sysfs sriov_numvfs reads vs writes (Pierre Crégut)
    
       - Update Cavium ACS quirk for ThunderX2 and ThunderX3 (George
         Cherian)
    
       - Fix the UPDCR register address in the Intel ACS quirk (Steffen
         Liebergeld)
    
       - Unify ACS quirk implementations (Bjorn Helgaas)
    
      Amlogic Meson host bridge driver:
    
       - Fix meson PERST# GPIO polarity problem (Remi Pommarel)
    
       - Add DT bindings for Amlogic Meson G12A (Neil Armstrong)
    
       - Fix meson clock names to match DT bindings (Neil Armstrong)
    
       - Add meson support for Amlogic G12A SoC with separate shared PHY
         (Neil Armstrong)
    
       - Add meson extended PCIe PHY functions for Amlogic G12A USB3+PCIe
         combo PHY (Neil Armstrong)
    
       - Add arm64 DT for Amlogic G12A PCIe controller node (Neil Armstrong)
    
       - Add commented-out description of VIM3 USB3/PCIe mux in arm64 DT
         (Neil Armstrong)
    
      Broadcom iProc host bridge driver:
    
       - Invalidate iProc PAXB address mapping before programming it
         (Abhishek Shah)
    
       - Fix iproc-msi and mvebu __iomem annotations (Ben Dooks)
    
      Cadence host bridge driver:
    
       - Refactor Cadence PCIe host controller to use as a library for both
         host and endpoint (Tom Joseph)
    
      Freescale Layerscape host bridge driver:
    
       - Add layerscape LS1028a support (Xiaowei Bao)
    
      Intel VMD host bridge driver:
    
       - Add VMD bus 224-255 restriction decode (Jon Derrick)
    
       - Add VMD 8086:9A0B device ID (Jon Derrick)
    
       - Remove Keith from VMD maintainer list (Keith Busch)
    
      Marvell ARMADA 3700 / Aardvark host bridge driver:
    
       - Use LTSSM state to build link training flag since Aardvark doesn't
         implement the Link Training bit (Remi Pommarel)
    
       - Delay before training Aardvark link in case PERST# was asserted
         before the driver probe (Remi Pommarel)
    
       - Fix Aardvark issues with Root Control reads and writes (Remi
         Pommarel)
    
       - Don't rely on jiffies in Aardvark config access path since
         interrupts may be disabled (Remi Pommarel)
    
       - Fix Aardvark big-endian support (Grzegorz Jaszczyk)
    
      Marvell ARMADA 370 / XP host bridge driver:
    
       - Make mvebu_pci_bridge_emul_ops static (Ben Dooks)
    
      Microsoft Hyper-V host bridge driver:
    
       - Add hibernation support for Hyper-V virtual PCI devices (Dexuan
         Cui)
    
       - Track Hyper-V pci_protocol_version per-hbus, not globally (Dexuan
         Cui)
    
       - Avoid kmemleak false positive on hv hbus buffer (Dexuan Cui)
    
      Mobiveil host bridge driver:
    
       - Change mobiveil csr_read()/write() function names that conflict
         with riscv arch functions (Kefeng Wang)
    
      NVIDIA Tegra host bridge driver:
    
       - Fix Tegra CLKREQ dependency programming (Vidya Sagar)
    
      Renesas R-Car host bridge driver:
    
       - Remove unnecessary header include from rcar (Andrew Murray)
    
       - Tighten register index checking for rcar inbound range programming
         (Marek Vasut)
    
       - Fix rcar inbound range alignment calculation to improve packing of
         multiple entries (Marek Vasut)
    
       - Update rcar MACCTLR setting to match documentation (Yoshihiro
         Shimoda)
    
       - Clear bit 0 of MACCTLR before PCIETCTLR.CFINIT per manual
         (Yoshihiro Shimoda)
    
       - Add Marek Vasut and Yoshihiro Shimoda as R-Car maintainers (Simon
         Horman)
    
      Rockchip host bridge driver:
    
       - Make rockchip 0V9 and 1V8 power regulators non-optional (Robin
         Murphy)
    
      Socionext UniPhier host bridge driver:
    
       - Set uniphier to host (RC) mode always (Kunihiko Hayashi)
    
      Endpoint drivers:
    
       - Fix endpoint driver sign extension problem when shifting page
         number to phys_addr_t (Alan Mikhak)
    
      Misc:
    
       - Add NumaChip SPDX header (Krzysztof Wilczynski)
    
       - Replace EXTRA_CFLAGS with ccflags-y (Krzysztof Wilczynski)
    
       - Remove unused includes (Krzysztof Wilczynski)
    
       - Removed unused sysfs attribute groups (Ben Dooks)
    
       - Remove PTM and ASPM dependencies on PCIEPORTBUS (Bjorn Helgaas)
    
       - Add PCIe Link Control 2 register field definitions to replace magic
         numbers in AMDGPU and Radeon CIK/SI (Bjorn Helgaas)
    
       - Fix incorrect Link Control 2 Transmit Margin usage in AMDGPU and
         Radeon CIK/SI PCIe Gen3 link training (Bjorn Helgaas)
    
       - Use pcie_capability_read_word() instead of pci_read_config_word()
         in AMDGPU and Radeon CIK/SI (Frederick Lawler)
    
       - Remove unused pci_irq_get_node() Greg Kroah-Hartman)
    
       - Make asm/msi.h mandatory and simplify PCI_MSI_IRQ_DOMAIN Kconfig
         (Palmer Dabbelt, Michal Simek)
    
       - Read all 64 bits of Switchtec part_event_bitmap (Logan Gunthorpe)
    
       - Fix erroneous intel-iommu dependency on CONFIG_AMD_IOMMU (Bjorn
         Helgaas)
    
       - Fix bridge emulation big-endian support (Grzegorz Jaszczyk)
    
       - Fix dwc find_next_bit() usage (Niklas Cassel)
    
       - Fix pcitest.c fd leak (Hewenliang)
    
       - Fix typos and comments (Bjorn Helgaas)
    
       - Fix Kconfig whitespace errors (Krzysztof Kozlowski)"
    
    * tag 'pci-v5.5-changes' of git://git.kernel.org/pub/scm/linux/kernel/git/helgaas/pci: (160 commits)
      PCI: Remove PCI_MSI_IRQ_DOMAIN architecture whitelist
      asm-generic: Make msi.h a mandatory include/asm header
      Revert "nvme: Add quirk for Kingston NVME SSD running FW E8FK11.T"
      PCI/MSI: Fix incorrect MSI-X masking on resume
      PCI/MSI: Move power state check out of pci_msi_supported()
      PCI/MSI: Remove unused pci_irq_get_node()
      PCI: hv: Avoid a kmemleak false positive caused by the hbus buffer
      PCI: hv: Change pci_protocol_version to per-hbus
      PCI: hv: Add hibernation support
      PCI: hv: Reorganize the code in preparation of hibernation
      MAINTAINERS: Remove Keith from VMD maintainer
      PCI/ASPM: Remove PCIEASPM_DEBUG Kconfig option and related code
      PCI/ASPM: Add sysfs attributes for controlling ASPM link states
      PCI: Fix indentation
      drm/radeon: Prefer pcie_capability_read_word()
      drm/radeon: Replace numbers with PCI_EXP_LNKCTL2 definitions
      drm/radeon: Correct Transmit Margin masks
      drm/amdgpu: Prefer pcie_capability_read_word()
      PCI: uniphier: Set mode register to host mode
      drm/amdgpu: Replace numbers with PCI_EXP_LNKCTL2 definitions
      ...

commit 1daa56bcfd8b329447e0c1b1e91c3925d08489b7
Merge: a5255bc31673 9b3a713feef8
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Mon Dec 2 11:05:00 2019 -0800

    Merge tag 'iommu-updates-v5.5' of git://git.kernel.org/pub/scm/linux/kernel/git/joro/iommu
    
    Pull iommu updates from Joerg Roedel:
    
     - Conversion of the AMD IOMMU driver to use the dma-iommu code for
       imlementing the DMA-API. This gets rid of quite some code in the
       driver itself, but also has some potential for regressions (non are
       known at the moment).
    
     - Support for the Qualcomm SMMUv2 implementation in the SDM845 SoC.
       This also includes some firmware interface changes, but those are
       acked by the respective maintainers.
    
     - Preparatory work to support two distinct page-tables per domain in
       the ARM-SMMU driver
    
     - Power management improvements for the ARM SMMUv2
    
     - Custom PASID allocator support
    
     - Multiple PCI DMA alias support for the AMD IOMMU driver
    
     - Adaption of the Mediatek driver to the changed IO/TLB flush interface
       of the IOMMU core code.
    
     - Preparatory patches for the Renesas IOMMU driver to support future
       hardware.
    
    * tag 'iommu-updates-v5.5' of git://git.kernel.org/pub/scm/linux/kernel/git/joro/iommu: (62 commits)
      iommu/rockchip: Don't provoke WARN for harmless IRQs
      iommu/vt-d: Turn off translations at shutdown
      iommu/vt-d: Check VT-d RMRR region in BIOS is reported as reserved
      iommu/arm-smmu: Remove duplicate error message
      iommu/arm-smmu-v3: Don't display an error when IRQ lines are missing
      iommu/ipmmu-vmsa: Add utlb_offset_base
      iommu/ipmmu-vmsa: Add helper functions for "uTLB" registers
      iommu/ipmmu-vmsa: Calculate context registers' offset instead of a macro
      iommu/ipmmu-vmsa: Add helper functions for MMU "context" registers
      iommu/ipmmu-vmsa: tidyup register definitions
      iommu/ipmmu-vmsa: Remove all unused register definitions
      iommu/mediatek: Reduce the tlb flush timeout value
      iommu/mediatek: Get rid of the pgtlock
      iommu/mediatek: Move the tlb_sync into tlb_flush
      iommu/mediatek: Delete the leaf in the tlb_flush
      iommu/mediatek: Use gather to achieve the tlb range flush
      iommu/mediatek: Add a new tlb_lock for tlb_flush
      iommu/mediatek: Correct the flush_iotlb_all callback
      iommu/io-pgtable-arm: Rename IOMMU_QCOM_SYS_CACHE and improve doc
      iommu/io-pgtable-arm: Rationalise MAIR handling
      ...

commit dc413a90edbe715bebebe859dc072ef73d490d70
Merge: e8a1d7011711 80d0c6492442
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Thu May 16 09:19:14 2019 -0700

    Merge tag 'armsoc-drivers' of git://git.kernel.org/pub/scm/linux/kernel/git/soc/soc
    
    Pull ARM SoC-related driver updates from Olof Johansson:
     "Various driver updates for platforms and a couple of the small driver
      subsystems we merge through our tree:
    
      Among the larger pieces:
    
       - Power management improvements for TI am335x and am437x (RTC
         suspend/wake)
    
       - Misc new additions for Amlogic (socinfo updates)
    
       - ZynqMP FPGA manager
    
       - Nvidia improvements for reset/powergate handling
    
       - PMIC wrapper for Mediatek MT8516
    
       - Misc fixes/improvements for ARM SCMI, TEE, NXP i.MX SCU drivers"
    
    * tag 'armsoc-drivers' of git://git.kernel.org/pub/scm/linux/kernel/git/soc/soc: (57 commits)
      soc: aspeed: fix Kconfig
      soc: add aspeed folder and misc drivers
      spi: zynqmp: Fix build break
      soc: imx: Add generic i.MX8 SoC driver
      MAINTAINERS: Update email for Qualcomm SoC maintainer
      memory: tegra: Fix a typos for "fdcdwr2" mc client
      Revert "ARM: tegra: Restore memory arbitration on resume from LP1 on Tegra30+"
      memory: tegra: Replace readl-writel with mc_readl-mc_writel
      memory: tegra: Fix integer overflow on tick value calculation
      memory: tegra: Fix missed registers values latching
      ARM: tegra: cpuidle: Handle tick broadcasting within cpuidle core on Tegra20/30
      optee: allow to work without static shared memory
      soc/tegra: pmc: Move powergate initialisation to probe
      soc/tegra: pmc: Remove reset sysfs entries on error
      soc/tegra: pmc: Fix reset sources and levels
      soc: amlogic: meson-gx-pwrc-vpu: Add support for G12A
      soc: amlogic: meson-gx-pwrc-vpu: Fix power on/off register bitmask
      fpga manager: Adding FPGA Manager support for Xilinx zynqmp
      dt-bindings: fpga: Add bindings for ZynqMP fpga driver
      firmware: xilinx: Add fpga API's
      ...

commit 932f98922f6fca9f8c45274346b49058dd50d51a
Merge: 44b8ef17c435 df1d80aee963
Author: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
Date:   Thu Apr 4 22:25:29 2019 +0200

    Merge tag 'iio-for-5.2a-2' of git://git.kernel.org/pub/scm/linux/kernel/git/jic23/iio into staging-next
    
    Jonathan writes:
    
    First set of new device support, features and fixes for IIO in the 5.2 cycle
    
    Staging graduations
    * ad7780
      - Move this ADC driver out of staging.  Included adding some new features
        along the way (see below). Also added DT bindings.
    
    New device support
    * adis16480
      - Support the ADIS16495 and ADIS16497 IMU devices making
        heavy use of refactoring of various aspects of the driver in precursor
        patches.
    * lsm6dsx
      - Support for the ASM330LHH 6-axis (accelerometer + gyro) sensor.
      - Support for the LSM6DS0X
    * matbotix mb1232
      - New driver for this ultrasound ranging device family. Including bindings.
      - Supports mb1202, mb1212, mb1222, mb1232, mb1242, mb7040 and mb7137.
    * max31856
      - New driver for this thermocouple temperature sensor.
    * meson saradc
      - Support the Meson-G12A (ID addition only).
    * stmpe-adc
      - New driver supporting generic ADC alongside touchscreen support which
        previously existed. Includes DT bindings.
    * vcnl4000
      - Support for the vcln4040 proximity and light sensor, including adding
        DT bindings for this and parts previously supported.
    
    Features
    * core
      - Allow reading of mount matrices from ACPI in addition to DT.
      - Common binding for theromcouple types.
    * ad5933
      - Add ABI docs as there are a few 'unsual' elements about this
        device - perhaps because it's our only impedance analyser.
    * ad7780
      - Add gain and filter gpio support + readback of current gain and filter.
    * adis16480
      - Allow selection fo the dataready pin to be used.
      - Device tree ID table and binding documentation.
      - Support external clock modes, including new bindings.
    * bma180
      - Mount matrix support.
    * bmc150
      - Mount matrix support.
    * bmg160
      - Mount matrix support.
      - DT id table and bindings doc.
    * bmp280
      - Put calibration data into the entropy pool.
    * hmc5843
      - Mount matrix support.
    * itg3200
      - Mount matrix support.
    * kxcjk1013
      - Device tree id table, and binding docs.
    * lpc32xx
      - Add scale when regulator specified including DT docs for regulator.
    * pms7003
      - Add device IDs for all supported parts to driver and binding.
    * stm32-dfsdm
      - Enable hw consumer support, scan mode control and a complex set of
        triggered buffer modes.
      - Power management.
    * stm32-lptimer-counter
      - power management.
      - Document the pinctrl sleep state binding.
    * ti-ads7950
      - GPIO pin support.
    
    Cleanups, minor fixes
    * core
      - Use bitmap_zalloc to make it explicit that is what we are doing.
      - Tidy up all the Kconfig files (which had slowly gotten messy)
      - Fix a forwards definition missing issue in iio/driver.h
    * ad sigma delta core
      - Improve handling of SPI bus locking vs CS assertion.  This has been
        wrong a long time so not rushing this in.
    * ad5064
      - Mlock to local lock.
    * ad5933 (staging cleanup)
      - Multiline comment fixes.
      - Include ordering.
      - SPDX.
      - Tidy up Kconfig help which was a bit missleading.
      - Change some non standard attributes to ABI defined ones.
    * ad7124
      - White space fix.
    * ad7192
      - White space.
      - Use DT clock binding.
      - Improve error reporting.
      - Platform data to DT conversion.
      - Use read_avail callback, mostly to avoid the endless series of
        patches from new contributors trying to falsely put spaces around
        the negative sign.
    * ad7280a
      - Add brackets to macros to avoid potential precedence isseus.
      - Add temp vars for event codes to reduce indent and improved readability.
      - Clean out som CamelCase notation.
      - White space.
    * ad7606
      - Fix broken file naming in MAINTAINERS.
    * ad7780
      - Missing switch defaults to supress warnings and harden the code slightly.
      - Set pattern masks more directly.
      - Add ID values and masks for all supported chips.
      - SPDX + add Renato as a copyright holder as he has done a lot of work on
        this driver.
      - Add brackets to macros to avoid potential precedence issues.
    * ad7923
      - White space fixes.
      - Use BIT macro to improve readability.
      - Add brackets to macros to avoid potential precedence issues.
      - Tidy up a null comparisom.
    * ad9523
      - Fix a typo in naming of variables.
    * adis16400
      - Combine trigger file into main code as no advantage in separate files.
        Rename core file to just adis16400.
      - Squash the header into the c file now there is only one file.
      - Generalize burst mode to support new variants.
    * ak8975
      - Local variable to improve readability around mount matrix support.
    * as3935
      - Avoid potential race by ensuring remove does exact opposite of
        probe rather than a slightly different order.
    * cross_ec
      - Drop some unnecessary includes.
      - Fix some warning and the slightly 'unusual' code.
      - Add some docs for non obvious function.
      - SPDX
    * hmc5843
      - Potential unhandled error case.
    * iio trigger core
      - Print an error if there is no available irq due to max consumers per
        trigger being set to low.
    * iio loop trigger
      - Drop an unlikely on IS_ERR as IS_ERR already has the annotation.
    * ingenic-adc
      - Drop a redundant dev_err call as devm_ioremap_resource reports the same
        internally.
    * lmp91000
      - Drop some unncessary parentheses and white space tidy up.
      - Invert and if statement to improve readability.
      - Fix a wrong error message.
    * lpc32xx
      - Header sorting + drop some unused ones.
    * mma8542
      - Mark a switch fallthrough.
    * mpu6050
      - Add a local variable to improve code readability around mount matrix
        support.
    * mxs-lradc-adc
      - Handle devm_iio_trigger_alloc failure.
    * sps30
      - Fix up a kernel version in the ABI docs.
    * srf04
      - DT binding doc converted to yaml.
    * ssp_sensors
      - Supress a clang build warning due to lack of visibility of conditional
        within a iio_push_to_buffers_with_timestamp.  (reasonable false warning!)
    * st_accel
      - Drop pointless less than 0 comparisom of unsigned int.
    * stm32-dfsdm
      - Improve accuracy of spi_master_frequency calculation.
      - Improve calculation fo sampling frequency.
      - Rework various internals to simplify adding triggered buffer support.
      - Claim direct mode to avoid racing around read_raw and being in buffered
        mode.
    * stmpe
      - Fix a clang false positive warning.
    * ti-ads7950
      - Use local lock rather than using the core mlock when not locking around
        the device mode.
    * vcnl4000
      - Use word writes instead of byte writes.  It seems byte writes are fine
        for some parts (undocument) but not others that the driver will shortly
        support.
    
    Other
    * mailmap
      - Add email address change for Sean Nyekjaer.  Update in relevant drivers
    
    * tag 'iio-for-5.2a-2' of git://git.kernel.org/pub/scm/linux/kernel/git/jic23/iio: (129 commits)
      iio: ad_sigma_delta: Properly handle SPI bus locking vs CS assertion
      iio: adc: stm32-dfsdm: add PM support
      iio: adc: stm32-dfsdm: improve sampling frequency accuracy
      staging: iio: adc: ad7280a: Tab alignment
      MAINTAINERS: Fix the link to ad7606 dt-bindings
      iio:temperature: Add MAX31856 thermocouple support
      iio:temperature:max31856:Add device tree bind info
      dt-bindings: iio/temperature: Add thermocouple types (and doc)
      devantech-srf04.yaml: transform DT binding to YAML
      iio: frequency: ad9523: Fix typo in ad9523_platform_data
      iio: Make possible to include driver.h first
      dt-bindings: iio: add Bosch BMG160 gyroscope sensor
      iio: gyro: bmg160: add device tree compatibility table
      staging: iio: adc: ad7192: Use read_avail for available attributes
      dt-bindings: iio: light: add vcnl4040 devicetree bindings
      iio: light: vcnl4000 add support for the VCNL4040 proximity and light sensor
      dt-bindings: iio: light: add vcnl4000 devicetree bindings
      iio: light: vcnl4000 add devicetree hooks
      iio: light: vcnl4000 use word writes instead of byte writes
      iio: adc: stm32-dfsdm: claim direct mode for raw read and settings
      ...

commit edaea3d904af805545073070307ca5f3afce4e18
Merge: 487b6d0c876e 1578461a1859
Author: Jiri Kosina <jkosina@suse.cz>
Date:   Tue Mar 5 15:33:04 2019 +0100

    Merge branch 'for-5.1/ish' into for-linus
    
    Power management improvements from Song Hongyan
    Switch to new UUID API from Andy Shevchenko
    Generalization the driver bindin to support more than just sensors from Srinivas Pandruvada

commit 889bb74302e5aba85d987b4093344150984d7cda
Merge: 903b77c63167 e2f3f8b4a497
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Sat Dec 29 09:37:03 2018 -0800

    Merge tag 'nds32-for-linus-4.21' of git://git.kernel.org/pub/scm/linux/kernel/git/greentime/linux
    
    Pull nds32 updates from Greentime Hu:
    
     - Perf support
    
     - Power management support
    
     - FPU support
    
     - Hardware prefetcher support
    
     - Build error fixed
    
     - Performance enhancement
    
    * tag 'nds32-for-linus-4.21' of git://git.kernel.org/pub/scm/linux/kernel/git/greentime/linux:
      nds32: support hardware prefetcher
      nds32: Fix the items of hwcap_str ordering issue.
      math-emu/soft-fp.h: (_FP_ROUND_ZERO) cast 0 to void to fix warning
      math-emu/op-2.h: Use statement expressions to prevent negative constant shift
      nds32: support denormalized result through FP emulator
      nds32: Support FP emulation
      nds32: nds32 FPU port
      nds32: Remove duplicated include from pm.c
      nds32: Power management for nds32
      nds32: Add document for NDS32 PMU.
      nds32: Add perf call-graph support.
      nds32: Perf porting
      nds32: Fix bug in bitfield.h
      nds32: Fix gcc 8.0 compiler option incompatible.
      nds32: Fill all TLB entries with kernel image mapping
      nds32: Remove the redundant assignment

commit 7938e6315c9af3d4a40185b537733bbce842305a
Author: Nick Hu <nickhu@andestech.com>
Date:   Wed Oct 24 18:14:32 2018 +0800

    nds32: Power management for nds32
    
    There are three sleep states in nds32:
            suspend to idle,
            suspend to standby,
            suspend to ram
    
    In suspend to ram, we use the 'standby' instruction to emulate
    power management device to hang the system util wakeup source
    send wakeup events to break the loop.
    
    First, we push the general purpose registers and system registers
    to stack. Second, we translate stack pointer to physical address
    and store to memory to save the stack pointer. Third, after write
    back and invalid the cache we hang in 'standby' intruction.
    When wakeup source trigger wake up events, the loop will be break
    and resume the system.
    
    Signed-off-by: Nick Hu <nickhu@andestech.com>
    Acked-by: Pavel Machek <pavel@ucw.cz>
    Acked-by: Greentime Hu <greentime@andestech.com>
    Signed-off-by: Greentime Hu <greentime@andestech.com>

commit 5aebc7d2780df9176ee92f6d3bfd54b04457e349
Merge: 31d099085d54 69e445ab8b66
Author: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
Date:   Fri Oct 5 16:08:12 2018 -0700

    Merge tag 'pm-4.19-rc7' of git://git.kernel.org/pub/scm/linux/kernel/git/rafael/linux-pm
    
    Rafael writes:
      "Power management fix for 4.19-rc7
    
       Fix a bug that may cause runtime PM to misbehave for some devices
       after a failing or aborted system suspend which is nasty enough for
       an -rc7 time frame fix."
    
    * tag 'pm-4.19-rc7' of git://git.kernel.org/pub/scm/linux/kernel/git/rafael/linux-pm:
      PM / core: Clear the direct_complete flag on errors

commit 82ec752cce8b19b69efcfc96303b2ed33e01fd48
Merge: 7a6878bb4e7a d51aea13dd67
Author: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
Date:   Sat Sep 29 06:50:36 2018 -0700

    Merge tag 'pm-4.19-rc6' of git://git.kernel.org/pub/scm/linux/kernel/git/rafael/linux-pm
    
    Rafael writes:
      "Power management fix for 4.19-rc6
    
       Fix incorrect __init and __exit annotations in the Qualcomm
       Kryo cpufreq driver (Nathan Chancellor)."
    
    * tag 'pm-4.19-rc6' of git://git.kernel.org/pub/scm/linux/kernel/git/rafael/linux-pm:
      cpufreq: qcom-kryo: Fix section annotations

commit 18e4b55fbd2069cee51ef9660b35c65ec13bee6d
Author: Matti Vaittinen <matti.vaittinen@fi.rohmeurope.com>
Date:   Fri Sep 14 11:31:36 2018 +0300

    regulator: Support regulators where voltage ranges are selectable
    
    For example ROHM BD71837 and ROHM BD71847 Power management ICs have
    regulators which provide multiple linear ranges. Ranges can be
    selected by individual non contagious bit in vsel register. Add
    regmap helper functions for selecting ranges.
    
    Signed-off-by: Matti Vaittinen <matti.vaittinen@fi.rohmeurope.com>
    Signed-off-by: Mark Brown <broonie@kernel.org>

commit b326272010b6656210193d7ab93fa184087e8ee1
Merge: 1bc276775d93 1aa55ca9b14a
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Sat Aug 25 14:12:36 2018 -0700

    Merge tag 'armsoc-late' of git://git.kernel.org/pub/scm/linux/kernel/git/arm/arm-soc
    
    Pull ARM SoC late updates from Olof Johansson:
     "A couple of late-merged changes that would be useful to get in this
      merge window:
    
       - Driver support for reset of audio complex on Meson platforms. The
         audio driver went in this merge window, and these changes have been
         in -next for a while (just not in our tree).
    
       - Power management fixes for IOMMU on Rockchip platforms, getting
         closer to kexec working on them, including Chromebooks.
    
       - Another pass updating "arm,psci" -> "psci" for some properties that
         have snuck in since last time it was done"
    
    * tag 'armsoc-late' of git://git.kernel.org/pub/scm/linux/kernel/git/arm/arm-soc:
      iommu/rockchip: Move irq request past pm_runtime_enable
      iommu/rockchip: Handle errors returned from PM framework
      arm64: rockchip: Force CONFIG_PM on Rockchip systems
      ARM: rockchip: Force CONFIG_PM on Rockchip systems
      arm64: dts: Fix various entry-method properties to reflect documentation
      reset: imx7: Fix always writing bits as 0
      reset: meson: add meson audio arb driver
      reset: meson: add dt-bindings for meson-axg audio arb

commit 9e259f9352d52053058a234f7c062c4e4f56dc85
Merge: 5563ae9b39c5 f0fc40aff6fe
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Thu Aug 23 13:44:43 2018 -0700

    Merge tag 'armsoc-soc' of git://git.kernel.org/pub/scm/linux/kernel/git/arm/arm-soc
    
    Pull ARM 32-bit SoC platform updates from Olof Johansson:
     "Most of the SoC updates in this cycle are cleanups and moves to more
      modern infrastructure:
    
       - Davinci was moved to common clock framework
    
       - OMAP1-based Amstrad E3 "Superphone" saw a bunch of cleanups to the
         keyboard interface (bitbanged AT keyboard via GPIO).
    
       - Removal of some stale code for Renesas platforms
    
       - Power management improvements for i.MX6LL"
    
    * tag 'armsoc-soc' of git://git.kernel.org/pub/scm/linux/kernel/git/arm/arm-soc: (112 commits)
      ARM: uniphier: select RESET_CONTROLLER
      arm64: uniphier: select RESET_CONTROLLER
      ARM: uniphier: remove empty Makefile
      ARM: exynos: Clear global variable on init error path
      ARM: exynos: Remove outdated maintainer information
      ARM: shmobile: Always enable ARCH_TIMER on SoCs with A7 and/or A15
      ARM: shmobile: r8a7779: hide unused r8a7779_platform_cpu_kill
      soc: r9a06g032: don't build SMP files for non-SMP config
      ARM: shmobile: Add the R9A06G032 SMP enabler driver
      ARM: at91: pm: configure wakeup sources for ULP1 mode
      ARM: at91: pm: add PMC fast startup registers defines
      ARM: at91: pm: Add ULP1 mode support
      ARM: at91: pm: Use ULP0 naming instead of slow clock
      ARM: hisi: handle of_iomap and fix missing of_node_put
      ARM: hisi: check of_iomap and fix missing of_node_put
      ARM: hisi: fix error handling and missing of_node_put
      ARM: mx5: Set the DBGEN bit in ARM_GPC register
      ARM: imx51: Configure M4IF to avoid visual artifacts
      ARM: imx: call imx6sx_cpuidle_init() conditionally for 6sll
      ARM: imx: fix i.MX6SLL build
      ...

commit 54dbe75bbf1e189982516de179147208e90b5e45
Merge: dafa5f6577a9 557ce95051c8
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Wed Aug 15 17:39:07 2018 -0700

    Merge tag 'drm-next-2018-08-15' of git://anongit.freedesktop.org/drm/drm
    
    Pull drm updates from Dave Airlie:
     "This is the main drm pull request for 4.19.
    
      Rob has some new hardware support for new qualcomm hw that I'll send
      along separately. This has the display part of it, the remaining pull
      is for the acceleration engine.
    
      This also contains a wound-wait/wait-die mutex rework, Peter has acked
      it for merging via my tree.
    
      Otherwise mostly the usual level of activity. Summary:
    
      core:
       - Wound-wait/wait-die mutex rework
       - Add writeback connector type
       - Add "content type" property for HDMI
       - Move GEM bo to drm_framebuffer
       - Initial gpu scheduler documentation
       - GPU scheduler fixes for dying processes
       - Console deferred fbcon takeover support
       - Displayport support for CEC tunneling over AUX
    
      panel:
       - otm8009a panel driver fixes
       - Innolux TV123WAM and G070Y2-L01 panel driver
       - Ilitek ILI9881c panel driver
       - Rocktech RK070ER9427 LCD
       - EDT ETM0700G0EDH6 and EDT ETM0700G0BDH6
       - DLC DLC0700YZG-1
       - BOE HV070WSA-100
       - newhaven, nhd-4.3-480272ef-atxl LCD
       - DataImage SCF0700C48GGU18
       - Sharp LQ035Q7DB03
       - p079zca: Refactor to support multiple panels
    
      tinydrm:
       - ILI9341 display panel
    
      New driver:
       - vkms - virtual kms driver to testing.
    
      i915:
       - Icelake:
            Display enablement
            DSI support
            IRQ support
            Powerwell support
       - GPU reset fixes and improvements
       - Full ppgtt support refactoring
       - PSR fixes and improvements
       - Execlist improvments
       - GuC related fixes
    
      amdgpu:
       - Initial amdgpu documentation
       - JPEG engine support on VCN
       - CIK uses powerplay by default
       - Move to using core PCIE functionality for gens/lanes
       - DC/Powerplay interface rework
       - Stutter mode support for RV
       - Vega12 Powerplay updates
       - GFXOFF fixes
       - GPUVM fault debugging
       - Vega12 GFXOFF
       - DC improvements
       - DC i2c/aux changes
       - UVD 7.2 fixes
       - Powerplay fixes for Polaris12, CZ/ST
       - command submission bo_list fixes
    
      amdkfd:
       - Raven support
       - Power management fixes
    
      udl:
       - Cleanups and fixes
    
      nouveau:
       - misc fixes and cleanups.
    
      msm:
       - DPU1 support display controller in sdm845
       - GPU coredump support.
    
      vmwgfx:
       - Atomic modesetting validation fixes
       - Support for multisample surfaces
    
      armada:
       - Atomic modesetting support completed.
    
      exynos:
       - IPPv2 fixes
       - Move g2d to component framework
       - Suspend/resume support cleanups
       - Driver cleanups
    
      imx:
       - CSI configuration improvements
       - Driver cleanups
       - Use atomic suspend/resume helpers
       - ipu-v3 V4L2 XRGB32/XBGR32 support
    
      pl111:
       - Add Nomadik LCDC variant
    
      v3d:
       - GPU scheduler jobs management
    
      sun4i:
       - R40 display engine support
       - TCON TOP driver
    
      mediatek:
       - MT2712 SoC support
    
      rockchip:
       - vop fixes
    
      omapdrm:
       - Workaround for DRA7 errata i932
       - Fix mm_list locking
    
      mali-dp:
       - Writeback implementation
            PM improvements
       - Internal error reporting debugfs
    
      tilcdc:
       - Single fix for deferred probing
    
      hdlcd:
       - Teardown fixes
    
      tda998x:
       - Converted to a bridge driver.
    
      etnaviv:
       - Misc fixes"
    
    * tag 'drm-next-2018-08-15' of git://anongit.freedesktop.org/drm/drm: (1506 commits)
      drm/amdgpu/sriov: give 8s for recover vram under RUNTIME
      drm/scheduler: fix param documentation
      drm/i2c: tda998x: correct PLL divider calculation
      drm/i2c: tda998x: get rid of private fill_modes function
      drm/i2c: tda998x: move mode_valid() to bridge
      drm/i2c: tda998x: register bridge outside of component helper
      drm/i2c: tda998x: cleanup from previous changes
      drm/i2c: tda998x: allocate tda998x_priv inside tda998x_create()
      drm/i2c: tda998x: convert to bridge driver
      drm/scheduler: fix timeout worker setup for out of order job completions
      drm/amd/display: display connected to dp-1 does not light up
      drm/amd/display: update clk for various HDMI color depths
      drm/amd/display: program display clock on cache match
      drm/amd/display: Add NULL check for enabling dp ss
      drm/amd/display: add vbios table check for enabling dp ss
      drm/amd/display: Don't share clk source between DP and HDMI
      drm/amd/display: Fix DP HBR2 Eye Diagram Pattern on Carrizo
      drm/amd/display: Use calculated disp_clk_khz value for dce110
      drm/amd/display: Implement custom degamma lut on dcn
      drm/amd/display: Destroy aux_engines only once
      ...

commit 8eb008c80841e3410ef2c043093478ea36bb5ff1
Merge: 0ab390262c49 fadec6eefe23
Author: Dave Airlie <airlied@redhat.com>
Date:   Fri May 4 10:31:10 2018 +1000

    Merge tag 'drm-intel-next-2018-04-13' of git://anongit.freedesktop.org/drm/drm-intel into drm-next
    
    First drm/i915 feature batch heading for v4.18:
    
    - drm-next backmerge to fix build (Rodrigo)
    - GPU documentation improvements (Kevin)
    - GuC and HuC refactoring, host/GuC communication, logging, fixes, and more
      (mostly Michal and Michał, also Jackie, Michel and Piotr)
    - PSR and PSR2 enabling and fixes (DK, José, Rodrigo and Chris)
    - Selftest updates (Chris, Daniele)
    - DPLL management refactoring (Lucas)
    - DP MST fixes (Lyude and DK)
    - Watermark refactoring and changes to support NV12 (Mahesh)
    - NV12 prep work (Chandra)
    - Icelake Combo PHY enablers (Manasi)
    - Perf OA refactoring and ICL enabling (Lionel)
    - ICL enabling (Oscar, Paulo, Nabendu, Mika, Kelvin, Michel)
    - Workarounds refactoring (Oscar)
    - HDCP fixes and improvements (Ramalingam, Radhakrishna)
    - Power management fixes (Imre)
    - Various display fixes (Maarten, Ville, Vidya, Jani, Gaurav)
    - debugfs for FIFO underrun clearing (Maarten)
    - Execlist improvements (Chris)
    - Reset improvements (Chris)
    - Plenty of things here and there I overlooked and/or didn't understand... (Everyone)
    
    Signed-off-by: Dave Airlie <airlied@redhat.com>
    Link: https://patchwork.freedesktop.org/patch/msgid/87lgd2cze8.fsf@intel.com

commit 5bd6098252104f1007882805e9d7c36924ff6a81
Author: Lior David <liord@codeaurora.org>
Date:   Mon Feb 26 20:12:17 2018 +0200

    wil6210: multiple VIFs support for connections and data path
    
    Track the connection status per-VIF.
    The data path code is also updated to support multiple VIFs.
    This includes RX and TX VRING management, NAPI poll loops,
    RX reordering and related code.
    Power management code used to check if the main interface
    is up or based on connection state of the main interface,
    adapt this code to take all VIFs into account.
    
    Signed-off-by: Lior David <liord@codeaurora.org>
    Signed-off-by: Maya Erez <merez@codeaurora.org>
    Signed-off-by: Kalle Valo <kvalo@codeaurora.org>

commit 8bd60711432a5cc6935da9666ba534cd3e47b9d2
Author: YuanCheng Cheng <onlywig@gmail.com>
Date:   Sat Sep 9 20:54:21 2017 +0800

    ARM: dts: Add initial Pistachio i.mx6q board support.
    
    Working items:
    
    - 800MHz CPU
    - 2GB of RAM (DDR3)
    - 4GB of eMMC storage
    - 1T1R WiFi 2.4 GHz
    - Power management support
    - 1x 10/100/1000 Mbps Ethernet WAN port
    - 2x USB 2.0 Host
    - PCIe
    - HDMI/VGA/LVDS display
    - 1x UART for RS232/422/485
    - 2x UART for RS232
    - 1x UART for serial console
    - 1x CAN bus
    
    Specification: http://nutsboard.org/pistachio
    
    Signed-off-by: YuanCheng Cheng <onlywig@gmail.com>
    Reviewed-by: Fabio Estevam <fabio.estevam@nxp.com>
    Signed-off-by: Shawn Guo <shawnguo@kernel.org>

commit 0160e00ae8e987be8822745fb166aa76451c9bcc
Merge: c81ee18e97e4 b6942b68f85e
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Tue May 9 10:01:15 2017 -0700

    Merge tag 'armsoc-drivers' of git://git.kernel.org/pub/scm/linux/kernel/git/arm/arm-soc
    
    Pull ARM SoC driver updates from Olof Johansson:
     "Driver updates for ARM SoCs:
    
      Reset subsystem, merged through arm-soc by tradition:
       - Make bool drivers explicitly non-modular
       - New support for i.MX7 and Arria10 reset controllers
    
      PATA driver for Palmchip BK371 (acked by Tejun)
    
      Power domain drivers for i.MX (GPC, GPCv2)
       - Moved out of mach-imx for GPC
       - Bunch of tweaks, fixes, etc
    
      PMC support for Tegra186
    
      SoC detection support for Renesas RZ/G1H and RZ/G1N
    
      Move Tegra flow controller driver from mach directory to drivers/soc
       - (Power management / CPU power driver)
    
      Misc smaller tweaks for other platforms"
    
    * tag 'armsoc-drivers' of git://git.kernel.org/pub/scm/linux/kernel/git/arm/arm-soc: (60 commits)
      soc: pm-domain: Fix the mangled urls
      soc: renesas: rcar-sysc: Add support for R-Car H3 ES2.0
      soc: renesas: rcar-sysc: Add support for fixing up power area tables
      soc: renesas: Register SoC device early
      soc: imx: gpc: add workaround for i.MX6QP to the GPC PD driver
      dt-bindings: imx-gpc: add i.MX6 QuadPlus compatible
      soc: imx: gpc: add defines for domain index
      soc: imx: Add GPCv2 power gating driver
      dt-bindings: Add GPCv2 power gating driver
      ARM/clk: move the ICST library to drivers/clk
      ARM: plat-versatile: remove stale clock header
      ARM: keystone: Drop PM domain support for k2g
      soc: ti: Add ti_sci_pm_domains driver
      dt-bindings: Add TI SCI PM Domains
      PM / Domains: Do not check if simple providers have phandle cells
      PM / Domains: Add generic data pointer to genpd data struct
      soc/tegra: Add initial flowctrl support for Tegra132/210
      soc/tegra: flowctrl: Add basic platform driver
      soc/tegra: Move Tegra flowctrl driver
      ARM: tegra: Remove unnecessary inclusion of flowctrl header
      ...

commit 2f34c1231bfc9f2550f934acb268ac7315fb3837
Merge: a3719f34fdb6 8b03d1ed2c43
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Wed May 3 11:44:24 2017 -0700

    Merge tag 'drm-for-v4.12' of git://people.freedesktop.org/~airlied/linux
    
    Pull drm u pdates from Dave Airlie:
     "This is the main drm pull request for v4.12. Apart from two fixes
      pulls, everything should have been in drm-next for at least 2 weeks.
    
      The biggest thing in here is AMD released the public headers for their
      upcoming VEGA GPUs. These as always are quite a sizeable chunk of
      header files. They've also added initial non-display support for those
      GPUs, though they aren't available in production yet.
    
      Otherwise it's pretty much normal.
    
      New bridge drivers:
       - megachips-stdpxxxx-ge-b850v3-fw LVDS->DP++
       - generic LVDS bridge support.
    
      Core:
       - Displayport link train failure reporting to userspace
       - debugfs interface cleaned up
       - subsystem TODO in kerneldoc now
       - Extended fbdev support (flipping and vblank wait)
       - drm_platform removed
       - EDP CRC support in helper
       - HF-VSDB SCDC support in EDID parser
       - Lots of code cleanups and header extraction
       - Thunderbolt external GPU awareness
       - Atomic helper improvements
       - Documentation improvements
    
      panel:
       - Sitronix and Samsung new panel support
    
      amdgpu:
       - Preliminary vega10 support
       - Multi-level page table support
       - GPU sensor support for userspace
       - PRT support for sparse buffers
       - SR-IOV improvements
       - Non-contig VRAM CPU mapping
    
      i915:
       - Atomic modesetting enabled by default on Gen5+
       - LSPCON improvements
       - Atomic state handling for cdclk
       - GPU reset improvements
       - In-kernel unit tests
       - Geminilake improvements and color manager support
       - Designware i2c fixes
       - vblank evasion improvements
       - Hotplug safe connector iterators
       - GVT scheduler QoS support
       - GVT Kabylake support
    
      nouveau:
       - Acceleration support for Pascal (GP10x).
       - Rearchitecture of code handling proprietary signed firmware
       - Fix GTX 970 with odd MMU configuration
       - GP10B support
       - GP107 acceleration support
    
      vmwgfx:
       - Atomic modesetting support for vmwgfx
    
      omapdrm:
       - Support for render nodes
       - Refactor omapdss code
       - Fix some probe ordering issues
       - Fix too dark RGB565 rendering
    
      sunxi:
       - prelim rework for multiple pipes.
    
      mali-dp:
       - Color management support
       - Plane scaling
       - Power management improvements
    
      imx-drm:
       - Prefetch Resolve Engine/Gasket on i.MX6QP
       - Deferred plane disabling
       - Separate alpha support
    
      mediatek:
       - Mediatek SoC MT2701 support
    
      rcar-du:
       - Gen3 HDMI support
    
      msm:
       - 4k support for newer chips
       - OPP bindings for gpu
       - prep work for per-process pagetables
    
      vc4:
       - HDMI audio support
       - fixes
    
      qxl:
       - minor fixes.
    
      dw-hdmi:
       - PHY improvements
       - CSC fixes
       - Amlogic GX SoC support"
    
    * tag 'drm-for-v4.12' of git://people.freedesktop.org/~airlied/linux: (1778 commits)
      drm/nouveau/fb/gf100-: Fix 32 bit wraparound in new ram detection
      drm/nouveau/secboot/gm20b: fix the error return code in gm20b_secboot_tegra_read_wpr()
      drm/nouveau/kms: Increase max retries in scanout position queries.
      drm/nouveau/bios/bitP: check that table is long enough for optional pointers
      drm/nouveau/fifo/nv40: no ctxsw for pre-nv44 mpeg engine
      drm: mali-dp: use div_u64 for expensive 64-bit divisions
      drm/i915: Confirm the request is still active before adding it to the await
      drm/i915: Avoid busy-spinning on VLV_GLTC_PW_STATUS mmio
      drm/i915/selftests: Allocate inode/file dynamically
      drm/i915: Fix system hang with EI UP masked on Haswell
      drm/i915: checking for NULL instead of IS_ERR() in mock selftests
      drm/i915: Perform link quality check unconditionally during long pulse
      drm/i915: Fix use after free in lpe_audio_platdev_destroy()
      drm/i915: Use the right mapping_gfp_mask for final shmem allocation
      drm/i915: Make legacy cursor updates more unsynced
      drm/i915: Apply a cond_resched() to the saturated signaler
      drm/i915: Park the signaler before sleeping
      drm: mali-dp: Check the mclk rate and allow up/down scaling
      drm: mali-dp: Enable image enhancement when scaling
      drm: mali-dp: Add plane upscaling support
      ...

commit ecfc5771ef0617d33a19a75643b7b3708895018e
Author: Shubhrajyoti Datta <shubhrajyoti.datta@xilinx.com>
Date:   Thu Apr 6 12:27:41 2017 +0530

    serial: xuartps: Enable clocks in the pm disable case also
    
    When Power management is disabled then the clocks are not getting
    enabled. This patch enables it for the !PM case also.
    While at it also pm_runtime_set_active is called before
    calling pm_runtime_enable.
    
    Reported-by: Michal Simek <michal.simek@xilinx.com>
    Signed-off-by: Shubhrajyoti Datta <shubhrajyoti.datta@xilinx.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>

commit c82be9d2244aacea9851c86f4fb74694c99cd874
Merge: 3f80dd67c367 6bff9c609f3d
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Thu Mar 2 17:41:27 2017 -0800

    Merge tag 'pm-turbostat-4.11-rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/rafael/linux-pm
    
    Pull turbostat utility updates from Rafael Wysocki:
     "Power management turbostat utility updates.
    
      These update turbostat significantly and in particular:
    
       - default output is now verbose, --debug is no longer required to get
         all counters. As a result, some options have been added to specify
         exactly what output is wanted.
    
       - added --quiet to skip system configuration output
    
       - added --list, --show and --hide parameters
    
       - added --cpu parameter
    
       - enhanced Baytrail SoC support
    
       - added Gemini Lake SoC support
    
       - added sysfs C-state columns
    
      Also the symbol definitions in arch/x86/include/asm/intel-family.h and
      arch/x86/include/asm/msr-index.h are updated and the intel_idle and
      intel_pstate drivers are modified to use the updated symbols.
    
      Credits to Len Brown for all of these changes"
    
    * tag 'pm-turbostat-4.11-rc1' of git://git.kernel.org/pub/scm/linux/kernel/git/rafael/linux-pm: (44 commits)
      tools/power turbostat: version 17.02.24
      tools/power turbostat: bugfix: --add u32 was printed as u64
      tools/power turbostat: show error on exec
      tools/power turbostat: dump p-state software config
      tools/power turbostat: show package number, even without --debug
      tools/power turbostat: support "--hide C1" etc.
      tools/power turbostat: move --Package and --processor into the --cpu option
      tools/power turbostat: turbostat.8 update
      tools/power turbostat: update --list feature
      tools/power turbostat: use wide columns to display large numbers
      tools/power turbostat: Add --list option to show available header names
      tools/power turbostat: fix zero IRQ count shown in one-shot command mode
      tools/power turbostat: add --cpu parameter
      tools/power turbostat: print sysfs C-state stats
      tools/power turbostat: extend --add option to accept /sys path
      tools/power turbostat: skip unused counters on BDX
      tools/power turbostat: fix decoding for GLM, DNV, SKX turbo-ratio limits
      tools/power turbostat: skip unused counters on SKX
      tools/power turbostat: Denverton: use HW CC1 counter, skip C3, C7
      tools/power turbostat: initial Gemini Lake SOC support
      ...

commit 7ff5ab4736333431311a4cbbfb574b155758b08c
Author: Subhash Jadavani <subhashj@codeaurora.org>
Date:   Thu Dec 22 18:39:51 2016 -0800

    scsi: ufs: add tracing support
    
    This change adds the ftrace support for following:
    1. UFS initialization time
    2. Clock gating states
    3. Clock scaling states
    4. Power management APIs latency
    5. BKOPs enable/disable
    
    Usage:
            echo 1 > /sys/kernel/debug/tracing/events/ufs/enable
            cat /sys/kernel/debug/tracing/trace_pipe
    
    Reviewed-by: Sahitya Tummala <stummala@codeaurora.org>
    Signed-off-by: Subhash Jadavani <subhashj@codeaurora.org>
    Signed-off-by: Martin K. Petersen <martin.petersen@oracle.com>

commit ba58d1020a54933c6b087a3107661c8513556cb8
Author: Chen Yu <yu.c.chen@intel.com>
Date:   Mon Nov 28 14:35:19 2016 -0800

    timekeeping: Ignore the bogus sleep time if pm_trace is enabled
    
    Power management suspend/resume tracing (ab)uses the RTC to store
    suspend/resume information persistently. As a consequence the RTC value is
    clobbered when timekeeping is resumed and tries to inject the sleep time.
    
    Commit a4f8f6667f09 ("timekeeping: Cap array access in timekeeping_debug")
    plugged a out of bounds array access in the timekeeping debug code which
    was caused by the clobbered RTC value, but we still use the clobbered RTC
    value for sleep time injection into kernel timekeeping, which will result
    in random adjustments depending on the stored "hash" value.
    
    To prevent this keep track of the RTC clobbering and ignore the invalid RTC
    timestamp at resume. If the system resumed successfully clear the flag,
    which marks the RTC as unusable, warn the user about the RTC clobber and
    recommend to adjust the RTC with 'ntpdate' or 'rdate'.
    
    [jstultz: Fixed up pr_warn formating, and implemented suggestions from Ingo]
    [ tglx: Rewrote changelog ]
    
    Originally-from: Thomas Gleixner <tglx@linutronix.de>
    Signed-off-by: Chen Yu <yu.c.chen@intel.com>
    Signed-off-by: John Stultz <john.stultz@linaro.org>
    Acked-by: Pavel Machek <pavel@ucw.cz>
    Acked-by: Thomas Gleixner <tglx@linutronix.de>
    Cc: Prarit Bhargava <prarit@redhat.com>
    Cc: "Rafael J. Wysocki" <rjw@rjwysocki.net>
    Cc: Richard Cochran <richardcochran@gmail.com>
    Cc: Xunlei Pang <xlpang@redhat.com>
    Cc: Len Brown <lenb@kernel.org>
    Link: http://lkml.kernel.org/r/1480372524-15181-3-git-send-email-john.stultz@linaro.org
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit 5f04c4cfcc92c4de7453037ed2549a96f63ec5a0
Author: Chanwoo Choi <cw00.choi@samsung.com>
Date:   Thu Nov 3 15:39:07 2016 +0900

    arm64: dts: exynos: Add dtsi files for Samsung Exynos5433 64bit SoC
    
    This patch adds new Exynos5433 dtsi to support 64-bit Exynos5433 SoC
    based on Octa-core CPUs (quad Cortex-A57 and quad Cortex-A53).
    Exynos5433 supports PSCI (Power State Coordination Interface) v0.1.
    
    This patch includes following Device Tree nodes to support Exynos5433 SoC:
    1. Octa cores for big.LITTLE architecture
    - Cortex-A53 LITTLE Quad-core
    - Cortex-A57 big Quad-core
    - Supporting PSCI v0.1
    
    2. Clock controller nodes
    - CMU_TOP   : clocks for IMEM/FSYS/G3D/GSCL/HEVC/MSCL/G2D/MFC/PERIC/PERIS
    - CMU_CPIF  : clocks for LLI (Low Latency Interface)
    - CMU_MIF   : clocks for DRAM Memory Controller
    - CMU_PERIC : clocks for UART/I2C/SPI/I2S/PCM/SPDIF/PWM/SLIMBUS
    - CMU_PERIS : clocks for PMU/TMU/MCT/WDT/RTC/SECKEY/TZPC
    - CMU_FSYS  : clocks for USB/UFS/SDMMC/TSI/PDMA
    - CMU_G2D   : clocks for G2D/MDMA
    - CMU_DISP  : clocks for DECON/HDMI/DSIM/MIXER
    - CMU_AUD   : clocks for Cortex-A5/BUS/AUDIO
    - CMU_BUS{0|1|2} : clocks for global data buses and global peripheral buses
    - CMU_G3D   : clocks for 3D Graphics Engine
    - CMU_GSCL  : clocks for GSCALER
    - CMU_APOLLO: clocks for Cortex-A53 Quad-core processor.
    - CMU_ATLAS : clocks for Cortex-A57 Quad-core processor,
                  CoreSight and L2 cache controller.
    - CMU_MSCL  : clocks for M2M (Memory to Memory) scaler and JPEG IPs.
    - CMU_MFC   : clocks for MFC (Multi-Format Codec) IP.
    - CMU_HEVC  : clocks for HEVC(High Efficiency Video Codec) decoder IP.
    - CMU_ISP   : clocks for FIMC-ISP/DRC/SCLC/DIS/3DNR IPs.
    - CMU_CAM0  : clocks for MIPI_CSIS{0|1}/FIMC_LITE_{A|B|D}/FIMC_3AA{0|1} IPs.
    - CMU_CAM1  : clocks for COrtex-A5/MIPI_CSIS2/FIMC_LITE_C/FIMC-FD IPs.
    
    3. Pinctrl nodes for GPIO
    - alive/aud/cpif/ese/finger/fsys/imem/nfc/peric/touch pad
    
    4. Timers
    - ARM architecture timer (armv8-timer)
    - MCT (Multi Core Timer) timer
    
    5. Interrupt controller (GIC-400)
    
    6. BUS devices
    - HS-I2C (High-Speed I2C) device
    - SPI (Serial Peripheral Interface) device
    
    7. Sound devices
    - I2S bus
    - LPASS (Low Power Audio Subsystem)
    
    8. Power management devices
    - CPUFREQ for for Cortex-A53/A57
    - TMU (Thermal Management Unit) for Cortex-A53/A57, G3D, ISP
    
    9. Display controller devices
    - DECON (Display and enhancement controller) for panel output
    - DSI (Display Serial Interface)
    - MIC (Mobile Image Compressor)
    
    10. USB
    - USB 3.0 DRD (Dual Role Device) controller
    - USB 3.0 Host controller
    
    11. Storage devices
    - MSHC (Mobile Storage Host Controller)
    
    12. Misc devices
    - UART devices
    - ADC (Analog Digital Converter)
    - PWM (Pulse Width Modulation)
    - ADMA (Advanced DMA) and PDMA (Peripheral DMA)
    
    Signed-off-by: Chanwoo Choi <cw00.choi@samsung.com>
    Signed-off-by: Jaehoon Chung <jh80.chung@samsung.com>
    Signed-off-by: Seung-Woo Kim <sw0312.kim@samsung.com>
    Signed-off-by: Joonyoung Shim <jy0922.shim@samsung.com>
    Signed-off-by: Inki Dae <inki.dae@samsung.com>
    Signed-off-by: Jonghwa Lee <jonghwa3.lee@samsung.com>
    Signed-off-by: Beomho Seo <beomho.seo@samsung.com>
    Signed-off-by: Jaewon Kim <jaewon02.kim@samsung.com>
    Signed-off-by: Hyungwon Hwang <human.hwang@samsung.com>
    Signed-off-by: Inha Song <ideal.song@samsung.com>
    Signed-off-by: Ingi kim <ingi2.kim@samsung.com>
    Signed-off-by: Marek Szyprowski <m.szyprowski@samsung.com>
    Signed-off-by: Andrzej Hajda <a.hajda@samsung.com>
    Signed-off-by: Sylwester Nawrocki <s.nawrocki@samsung.com>
    Reviewed-by: Javier Martinez Canillas <javier@osg.samsung.com>
    Tested-by: Andi Shyti <andi.shyti@samsung.com>
    Signed-off-by: Krzysztof Kozlowski <krzk@kernel.org>

commit a1873c62710b23e9afbd2faeed5f28649cbe4739
Merge: 5481e27f6fd0 3495a1035793
Author: Dave Airlie <airlied@redhat.com>
Date:   Fri Oct 28 10:35:59 2016 +1000

    Merge branch 'drm-next-4.10' of git://people.freedesktop.org/~agd5f/linux into drm-next
    
    First new feature pull for 4.10.  Highlights:
    - Support for multple virtual displays in the virtual dce component
    - New VM mgr to support non-contiguous vram buffers
    - Support for UVD powergating on additional asics
    - Power management improvements
    - lots of code cleanup and bug fixes
    
    * 'drm-next-4.10' of git://people.freedesktop.org/~agd5f/linux: (107 commits)
      drm/amdgpu: turn on/off uvd clock when dpm enable/disable on CI
      drm/amdgpu: disable dpm before turn off clock when vce idle.
      drm/amdgpu: enable uvd bypass mode for CI/VI.
      drm/amdgpu: just not load smc firmware if smu is already running
      drm/amdgpu: when suspend, set boot state instand of disable dpm.
      drm/amdgpu: use failed label to handle context init failure
      drm/amdgpu: add amdgpu_ttm_bo_eviction_valuable callback
      drm/ttm: make eviction decision a driver callback v2
      drm/ttm: fix coding style in ttm_bo_driver.h
      drm/radeon/pm: autoswitch power state when in balanced mode
      drm/amd/powerplay: fix spelling mistake and add KERN_WARNING to printks
      drm/amdgpu:new ids flag for preempt
      drm/amdgpu: mark symbols static where possible
      drm/amdgpu: change function declarations and add missing header dependencies
      drm/amdgpu: s/amdgpuCrtc/amdgpu_crtc/ in pageflip code
      drm/amdgpu/atom: remove a bunch of unused functions
      drm/amdgpu: consolidate atom scratch reg handling for hangs
      drm/amdgpu: use amdgpu_bo_[create|free]_kernel for wb
      drm/amdgpu: add VCE VM session tracking
      drm/amdgpu: improve parse_cs handling a bit
      ...

commit 44060abe1dd609d5efa641cce3784777ff5d507f
Merge: a4b8e71b05c2 6add49fff923
Author: David S. Miller <davem@davemloft.net>
Date:   Sun Oct 23 17:51:38 2016 -0400

    Merge branch 'for-upstream' of git://git.kernel.org/pub/scm/linux/kernel/git/bluetooth/bluetooth
    
    Johan Hedberg says:
    
    ====================
    pull request: bluetooth 2016-10-21
    
    Here are some more Bluetooth fixes for the 4.9 kernel:
    
     - Fix to btwilink driver probe function return value
     - Power management fix to hci_bcm
     - Fix to encoding name in scan response data
    
    Please let me know if there are any issues pulling. Thanks.
    ====================
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit e6e3d8f8f4f06caf25004c749bb2ba84f18c7d39
Merge: fbbea3899014 bdf530984d10
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Fri Oct 7 11:46:37 2016 -0700

    Merge tag 'pci-v4.9-changes' of git://git.kernel.org/pub/scm/linux/kernel/git/helgaas/pci
    
    Pull PCI updates from Bjorn Helgaas:
     "Summary of PCI changes for the v4.9 merge window:
    
      Enumeration:
       - microblaze: Add multidomain support for procfs (Bharat Kumar Gogada)
    
      Resource management:
       - Ignore requested alignment for PROBE_ONLY and fixed resources (Yongji Xie)
       - Ignore requested alignment for VF BARs (Yongji Xie)
    
      PCI device hotplug:
       - Make core explicitly non-modular (Paul Gortmaker)
    
      PCIe native device hotplug:
       - Rename pcie_isr() locals for clarity (Bjorn Helgaas)
       - Return IRQ_NONE when we can't read interrupt status (Bjorn Helgaas)
       - Remove unnecessary guard (Bjorn Helgaas)
       - Clean up dmesg "Slot(%s)" messages (Bjorn Helgaas)
       - Remove useless pciehp_get_latch_status() calls (Bjorn Helgaas)
       - Clear attention LED on device add (Keith Busch)
       - Allow exclusive userspace control of indicators (Keith Busch)
       - Process all hotplug events before looking for new ones (Mayurkumar Patel)
       - Don't re-read Slot Status when queuing hotplug event (Mayurkumar Patel)
       - Don't re-read Slot Status when handling surprise event (Mayurkumar Patel)
       - Make explicitly non-modular (Paul Gortmaker)
    
      Power management:
       - Afford direct-complete to devices with non-standard PM (Lukas Wunner)
       - Query platform firmware for device power state (Lukas Wunner)
       - Recognize D3cold in pci_update_current_state() (Lukas Wunner)
       - Avoid unnecessary resume after direct-complete (Lukas Wunner)
       - Make explicitly non-modular (Paul Gortmaker)
    
      Virtualization:
       - Mark Atheros AR9580 to avoid bus reset (Maik Broemme)
       - Check for pci_setup_device() failure in pci_iov_add_virtfn() (Po Liu)
    
      MSI:
       - Enable PCI_MSI_IRQ_DOMAIN support for ARC (Joao Pinto)
    
      AER:
       - Remove aerdriver.nosourceid kernel parameter (Bjorn Helgaas)
       - Remove aerdriver.forceload kernel parameter (Bjorn Helgaas)
       - Fix aer_probe() kernel-doc comment (Cao jin)
       - Add bus flag to skip source ID matching (Jon Derrick)
       - Avoid memory allocation in interrupt handling path (Jon Derrick)
       - Cache capability position (Keith Busch)
       - Make explicitly non-modular (Paul Gortmaker)
       - Remove duplicate AER severity translation (Tyler Baicar)
       - Send correct severity to calculate AER severity (Tyler Baicar)
    
      Precision Time Measurement:
       - Add Precision Time Measurement (PTM) support (Jonathan Yong)
       - Add PTM clock granularity information (Bjorn Helgaas)
       - Add pci_enable_ptm() for drivers to enable PTM on endpoints (Bjorn Helgaas)
    
      Generic host bridge driver:
       - Fix pci_remap_iospace() failure path (Lorenzo Pieralisi)
       - Make explicitly non-modular (Paul Gortmaker)
    
      Altera host bridge driver:
       - Remove redundant platform_get_resource() return value check (Bjorn Helgaas)
       - Poll for link training status after retraining the link (Ley Foon Tan)
       - Rework config accessors for use without a struct pci_bus (Ley Foon Tan)
       - Move retrain from fixup to altera_pcie_host_init() (Ley Foon Tan)
       - Make MSI explicitly non-modular (Paul Gortmaker)
       - Make explicitly non-modular (Paul Gortmaker)
       - Relax device number checking to allow SR-IOV (Po Liu)
    
      ARM Versatile host bridge driver:
       - Fix pci_remap_iospace() failure path (Lorenzo Pieralisi)
    
      Axis ARTPEC-6 host bridge driver:
       - Drop __init from artpec6_add_pcie_port() (Niklas Cassel)
    
      Freescale i.MX6 host bridge driver:
       - Make explicitly non-modular (Paul Gortmaker)
    
      Intel VMD host bridge driver:
       - Add quirk for AER to ignore source ID (Jon Derrick)
       - Allocate IRQ lists with correct MSI-X count (Jon Derrick)
       - Convert to use pci_alloc_irq_vectors() API (Jon Derrick)
       - Eliminate vmd_vector member from list type (Jon Derrick)
       - Eliminate index member from IRQ list (Jon Derrick)
       - Synchronize with RCU freeing MSI IRQ descs (Keith Busch)
       - Request userspace control of PCIe hotplug indicators (Keith Busch)
       - Move VMD driver to drivers/pci/host (Keith Busch)
    
      Marvell Aardvark host bridge driver:
       - Fix pci_remap_iospace() failure path (Lorenzo Pieralisi)
       - Remove redundant dev_err call in advk_pcie_probe() (Wei Yongjun)
    
      Microsoft Hyper-V host bridge driver:
       - Use zero-length array in struct pci_packet (Dexuan Cui)
       - Use pci_function_description[0] in struct definitions (Dexuan Cui)
       - Remove the unused 'wrk' in struct hv_pcibus_device (Dexuan Cui)
       - Handle vmbus_sendpacket() failure in hv_compose_msi_msg() (Dexuan Cui)
       - Handle hv_pci_generic_compl() error case (Dexuan Cui)
       - Use list_move_tail() instead of list_del() + list_add_tail() (Wei Yongjun)
    
      NVIDIA Tegra host bridge driver:
       - Fix pci_remap_iospace() failure path (Lorenzo Pieralisi)
       - Remove redundant _data suffix (Thierry Reding)
       - Use of_device_get_match_data() (Thierry Reding)
    
      Qualcomm host bridge driver:
       - Make explicitly non-modular (Paul Gortmaker)
    
      Renesas R-Car host bridge driver:
       - Consolidate register space lookup and ioremap (Bjorn Helgaas)
       - Don't disable/unprepare clocks on prepare/enable failure (Geert Uytterhoeven)
       - Add multi-MSI support (Grigory Kletsko)
       - Fix pci_remap_iospace() failure path (Lorenzo Pieralisi)
       - Fix some checkpatch warnings (Sergei Shtylyov)
       - Try increasing PCIe link speed to 5 GT/s at boot (Sergei Shtylyov)
    
      Rockchip host bridge driver:
       - Add DT bindings for Rockchip PCIe controller (Shawn Lin)
       - Add Rockchip PCIe controller support (Shawn Lin)
       - Improve the deassert sequence of four reset pins (Shawn Lin)
       - Fix wrong transmitted FTS count (Shawn Lin)
       - Increase the Max Credit update interval (Rajat Jain)
    
      Samsung Exynos host bridge driver:
       - Make explicitly non-modular (Paul Gortmaker)
    
      ST Microelectronics SPEAr13xx host bridge driver:
       - Make explicitly non-modular (Paul Gortmaker)
    
      Synopsys DesignWare host bridge driver:
       - Return data directly from dw_pcie_readl_rc() (Bjorn Helgaas)
       - Exchange viewport of `MEMORYs' and `CFGs/IOs' (Dong Bo)
       - Check LTSSM training bit before deciding link is up (Jisheng Zhang)
       - Move link wait definitions to .c file (Joao Pinto)
       - Wait for iATU enable (Joao Pinto)
       - Add iATU Unroll feature (Joao Pinto)
       - Fix pci_remap_iospace() failure path (Lorenzo Pieralisi)
       - Make explicitly non-modular (Paul Gortmaker)
       - Relax device number checking to allow SR-IOV (Po Liu)
       - Keep viewport fixed for IO transaction if num_viewport > 2 (Pratyush Anand)
       - Remove redundant platform_get_resource() return value check (Wei Yongjun)
    
      TI DRA7xx host bridge driver:
       - Make explicitly non-modular (Paul Gortmaker)
    
      TI Keystone host bridge driver:
       - Propagate request_irq() failure (Wei Yongjun)
    
      Xilinx AXI host bridge driver:
       - Keep both legacy and MSI interrupt domain references (Bharat Kumar Gogada)
       - Clear interrupt register for invalid interrupt (Bharat Kumar Gogada)
       - Clear correct MSI set bit (Bharat Kumar Gogada)
       - Dispose of MSI virtual IRQ (Bharat Kumar Gogada)
       - Make explicitly non-modular (Paul Gortmaker)
       - Relax device number checking to allow SR-IOV (Po Liu)
    
      Xilinx NWL host bridge driver:
       - Expand error logging (Bharat Kumar Gogada)
       - Enable all MSI interrupts using MSI mask (Bharat Kumar Gogada)
       - Make explicitly non-modular (Paul Gortmaker)
    
      Miscellaneous:
       - Drop CONFIG_KEXEC_CORE ifdeffery (Lukas Wunner)
       - portdrv: Make explicitly non-modular (Paul Gortmaker)
       - Make DPC explicitly non-modular (Paul Gortmaker)"
    
    * tag 'pci-v4.9-changes' of git://git.kernel.org/pub/scm/linux/kernel/git/helgaas/pci: (105 commits)
      x86/PCI: VMD: Move VMD driver to drivers/pci/host
      PCI: rockchip: Fix wrong transmitted FTS count
      PCI: rockchip: Improve the deassert sequence of four reset pins
      PCI: rockchip: Increase the Max Credit update interval
      PCI: rcar: Try increasing PCIe link speed to 5 GT/s at boot
      PCI/AER: Fix aer_probe() kernel-doc comment
      PCI: Ignore requested alignment for VF BARs
      PCI: Ignore requested alignment for PROBE_ONLY and fixed resources
      PCI: Avoid unnecessary resume after direct-complete
      PCI: Recognize D3cold in pci_update_current_state()
      PCI: Query platform firmware for device power state
      PCI: Afford direct-complete to devices with non-standard PM
      PCI/AER: Cache capability position
      PCI/AER: Avoid memory allocation in interrupt handling path
      x86/PCI: VMD: Request userspace control of PCIe hotplug indicators
      PCI: pciehp: Allow exclusive userspace control of indicators
      ACPI / APEI: Send correct severity to calculate AER severity
      PCI/AER: Remove duplicate AER severity translation
      x86/PCI: VMD: Synchronize with RCU freeing MSI IRQ descs
      x86/PCI: VMD: Eliminate index member from IRQ list
      ...

commit 4cea8776571b18db7485930cb422faa739580c8c
Merge: 77e5bdf9f7b2 035ee288ae7a
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Wed Sep 14 14:06:30 2016 -0700

    Merge tag 'pci-v4.8-fixes-2' of git://git.kernel.org/pub/scm/linux/kernel/git/helgaas/pci
    
    Pull PCI fixes from Bjorn Helgaas:
     "Here are two changes for v4.8.  The first fixes a "[Firmware Bug]: reg
      0x10: invalid BAR (can't size)" warning on Haswell, and the second
      fixes a problem in some new runtime suspend functionality we merged
      for v4.8.  Summary:
    
      Enumeration:
        Mark Haswell Power Control Unit as having non-compliant BARs (Bjorn Helgaas)
    
      Power management:
        Fix bridge_d3 update on device removal (Lukas Wunner)"
    
    * tag 'pci-v4.8-fixes-2' of git://git.kernel.org/pub/scm/linux/kernel/git/helgaas/pci:
      PCI: Fix bridge_d3 update on device removal
      PCI: Mark Haswell Power Control Unit as having non-compliant BARs

commit c8d0267efdb4ab16cd0ed6e0218e8c164006de48
Merge: affe8a2abd0d 9454c23852ca
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Tue Aug 2 17:12:29 2016 -0400

    Merge tag 'pci-v4.8-changes' of git://git.kernel.org/pub/scm/linux/kernel/git/helgaas/pci
    
    Pull PCI updates from Bjorn Helgaas:
     "Highlights:
    
       - ARM64 support for ACPI host bridges
    
       - new drivers for Axis ARTPEC-6 and Marvell Aardvark
    
       - new pci_alloc_irq_vectors() interface for MSI-X, MSI, legacy INTx
    
       - pci_resource_to_user() cleanup (more to come)
    
      Detailed summary:
    
      Enumeration:
       - Move ecam.h to linux/include/pci-ecam.h (Jayachandran C)
       - Add parent device field to ECAM struct pci_config_window (Jayachandran C)
       - Add generic MCFG table handling (Tomasz Nowicki)
       - Refactor pci_bus_assign_domain_nr() for CONFIG_PCI_DOMAINS_GENERIC (Tomasz Nowicki)
       - Factor DT-specific pci_bus_find_domain_nr() code out (Tomasz Nowicki)
    
      Resource management:
       - Add devm_request_pci_bus_resources() (Bjorn Helgaas)
       - Unify pci_resource_to_user() declarations (Bjorn Helgaas)
       - Implement pci_resource_to_user() with pcibios_resource_to_bus() (microblaze, powerpc, sparc) (Bjorn Helgaas)
       - Request host bridge window resources (designware, iproc, rcar, xgene, xilinx, xilinx-nwl) (Bjorn Helgaas)
       - Make PCI I/O space optional on ARM32 (Bjorn Helgaas)
       - Ignore write combining when mapping I/O port space (Bjorn Helgaas)
       - Claim bus resources on MIPS PCI_PROBE_ONLY set-ups (Bjorn Helgaas)
       - Remove unicore32 pci=firmware command line parameter handling (Bjorn Helgaas)
       - Support I/O resources when parsing host bridge resources (Jayachandran C)
       - Add helpers to request/release memory and I/O regions (Johannes Thumshirn)
       - Use pci_(request|release)_mem_regions (NVMe, lpfc, GenWQE, ethernet/intel, alx) (Johannes Thumshirn)
       - Extend pci=resource_alignment to specify device/vendor IDs (Koehrer Mathias (ETAS/ESW5))
       - Add generic pci_bus_claim_resources() (Lorenzo Pieralisi)
       - Claim bus resources on ARM32 PCI_PROBE_ONLY set-ups (Lorenzo Pieralisi)
       - Remove ARM32 and ARM64 arch-specific pcibios_enable_device() (Lorenzo Pieralisi)
       - Add pci_unmap_iospace() to unmap I/O resources (Sinan Kaya)
       - Remove powerpc __pci_mmap_set_pgprot() (Yinghai Lu)
    
      PCI device hotplug:
       - Allow additional bus numbers for hotplug bridges (Keith Busch)
       - Ignore interrupts during D3cold (Lukas Wunner)
    
      Power management:
       - Enforce type casting for pci_power_t (Andy Shevchenko)
       - Don't clear d3cold_allowed for PCIe ports (Mika Westerberg)
       - Put PCIe ports into D3 during suspend (Mika Westerberg)
       - Power on bridges before scanning new devices (Mika Westerberg)
       - Runtime resume bridge before rescan (Mika Westerberg)
       - Add runtime PM support for PCIe ports (Mika Westerberg)
       - Remove redundant check of pcie_set_clkpm (Shawn Lin)
    
      Virtualization:
       - Add function 1 DMA alias quirk for Marvell 88SE9182 (Aaron Sierra)
       - Add DMA alias quirk for Adaptec 3805 (Alex Williamson)
       - Mark Atheros AR9485 and QCA9882 to avoid bus reset (Chris Blake)
       - Add ACS quirk for Solarflare SFC9220 (Edward Cree)
    
      MSI:
       - Fix PCI_MSI dependencies (Arnd Bergmann)
       - Add pci_msix_desc_addr() helper (Christoph Hellwig)
       - Switch msix_program_entries() to use pci_msix_desc_addr() (Christoph Hellwig)
       - Make the "entries" argument to pci_enable_msix() optional (Christoph Hellwig)
       - Provide sensible IRQ vector alloc/free routines (Christoph Hellwig)
       - Spread interrupt vectors in pci_alloc_irq_vectors() (Christoph Hellwig)
    
      Error Handling:
       - Bind DPC to Root Ports as well as Downstream Ports (Keith Busch)
       - Remove DPC tristate module option (Keith Busch)
       - Convert Downstream Port Containment driver to use devm_* functions (Mika Westerberg)
    
      Generic host bridge driver:
       - Select IRQ_DOMAIN (Arnd Bergmann)
       - Claim bus resources on PCI_PROBE_ONLY set-ups (Lorenzo Pieralisi)
    
      ACPI host bridge driver:
       - Add ARM64 acpi_pci_bus_find_domain_nr() (Tomasz Nowicki)
       - Add ARM64 ACPI support for legacy IRQs parsing and consolidation with DT code (Tomasz Nowicki)
       - Implement ARM64 AML accessors for PCI_Config region (Tomasz Nowicki)
       - Support ARM64 ACPI-based PCI host controller (Tomasz Nowicki)
    
      Altera host bridge driver:
       - Check link status before retrain link (Ley Foon Tan)
       - Poll for link up status after retraining the link (Ley Foon Tan)
    
      Axis ARTPEC-6 host bridge driver:
       - Add PCI_MSI_IRQ_DOMAIN dependency (Arnd Bergmann)
       - Add DT binding for Axis ARTPEC-6 PCIe controller (Niklas Cassel)
       - Add Axis ARTPEC-6 PCIe controller driver (Niklas Cassel)
    
      Intel VMD host bridge driver:
       - Use lock save/restore in interrupt enable path (Jon Derrick)
       - Select device dma ops to override (Keith Busch)
       - Initialize list item in IRQ disable (Keith Busch)
       - Use x86_vector_domain as parent domain (Keith Busch)
       - Separate MSI and MSI-X vector sharing (Keith Busch)
    
      Marvell Aardvark host bridge driver:
       - Add DT binding for the Aardvark PCIe controller (Thomas Petazzoni)
       - Add Aardvark PCI host controller driver (Thomas Petazzoni)
       - Add Aardvark PCIe support for Armada 3700 (Thomas Petazzoni)
    
      Microsoft Hyper-V host bridge driver:
       - Fix interrupt cleanup path (Cathy Avery)
       - Don't leak buffer in hv_pci_onchannelcallback() (Vitaly Kuznetsov)
       - Handle all pending messages in hv_pci_onchannelcallback() (Vitaly Kuznetsov)
    
      NVIDIA Tegra host bridge driver:
       - Program PADS_REFCLK_CFG* always, not just on legacy SoCs (Stephen Warren)
       - Program PADS_REFCLK_CFG* registers with per-SoC values (Stephen Warren)
       - Use lower-case hex consistently for register definitions (Thierry Reding)
       - Use generic pci_remap_iospace() rather than ARM32-specific one (Thierry Reding)
       - Stop setting pcibios_min_mem (Thierry Reding)
    
      Renesas R-Car host bridge driver:
       - Drop gen2 dummy I/O port region (Bjorn Helgaas)
    
      TI DRA7xx host bridge driver:
       - Fix return value in case of error (Christophe JAILLET)
    
      Xilinx AXI host bridge driver:
       - Fix return value in case of error (Christophe JAILLET)
    
      Miscellaneous:
       - Make bus_attr_resource_alignment static (Ben Dooks)
       - Include <asm/dma.h> for isa_dma_bridge_buggy (Ben Dooks)
       - MAINTAINERS: Add file patterns for PCI device tree bindings (Geert Uytterhoeven)
       - Make host bridge drivers explicitly non-modular (Paul Gortmaker)"
    
    * tag 'pci-v4.8-changes' of git://git.kernel.org/pub/scm/linux/kernel/git/helgaas/pci: (125 commits)
      PCI: xgene: Make explicitly non-modular
      PCI: thunder-pem: Make explicitly non-modular
      PCI: thunder-ecam: Make explicitly non-modular
      PCI: tegra: Make explicitly non-modular
      PCI: rcar-gen2: Make explicitly non-modular
      PCI: rcar: Make explicitly non-modular
      PCI: mvebu: Make explicitly non-modular
      PCI: layerscape: Make explicitly non-modular
      PCI: keystone: Make explicitly non-modular
      PCI: hisi: Make explicitly non-modular
      PCI: generic: Make explicitly non-modular
      PCI: designware-plat: Make it explicitly non-modular
      PCI: artpec6: Make explicitly non-modular
      PCI: armada8k: Make explicitly non-modular
      PCI: artpec: Add PCI_MSI_IRQ_DOMAIN dependency
      PCI: Add ACS quirk for Solarflare SFC9220
      arm64: dts: marvell: Add Aardvark PCIe support for Armada 3700
      PCI: aardvark: Add Aardvark PCI host controller driver
      dt-bindings: add DT binding for the Aardvark PCIe controller
      PCI: tegra: Program PADS_REFCLK_CFG* registers with per-SoC values
      ...

commit ff3bb2f5c3cd70f4dd642525916f300bffaff0ae
Author: Laxman Dewangan <ldewangan@nvidia.com>
Date:   Thu Jun 9 18:59:05 2016 +0530

    watchdog: max77620: Add support for watchdog timer
    
    Maxim PMIC MAX77620 is Power management IC which have multiple
    sub blocks like regulators (DCDC/LDOs), GPIO, RTC, Clock, Watchdog
    timer etc.
    
    Add the driver for watchdog timer under watchdog framework.
    The driver implements the watchdog callbacks to start, stop,
    ping and set timeout for watchodg framework.
    
    Signed-off-by: Laxman Dewangan <ldewangan@nvidia.com>
    Reviewed-by: Guenter Roeck <linux@roeck-us.net>
    Signed-off-by: Guenter Roeck <linux@roeck-us.net>
    Signed-off-by: Wim Van Sebroeck <wim@iguana.be>

commit a64424d722504926f3375bc4887976e3bfe3a01d
Merge: 0552f7651bc2 84fae133f0cc
Author: Dave Airlie <airlied@redhat.com>
Date:   Fri May 6 14:17:22 2016 +1000

    Merge branch 'drm-next-4.7' of git://people.freedesktop.org/~agd5f/linux into drm-next
    
    This is the first big radeon/amdgpu pull request for 4.7.  Highlights:
        - Polaris support in amdgpu
          Current display stack on par with other asics, for advanced features DAL is required
          Power management support
          Support for GFX, Compute, SDMA, UVD, VCE
        - VCE and UVD init/fini cleanup in radeon
        - GPUVM improvements
        - Scheduler improvements
        - Clockgating improvements
        - Powerplay improvements
        - TTM changes to support driver specific LRU update mechanism
        - Radeon support for new Mesa features
        - ASYNC pageflip support for radeon
        - Lots of bug fixes and code cleanups
    
    * 'drm-next-4.7' of git://people.freedesktop.org/~agd5f/linux: (180 commits)
      drm/amdgpu: Replace rcu_assign_pointer() with RCU_INIT_POINTER()
      drm/amdgpu: use drm_mode_vrefresh() rather than mode->vrefresh
      drm/amdgpu/uvd6: add bypass support for fiji (v3)
      drm/amdgpu/fiji: set UVD CG state when enabling UVD DPM (v2)
      drm/powerplay: add missing clockgating callback for tonga
      drm/amdgpu: Constify some tables
      drm/amd/powerplay: Delete dead struct declaration
      drm/amd/powerplay/hwmgr: don't add invalid voltage
      drm/amd/powerplay/hwmgr: prevent VDDC from exceeding 2V
      MAINTAINERS: Remove unneded wildcard for the Radeon/AMDGPU drivers
      drm/radeon: add cayman VM support for append packet.
      drm/amd/amdgpu: Add debugfs entries for smc/didt/pcie
      drm/amd/amdgpu: Drop print_status callbacks.
      drm/amd/powerplay: revise reading/writing pptable on Polaris10
      drm/amd/powerplay: revise reading/writing pptable on Tonga
      drm/amd/powerplay: revise reading/writing pptable on Fiji
      drm/amd/powerplay: revise caching the soft pptable and add it's size
      drm/amd/powerplay: add dpm force multiple levels on cz/tonga/fiji/polaris (v2)
      drm/amd/powerplay: fix fan speed percent setting error on Polaris10
      drm/amd/powerplay: fix bug dpm can't work when resume back on Polaris
      ...

commit d43421565bf0510d35e6a39ebf96586ad486f3aa
Merge: 859e76254490 9662e32c810a
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Thu Jan 21 11:52:16 2016 -0800

    Merge tag 'pci-v4.5-changes' of git://git.kernel.org/pub/scm/linux/kernel/git/helgaas/pci
    
    Pull PCI updates from Bjorn Helgaas:
     "PCI changes for the v4.5 merge window:
    
      Enumeration:
       - Simplify config space size computation (Bjorn Helgaas)
       - Avoid iterating through ROM outside the resource window (Edward O'Callaghan)
       - Support PCIe devices with short cfg_size (Jason S. McMullan)
       - Add Netronome vendor and device IDs (Jason S. McMullan)
       - Limit config space size for Netronome NFP6000 family (Jason S. McMullan)
       - Add Netronome NFP4000 PF device ID (Simon Horman)
       - Limit config space size for Netronome NFP4000 (Simon Horman)
       - Print warnings for all invalid expansion ROM headers (Vladis Dronov)
    
      Resource management:
       - Fix minimum allocation address overwrite (Christoph Biedl)
    
      PCI device hotplug:
       - acpiphp_ibm: Fix null dereferences on null ibm_slot (Colin Ian King)
       - pciehp: Always protect pciehp_disable_slot() with hotplug mutex (Guenter Roeck)
       - shpchp: Constify hpc_ops structure (Julia Lawall)
       - ibmphp: Remove unneeded NULL test (Julia Lawall)
    
      Power management:
       - Make ASPM sysfs link_state_store() consistent with link_state_show() (Andy Lutomirski)
    
      Virtualization
       - Add function 1 DMA alias quirk for Lite-On/Plextor M6e/Marvell 88SS9183 (Tim Sander)
    
      MSI:
       - Remove empty pci_msi_init_pci_dev() (Bjorn Helgaas)
       - Mark PCIe/PCI (MSI) IRQ cascade handlers as IRQF_NO_THREAD (Grygorii Strashko)
       - Initialize MSI capability for all architectures (Guilherme G. Piccoli)
       - Relax msi_domain_alloc() to support parentless MSI irqdomains (Liu Jiang)
    
      ARM Versatile host bridge driver:
       - Remove unused pci_sys_data structures (Lorenzo Pieralisi)
    
      Broadcom iProc host bridge driver:
       - Hide CONFIG_PCIE_IPROC (Arnd Bergmann)
       - Do not use 0x in front of %pap (Dmitry V. Krivenok)
       - Update iProc PCIe device tree binding (Ray Jui)
       - Add PAXC interface support (Ray Jui)
       - Add iProc PCIe MSI device tree binding (Ray Jui)
       - Add iProc PCIe MSI support (Ray Jui)
    
      Freescale i.MX6 host bridge driver:
       - Use gpio_set_value_cansleep() (Fabio Estevam)
       - Add support for active-low reset GPIO (Petr Štetiar)
    
      HiSilicon host bridge driver:
       - Add support for HiSilicon Hip06 PCIe host controllers (Gabriele Paoloni)
    
      Intel VMD host bridge driver:
       - Export irq_domain_set_info() for module use (Keith Busch)
       - x86/PCI: Allow DMA ops specific to a PCI domain (Keith Busch)
       - Use 32 bit PCI domain numbers (Keith Busch)
       - Add driver for Intel Volume Management Device (VMD) (Keith Busch)
    
      Qualcomm host bridge driver:
       - Document PCIe devicetree bindings (Stanimir Varbanov)
       - Add Qualcomm PCIe controller driver (Stanimir Varbanov)
       - dts: apq8064: add PCIe devicetree node (Stanimir Varbanov)
       - dts: ifc6410: enable PCIe DT node for this board (Stanimir Varbanov)
    
      Renesas R-Car host bridge driver:
       - Add support for R-Car H3 to pcie-rcar (Harunobu Kurokawa)
       - Allow DT to override default window settings (Phil Edworthy)
       - Convert to DT resource parsing API (Phil Edworthy)
       - Revert "PCI: rcar: Build pcie-rcar.c only on ARM" (Phil Edworthy)
       - Remove unused pci_sys_data struct from pcie-rcar (Phil Edworthy)
       - Add runtime PM support to pcie-rcar (Phil Edworthy)
       - Add Gen2 PHY setup to pcie-rcar (Phil Edworthy)
       - Add gen2 fallback compatibility string for pci-rcar-gen2 (Simon Horman)
       - Add gen2 fallback compatibility string for pcie-rcar (Simon Horman)
    
      Synopsys DesignWare host bridge driver:
       - Simplify control flow (Bjorn Helgaas)
       - Make config accessor override checking symmetric (Bjorn Helgaas)
       - Ensure ATU is enabled before IO/conf space accesses (Stanimir Varbanov)
    
      Miscellaneous:
       - Add of_pci_get_host_bridge_resources() stub (Arnd Bergmann)
       - Check for PCI_HEADER_TYPE_BRIDGE equality, not bitmask (Bjorn Helgaas)
       - Fix all whitespace issues (Bogicevic Sasa)
       - x86/PCI: Simplify pci_bios_{read,write} (Geliang Tang)
       - Use to_pci_dev() instead of open-coding it (Geliang Tang)
       - Use kobj_to_dev() instead of open-coding it (Geliang Tang)
       - Use list_for_each_entry() to simplify code (Geliang Tang)
       - Fix typos in <linux/msi.h> (Thomas Petazzoni)
       - x86/PCI: Clarify AMD Fam10h config access restrictions comment (Tomasz Nowicki)"
    
    * tag 'pci-v4.5-changes' of git://git.kernel.org/pub/scm/linux/kernel/git/helgaas/pci: (58 commits)
      PCI: Add function 1 DMA alias quirk for Lite-On/Plextor M6e/Marvell 88SS9183
      PCI: Limit config space size for Netronome NFP4000
      PCI: Add Netronome NFP4000 PF device ID
      x86/PCI: Add driver for Intel Volume Management Device (VMD)
      PCI/AER: Use 32 bit PCI domain numbers
      x86/PCI: Allow DMA ops specific to a PCI domain
      irqdomain: Export irq_domain_set_info() for module use
      PCI: host: Add of_pci_get_host_bridge_resources() stub
      genirq/MSI: Relax msi_domain_alloc() to support parentless MSI irqdomains
      PCI: rcar: Add Gen2 PHY setup to pcie-rcar
      PCI: rcar: Add runtime PM support to pcie-rcar
      PCI: designware: Make config accessor override checking symmetric
      PCI: ibmphp: Remove unneeded NULL test
      ARM: dts: ifc6410: enable PCIe DT node for this board
      ARM: dts: apq8064: add PCIe devicetree node
      PCI: hotplug: Use list_for_each_entry() to simplify code
      PCI: rcar: Remove unused pci_sys_data struct from pcie-rcar
      PCI: hisi: Add support for HiSilicon Hip06 PCIe host controllers
      PCI: Avoid iterating through memory outside the resource window
      PCI: acpiphp_ibm: Fix null dereferences on null ibm_slot
      ...

commit 9638685e32af961943b679fcb72d4ddd458eb18f
Merge: 03d7d12415e3 ce96cb7386a5
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Wed Jan 20 18:42:30 2016 -0800

    Merge tag 'armsoc-drivers' of git://git.kernel.org/pub/scm/linux/kernel/git/arm/arm-soc
    
    Pull ARM SoC driver updates from Olof Johansson:
     "Driver updates for ARM SoCs.  Some for SoC-family code under
      drivers/soc, but also some other driver updates that don't belong
      anywhere else.  We also bring in the drivers/reset code through
      arm-soc.
    
      Some of the larger updates:
    
       - Qualcomm support for SMEM, SMSM, SMP2P.  All used to communicate
         with other parts of the chip/board on these platforms, all
         proprietary protocols that don't fit into other subsystems and live
         in drivers/soc for now.
    
       - System bus driver for UniPhier
    
       - Driver for the TI Wakeup M3 IPC device
    
       - Power management for Raspberry PI
    
      + Again a bunch of other smaller updates and patches"
    
    * tag 'armsoc-drivers' of git://git.kernel.org/pub/scm/linux/kernel/git/arm/arm-soc: (38 commits)
      bus: uniphier: allow only built-in driver
      ARM: bcm2835: clarify RASPBERRYPI_FIRMWARE dependency
      MAINTAINERS: Drop Kumar Gala from QCOM
      bus: uniphier-system-bus: add UniPhier System Bus driver
      ARM: bcm2835: add rpi power domain driver
      dt-bindings: add rpi power domain driver bindings
      ARM: bcm2835: Define two new packets from the latest firmware.
      drivers/soc: make mediatek/mtk-scpsys.c explicitly non-modular
      soc: mediatek: SCPSYS: Add regulator support
      MAINTAINERS: Change QCOM entries
      soc: qcom: smd-rpm: Add existing platform support
      memory/tegra: Add number of TLB lines for Tegra124
      reset: hi6220: fix modular build
      soc: qcom: Introduce WCNSS_CTRL SMD client
      ARM: qcom: select ARM_CPU_SUSPEND for power management
      MAINTAINERS: Add rules for Qualcomm dts files
      soc: qcom: enable smsm/smp2p modular build
      serial: msm_serial: Make config tristate
      soc: qcom: smp2p: Qualcomm Shared Memory Point to Point
      soc: qcom: smsm: Add driver for Qualcomm SMSM
      ...

commit d517f274e9db414ae4d6df5173c3e7f41b9dac66
Author: Vaibhav Hiremath <vaibhav.hiremath@linaro.org>
Date:   Wed Oct 21 16:50:20 2015 +0530

    greybus: platform: Add platform driver for DB3 AP bridge
    
    With DB3, we now have AP as a master as far as AP bridges are concerned.
    SVC will talk only to AP and AP will control bridges; unlike other
    module interfaces.
    
    So AP supposed to manage/control bridges in all power states including
    power on reset.
    
    During power on reset AP should follow below sequence -
    
    Sequence (treated as a Cold Boot)
    
    Stage-1
    =======
    AP:
     - Power On (Power up from PMIC to AP)
     - AP start booting
       Since power to AP bridges are controlled through gpio, power is gated
       to APB1 & 2
       No ref_clk to APB available (under SVC's control)
     - AP configures USB hub to enable HSIC interface to APB
     - As part of platform driver probe, AP follow below sequence
       - Set the pinctrl in default state
       - Hold APBs in reset by pulling down reset pin
       - Enable power to APB by enabling regulator and switches
       - De-assert (set 'low') 'boot_ret' signal
     - AP will assert (set 'high') the wake_detect signal, triggering
       connect/detect event to the SVC
     - AP waits for wake pulse from SVC
    
     SVC:
     - Power On (power up from PMIC to SVC)
     - SVC starts booting
     - SVC will de-assert reset signal to unipro switch
       - Switch starts booting
     - SVC confirms switch boot status using SPI (or something)
     - SVC waits for 300 msec (ES2 known issue)
     - SVC waits for detect/connect event from AP
    
    Stage-2
    =======
    SVC:
     - ON connect/detect event, SVC send back wake pulse (cold boot)
       to AP over wake_detect pin, if SVC boot is completed.
    
    AP:
     - On wake pulse from SVC (for cold boot), AP de-asserts (set high')
       reset signal to APB 1 and/or 2
     - Bridges starts booting
     - Eventually Unipro linkup occurs
    
    Testing:
    
     - Build tested against Helium kernel
     - Due to unavailability of MSM and DB3 platform, only minimal testing
       has been done.
     - Code has been modified for validation on Helium + SDB platform.
        Mostly dts changes for gpio numbers
        And debug messages to check gpio values
     - On Helium + SDB platform, with addition of debug messages validated
       the sequence.
    
    TODO list:
    
     - Currently _only_ supports power on sequence (cold boot).
       Both warm and cold boot support. Cold and Warm boot is
       differentiated based on pulse width of wake_detect signal
          >=5 msec = Cold boot else Warm boot
     - No support for Power management
       So the "power-down", "power-off", "wake_in" and "wake_out"
       signals are not explored/implemented.
     - Support for Work thread
        repetitive wake signal if no response from peer
        May required for PM support, as we have delays in the sequences
     - pinctrl states, specially to make sure we enable right pullup or pulldown
       when we set wake_detect pin to input
     - Convert gpio list into an array, and associated xxx-gpio-name property
    
    Signed-off-by: Vaibhav Hiremath <vaibhav.hiremath@linaro.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@google.com>

commit 1099f86044111e9a7807f09523e42d4c9d0fb781
Merge: 7379047d5585 37850e37fcfb
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Mon Oct 19 09:55:40 2015 -0700

    Merge git://git.kernel.org/pub/scm/linux/kernel/git/davem/net
    
    Pull networking fixes from David Miller:
    
     1) Account for extra headroom in ath9k driver, from Felix Fietkau.
    
     2) Fix OOPS in pppoe driver due to incorrect socket state transition,
        from Guillaume Nault.
    
     3) Kill memory leak in amd-xgbe debugfx, from Geliang Tang.
    
     4) Power management fixes for iwlwifi, from Johannes Berg.
    
     5) Fix races in reqsk_queue_unlink(), from Eric Dumazet.
    
     6) Fix dst_entry usage in ARP replies, from Jiri Benc.
    
     7) Cure OOPSes with SO_GET_FILTER, from Daniel Borkmann.
    
     8) Missing allocation failure check in amd-xgbe, from Tom Lendacky.
    
     9) Various resource allocation/freeing cures in DSA< from Neil
        Armstrong.
    
    10) A series of bug fixes in the openvswitch conntrack support, from
        Joe Stringer.
    
    11) Fix two cases (BPF and act_mirred) where we have to clean the sender
        cpu stored in the SKB before transmitting.  From WANG Cong and
        Alexei Starovoitov.
    
    12) Disable VLAN filtering in promiscuous mode in mlx5 driver, from
        Achiad Shochat.
    
    13) Older bnx2x chips cannot do 4-tuple UDP hashing, so prevent this
        configuration via ethtool.  From Yuval Mintz.
    
    14) Don't call rt6_uncached_list_flush_dev() from rt6_ifdown() when
        'dev' is NULL, from Eric Biederman.
    
    15) Prevent stalled link synchronization in tipc, from Jon Paul Maloy.
    
    16) kcalloc() gstrings ethtool buffer before having driver fill it in,
        in order to prevent kernel memory leaking.  From Joe Perches.
    
    17) Fix mixxing rt6_info initialization for blackhole routes, from
        Martin KaFai Lau.
    
    18) Kill VLAN regression in via-rhine, from Andrej Ota.
    
    19) Missing pfmemalloc check in sk_add_backlog(), from Eric Dumazet.
    
    20) Fix spurious MSG_TRUNC signalling in netlink dumps, from Ronen Arad.
    
    21) Scrube SKBs when pushing them between namespaces in openvswitch,
        from Joe Stringer.
    
    22) bcmgenet enables link interrupts too early, fix from Florian
        Fainelli.
    
    * git://git.kernel.org/pub/scm/linux/kernel/git/davem/net: (92 commits)
      net: bcmgenet: Fix early link interrupt enabling
      tunnels: Don't require remote endpoint or ID during creation.
      openvswitch: Scrub skb between namespaces
      xen-netback: correctly check failed allocation
      net: asix: add support for the Billionton GUSB2AM-1G-B USB adapter
      netlink: Trim skb to alloc size to avoid MSG_TRUNC
      net: add pfmemalloc check in sk_add_backlog()
      via-rhine: fix VLAN receive handling regression.
      ipv6: Initialize rt6_info properly in ip6_blackhole_route()
      ipv6: Move common init code for rt6_info to a new function rt6_info_init()
      Bluetooth: Fix initializing conn_params in scan phase
      Bluetooth: Fix conn_params list update in hci_connect_le_scan_cleanup
      Bluetooth: Fix remove_device behavior for explicit connects
      Bluetooth: Fix LE reconnection logic
      Bluetooth: Fix reference counting for LE-scan based connections
      Bluetooth: Fix double scan updates
      mlxsw: core: Fix race condition in __mlxsw_emad_transmit
      tipc: move fragment importance field to new header position
      ethtool: Use kcalloc instead of kmalloc for ethtool_get_strings
      tipc: eliminate risk of stalled link synchronization
      ...

commit a3ff23375aa4dac7ceee2087f02b4141c78c762e
Author: Guo Zeng <Guo.Zeng@csr.com>
Date:   Fri Aug 14 01:11:03 2015 +0000

    clk: atlas7: fix noc/socket disconnect/reconnect for unit clks
    
    Power management on of NoC(Notwork On Chip) requires that disconnect
    and reconnect routine should been done during clk disable/enable.
    
    also there are different types of clocks,
    For NoC Macro clocks, write idle_bit and wait for hardward ACK;
    For Socket clocks, write idle_bit;
    For others, do nothing.
    
    Signed-off-by: Guo Zeng <Guo.Zeng@csr.com>
    Signed-off-by: Barry Song <Baohua.Song@csr.com>
    Signed-off-by: Michael Turquette <mturquette@baylibre.com>

commit 5dcd2461073a43b2aa48ab5cfc135ba182667794
Merge: a1ef48e1e884 6818375e974a
Author: David S. Miller <davem@davemloft.net>
Date:   Mon Sep 21 16:00:44 2015 -0700

    Merge branch 'for-upstream' of git://git.kernel.org/pub/scm/linux/kernel/git/bluetooth/bluetooth-next
    
    Johan Hedberg says:
    
    ====================
    pull request: bluetooth-next 2015-09-18
    
    Here's the first bluetooth-next pull request for the 4.4 kernel:
    
     - ieee802154 cleanups & fixes
     - debugfs support for the at86rf230 driver
     - Support for quirky (seemingly counterfeit) CSR Bluetooth controllers
     - Power management and device config improvements for Intel controllers
     - Fix for devices with incorrect advertising data length
     - Fix for closing HCI user channel socket
    
    Please let me know if there are any issues pulling. Thanks.
    ====================
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 88a99886c26fec8bf662e7b6bc080431a8660326
Merge: 8d2faea67260 1ab36387ea4f
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Fri Sep 4 10:22:09 2015 -0700

    Merge tag 'pinctrl-v4.3-1' of git://git.kernel.org/pub/scm/linux/kernel/git/linusw/linux-pinctrl
    
    Pull pin control updates from Linus Walleij:
     "This is the bulk of pin control changes for the v4.3 development
      cycle.
    
      Like with GPIO it's a lot of stuff.  If my subsystems are any sign of
      the overall tempo of the kernel v4.3 will be a gigantic diff.
    
    [ It looks like 4.3 is calmer than 4.2 in most other subsystems, but
      we'll see - Linus ]
    
      Core changes:
    
       - It is possible configure groups in debugfs.
    
       - Consolidation of chained IRQ handler install/remove replacing all
         call sites where irq_set_handler_data() and
         irq_set_chained_handler() were done in succession with a combined
         call to irq_set_chained_handler_and_data().  This series was
         created by Thomas Gleixner after the problem was observed by
         Russell King.
    
       - Tglx also made another series of patches switching
         __irq_set_handler_locked() for irq_set_handler_locked() which is
         way cleaner.
    
       - Tglx also wrote a good bunch of patches to make use of
         irq_desc_get_xxx() accessors and avoid looking up irq_descs from
         IRQ numbers.  The goal is to get rid of the irq number from the
         handlers in the IRQ flow which is nice.
    
      Driver feature enhancements:
    
       - Power management support for the SiRF SoC Atlas 7.
    
       - Power down support for the Qualcomm driver.
    
       - Intel Cherryview and Baytrail: switch drivers to use raw spinlocks
         in IRQ handlers to play nice with the realtime patch set.
    
       - Rework and new modes handling for Qualcomm SPMI-MPP.
    
       - Pinconf power source config for SH PFC.
    
      New drivers and subdrivers:
    
       - A new driver for Conexant Digicolor CX92755.
    
       - A new driver for UniPhier PH1-LD4, PH1-Pro4, PH1-sLD8, PH1-Pro5,
         ProXtream2 and PH1-LD6b SoC pin control support.
    
       - Reverse-egineered the S/PDIF settings for the Allwinner sun4i
         driver.
    
       - Support for Qualcomm Technologies QDF2xxx ARM64 SoCs
    
       - A new Freescale i.mx6ul subdriver.
    
      Cleanup:
    
       - Remove platform data support in a number of SH PFC subdrivers"
    
    * tag 'pinctrl-v4.3-1' of git://git.kernel.org/pub/scm/linux/kernel/git/linusw/linux-pinctrl: (95 commits)
      pinctrl: at91: fix null pointer dereference
      pinctrl: mediatek: Implement wake handler and suspend resume
      pinctrl: mediatek: Fix multiple registration issue.
      pinctrl: sh-pfc: r8a7794: add USB pin groups
      pinctrl: at91: Use generic irq_{request,release}_resources()
      pinctrl: cherryview: Use raw_spinlock for locking
      pinctrl: baytrail: Use raw_spinlock for locking
      pinctrl: imx6ul: Remove .owner field
      pinctrl: zynq: Fix typos in smc0_nand_grp and smc0_nor_grp
      pinctrl: sh-pfc: Implement pinconf power-source param for voltage switching
      clk: rockchip: add pclk_pd_pmu to the list of rk3288 critical clocks
      pinctrl: sun4i: add spdif to pin description.
      pinctrl: atlas7: clear ugly branch statements for pull and drivestrength
      pinctrl: baytrail: Serialize all register access
      pinctrl: baytrail: Drop FSF mailing address
      pinctrl: rockchip: only enable gpio clock when it setting
      pinctrl/mediatek: fix spelling mistake in dev_err error message
      pinctrl: cherryview: Serialize all register access
      pinctrl: UniPhier: PH1-Pro5: add I2C ch6 pin-mux setting
      pinctrl: nomadik: reflect current input value
      ...

commit 26f8b7edc9eab56638274f5db90848a6df602081
Merge: edc837da4b54 9ca678d1dff6
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Mon Aug 31 17:14:39 2015 -0700

    Merge tag 'pci-v4.3-changes' of git://git.kernel.org/pub/scm/linux/kernel/git/helgaas/pci
    
    Pull PCI updates from Bjorn Helgaas:
     "PCI changes for the v4.3 merge window:
    
      Enumeration:
       - Allocate ATS struct during enumeration (Bjorn Helgaas)
       - Embed ATS info directly into struct pci_dev (Bjorn Helgaas)
       - Reduce size of ATS structure elements (Bjorn Helgaas)
       - Stop caching ATS Invalidate Queue Depth (Bjorn Helgaas)
       - iommu/vt-d: Cache PCI ATS state and Invalidate Queue Depth (Bjorn Helgaas)
       - Move MPS configuration check to pci_configure_device() (Bjorn Helgaas)
       - Set MPS to match upstream bridge (Keith Busch)
       - ARM/PCI: Set MPS before pci_bus_add_devices() (Murali Karicheri)
       - Add pci_scan_root_bus_msi() (Lorenzo Pieralisi)
       - ARM/PCI, designware, xilinx: Use pci_scan_root_bus_msi() (Lorenzo Pieralisi)
    
      Resource management:
       - Call pci_read_bridge_bases() from core instead of arch code (Lorenzo Pieralisi)
    
      PCI device hotplug:
       - pciehp: Remove unused interrupt events (Bjorn Helgaas)
       - pciehp: Remove ignored MRL sensor interrupt events (Bjorn Helgaas)
       - pciehp: Handle invalid data when reading from non-existent devices (Jarod Wilson)
       - pciehp: Simplify pcie_poll_cmd() (Yijing Wang)
       - Use "slot" and "pci_slot" for struct hotplug_slot and struct pci_slot (Yijing Wang)
       - Protect pci_bus->slots with pci_slot_mutex, not pci_bus_sem (Yijing Wang)
       - Hold pci_slot_mutex while searching bus->slots list (Yijing Wang)
    
      Power management:
       - Disable async suspend/resume for JMicron multi-function SATA/AHCI (Zhang Rui)
    
      Virtualization:
       - Add ACS quirks for Intel I219-LM/V (Alex Williamson)
       - Restore ACS configuration as part of pci_restore_state() (Alexander Duyck)
    
      MSI:
       - Add pcibios_alloc_irq() and pcibios_free_irq() (Jiang Liu)
       - x86: Implement pcibios_alloc_irq() and pcibios_free_irq() (Jiang Liu)
       - Add helpers to manage pci_dev->irq and pci_dev->irq_managed (Jiang Liu)
       - Free legacy IRQ when enabling MSI/MSI-X (Jiang Liu)
       - ARM/PCI: Remove msi_controller from struct pci_sys_data (Lorenzo Pieralisi)
       - Remove unused pcibios_msi_controller() hook (Lorenzo Pieralisi)
    
      Generic host bridge driver:
       - Remove dependency on ARM-specific struct hw_pci (Jayachandran C)
       - Build setup-irq.o for arm64 (Jayachandran C)
       - Add arm64 support (Jayachandran C)
    
      APM X-Gene host bridge driver:
       - Add APM X-Gene PCIe 64-bit prefetchable window (Duc Dang)
       - Add support for a 64-bit prefetchable memory window (Duc Dang)
       - Drop owner assignment from platform_driver (Krzysztof Kozlowski)
    
      Broadcom iProc host bridge driver:
       - Allow BCMA bus driver to be built as module (Hauke Mehrtens)
       - Delete unnecessary checks before phy calls (Markus Elfring)
       - Add arm64 support (Ray Jui)
    
      Synopsys DesignWare host bridge driver:
       - Don't complain missing *config* reg space if va_cfg0 is set (Murali Karicheri)
    
      TI DRA7xx host bridge driver:
       - Disable pm_runtime on get_sync failure (Kishon Vijay Abraham I)
       - Add PM support (Kishon Vijay Abraham I)
       - Clear MSE bit during suspend so clocks will idle (Kishon Vijay Abraham I)
       - Add support to make GPIO drive PERST# line (Kishon Vijay Abraham I)
    
      Xilinx AXI host bridge driver:
       - Check for MSI interrupt flag before handling as INTx (Russell Joyce)
    
      Miscellaneous:
       - Fix Intersil/Techwell TW686[4589] AV capture class code (Krzysztof Hałasa)
       - Use PCI_CLASS_SERIAL_USB instead of bare number (Bjorn Helgaas)
       - Fix generic NCR 53c810 class code quirk (Bjorn Helgaas)
       - Fix TI816X class code quirk (Bjorn Helgaas)
       - Remove unused "pci_probe" flags (Bjorn Helgaas)
       - Host bridge driver code simplifications (Fabio Estevam)
       - Add dev_flags bit to access VPD through function 0 (Mark Rustad)
       - Add VPD function 0 quirk for Intel Ethernet devices (Mark Rustad)
       - Kill off set_irq_flags() usage (Rob Herring)
       - Remove Intel Cherrytrail D3 delays (Srinidhi Kasagar)
       - Clean up pci_find_capability() (Wei Yang)"
    
    * tag 'pci-v4.3-changes' of git://git.kernel.org/pub/scm/linux/kernel/git/helgaas/pci: (72 commits)
      PCI: Disable async suspend/resume for JMicron multi-function SATA/AHCI
      PCI: Set MPS to match upstream bridge
      PCI: Move MPS configuration check to pci_configure_device()
      PCI: Drop references acquired by of_parse_phandle()
      PCI/MSI: Remove unused pcibios_msi_controller() hook
      ARM/PCI: Remove msi_controller from struct pci_sys_data
      ARM/PCI, designware, xilinx: Use pci_scan_root_bus_msi()
      PCI: Add pci_scan_root_bus_msi()
      ARM/PCI: Replace panic with WARN messages on failures
      PCI: generic: Add arm64 support
      PCI: Build setup-irq.o for arm64
      PCI: generic: Remove dependency on ARM-specific struct hw_pci
      PCI: imx6: Simplify a trivial if-return sequence
      PCI: spear: Use BUG_ON() instead of condition followed by BUG()
      PCI: dra7xx: Remove unneeded use of IS_ERR_VALUE()
      PCI: Remove pci_ats_enabled()
      PCI: Stop caching ATS Invalidate Queue Depth
      PCI: Move ATS declarations to linux/pci.h so they're all together
      PCI: Clean up ATS error handling
      PCI: Use pci_physfn() rather than looking up physfn by hand
      ...

commit 0aa65cc0c2ca7e3908b1e4ae7946d909a4882249
Merge: 863960b4c5c5 c0015bf3a349
Author: David S. Miller <davem@davemloft.net>
Date:   Mon Aug 17 15:41:21 2015 -0700

    Merge branch 'for-upstream' of git://git.kernel.org/pub/scm/linux/kernel/git/bluetooth/bluetooth-next
    
    Johan Hedberg says:
    
    ====================
    pull request: bluetooth-next 2015-08-16
    
    Here's what's likely the last bluetooth-next pull request for 4.3:
    
     - 6lowpan/802.15.4 refactoring, cleanups & fixes
     - Document 6lowpan netdev usage in Documentation/networking/6lowpan.txt
     - Support for UART based QCA Bluetooth controllers
     - Power management support for Broeadcom Bluetooth controllers
     - Change LE connection initiation to always use passive scanning first
     - Support for new Silicon Wave USB ID
    
    Please let me know if there are any issues pulling. Thanks.
    ====================
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 9e6080936c3e507da60492a8a606bdd1164baa81
Author: Frederic Danis <frederic.danis@linux.intel.com>
Date:   Tue Aug 11 16:35:36 2015 +0200

    net: rfkill: gpio: Remove BCM2E39 support
    
    Power management support for BCM2E39 is now performed in Bluetooth
    BCM UART driver.
    
    Signed-off-by: Frederic Danis <frederic.danis@linux.intel.com>
    Signed-off-by: Marcel Holtmann <marcel@holtmann.org>

commit d8133356e99713bd023b229de107ddd6dd6d375a
Merge: 234a56c80a6a 207b074f82c6
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Tue Jun 23 13:41:24 2015 -0700

    Merge tag 'pci-v4.2-changes' of git://git.kernel.org/pub/scm/linux/kernel/git/helgaas/pci
    
    Pull PCI updates from Bjorn Helgaas:
     "PCI changes for the v4.2 merge window:
    
      Enumeration
        - Move pci_ari_enabled() to global header (Alex Williamson)
        - Account for ARI in _PRT lookups (Alex Williamson)
        - Remove unused pci_scan_bus_parented() (Yijing Wang)
    
      Resource management
        - Use host bridge _CRS info on systems with >32 bit addressing (Bjorn Helgaas)
        - Use host bridge _CRS info on Foxconn K8M890-8237A (Bjorn Helgaas)
        - Fix pci_address_to_pio() conversion of CPU address to I/O port (Zhichang Yuan)
        - Add pci_bus_addr_t (Yinghai Lu)
    
      PCI device hotplug
        - Wait for pciehp command completion where necessary (Alex Williamson)
        - Drop pointless ACPI-based "slot detection" check (Rafael J. Wysocki)
        - Check ignore_hotplug for all downstream devices (Rafael J. Wysocki)
        - Propagate the "ignore hotplug" setting to parent (Rafael J. Wysocki)
        - Inline pciehp "handle event" functions into the ISR (Bjorn Helgaas)
        - Clean up pciehp debug logging (Bjorn Helgaas)
    
      Power management
        - Remove redundant PCIe port type checking (Yijing Wang)
        - Add dev->has_secondary_link to track downstream PCIe links (Yijing Wang)
        - Use dev->has_secondary_link to find downstream links for ASPM (Yijing Wang)
        - Drop __pci_disable_link_state() useless "force" parameter (Bjorn Helgaas)
        - Simplify Clock Power Management setting (Bjorn Helgaas)
    
      Virtualization
        - Add ACS quirks for Intel 9-series PCH root ports (Alex Williamson)
        - Add function 1 DMA alias quirk for Marvell 9120 (Sakari Ailus)
    
      MSI
        - Disable MSI at enumeration even if kernel doesn't support MSI (Michael S. Tsirkin)
        - Remove unused pci_msi_off() (Bjorn Helgaas)
        - Rename msi_set_enable(), msix_clear_and_set_ctrl() (Michael S.  Tsirkin)
        - Export pci_msi_set_enable(), pci_msix_clear_and_set_ctrl() (Michael S. Tsirkin)
        - Drop pci_msi_off() calls during probe (Michael S. Tsirkin)
    
      APM X-Gene host bridge driver
        - Add APM X-Gene v1 PCIe MSI/MSIX termination driver (Duc Dang)
        - Add APM X-Gene PCIe MSI DTS nodes (Duc Dang)
        - Disable Configuration Request Retry Status for v1 silicon (Duc Dang)
        - Allow config access to Root Port even when link is down (Duc Dang)
    
      Broadcom iProc host bridge driver
        - Allow override of device tree IRQ mapping function (Hauke Mehrtens)
        - Add BCMA PCIe driver (Hauke Mehrtens)
        - Directly add PCI resources (Hauke Mehrtens)
        - Free resource list after registration (Hauke Mehrtens)
    
      Freescale i.MX6 host bridge driver
        - Add speed change timeout message (Troy Kisky)
        - Rename imx6_pcie_start_link() to imx6_pcie_establish_link() (Bjorn Helgaas)
    
      Freescale Layerscape host bridge driver
        - Use dw_pcie_link_up() consistently (Bjorn Helgaas)
        - Factor out ls_pcie_establish_link() (Bjorn Helgaas)
    
      Marvell MVEBU host bridge driver
        - Remove mvebu_pcie_scan_bus() (Yijing Wang)
    
      NVIDIA Tegra host bridge driver
        - Remove tegra_pcie_scan_bus() (Yijing Wang)
    
      Synopsys DesignWare host bridge driver
        - Consolidate outbound iATU programming functions (Jisheng Zhang)
        - Use iATU0 for cfg and IO, iATU1 for MEM (Jisheng Zhang)
        - Add support for x8 links (Zhou Wang)
        - Wait for link to come up with consistent style (Bjorn Helgaas)
        - Use pci_scan_root_bus() for simplicity (Yijing Wang)
    
      TI DRA7xx host bridge driver
        - Use dw_pcie_link_up() consistently (Bjorn Helgaas)
    
      Miscellaneous
        - Include <linux/pci.h>, not <asm/pci.h> (Bjorn Helgaas)
        - Remove unnecessary #includes of <asm/pci.h> (Bjorn Helgaas)
        - Remove unused pcibios_select_root() (again) (Bjorn Helgaas)
        - Remove unused pci_dma_burst_advice() (Bjorn Helgaas)
        - xen/pcifront: Don't use deprecated function pci_scan_bus_parented() (Arnd Bergmann)"
    
    * tag 'pci-v4.2-changes' of git://git.kernel.org/pub/scm/linux/kernel/git/helgaas/pci: (58 commits)
      PCI: pciehp: Inline the "handle event" functions into the ISR
      PCI: pciehp: Rename queue_interrupt_event() to pciehp_queue_interrupt_event()
      PCI: pciehp: Make queue_interrupt_event() void
      PCI: xgene: Allow config access to Root Port even when link is down
      PCI: xgene: Disable Configuration Request Retry Status for v1 silicon
      PCI: pciehp: Clean up debug logging
      x86/PCI: Use host bridge _CRS info on systems with >32 bit addressing
      PCI: imx6: Add #define PCIE_RC_LCSR
      PCI: imx6: Use "u32", not "uint32_t"
      PCI: Remove unused pci_scan_bus_parented()
      xen/pcifront: Don't use deprecated function pci_scan_bus_parented()
      PCI: imx6: Add speed change timeout message
      PCI/ASPM: Simplify Clock Power Management setting
      PCI: designware: Wait for link to come up with consistent style
      PCI: layerscape: Factor out ls_pcie_establish_link()
      PCI: layerscape: Use dw_pcie_link_up() consistently
      PCI: dra7xx: Use dw_pcie_link_up() consistently
      x86/PCI: Use host bridge _CRS info on Foxconn K8M890-8237A
      PCI: pciehp: Wait for hotplug command completion where necessary
      PCI: Remove unused pci_dma_burst_advice()
      ...

commit a93fe8f8b444499119261914b8870d7f5ac173f8
Merge: ef1316961048 3ccec53c294c
Author: Dave Airlie <airlied@redhat.com>
Date:   Fri Jun 5 11:14:18 2015 +1000

    Merge branch 'drm-next-4.2-amdgpu' of git://people.freedesktop.org/~agd5f/linux into drm-next
    
    This is the big pull request for amdgpu, the new driver for VI+ AMD
    asics.  I currently supports Tonga, Iceland, and Carrizo and also
    contains a Kconfig option to build support for CI parts for testing.
    
    All major functionality is supported (displays, gfx, compute, dma,
    video decode/encode, etc.).  Power management is working on Carrizo,
    but is still being worked on for Tonga and Iceland.
    
    * 'drm-next-4.2-amdgpu' of git://people.freedesktop.org/~agd5f/linux: (106 commits)
      drm/amdgpu: only support IBs in the buffer list (v2)
      drm/amdgpu: add vram_type and vram_bit_width for interface query (v2)
      drm/amdgpu: add ib_size/start_alignment interface query
      drm/amdgpu: add me/ce/pfp_feature_version interface query
      drm/amdgpu add ce_ram_size for interface query
      drm/amdgpu add max_memory_clock for interface query (v2)
      drm/amdgpu: add hdp flush for gfx8 compute ring
      drm/amdgpu: fix no hdp flush for compute ring
      drm/amdgpu: add HEVC/H.265 UVD support
      drm/amdgpu: stop loading firmware with pm.mutex locked
      drm/amdgpu: remove mclk_lock
      drm/amdgpu: fix description of vm_size module parameter (v2)
      drm/amdgpu: remove all sh mem register modification in vm flush
      drm/amdgpu: rename GEM_OP_SET_INITIAL_DOMAIN -> GEM_OP_SET_PLACEMENT
      drm/amdgpu: fence should be added to shared slot
      drm/amdgpu: sync fence of clear_invalids (v2)
      drm/amdgpu: max_pde_used usage should be under protect
      drm/amdgpu: fix bug of vm_bo_map (v2)
      drm/amdgpu: implement the allocation range (v3)
      drm/amdgpu: rename amdgpu_ip_funcs to amd_ip_funcs (v2)
      ...

commit 3be1b98e073bdd4c1bb3144201a927c4a21330ba
Merge: 392b46f31f43 5468d5a64bf1
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Mon Apr 13 15:45:47 2015 -0700

    Merge tag 'pci-v4.1-changes' of git://git.kernel.org/pub/scm/linux/kernel/git/helgaas/pci
    
    Pull PCI changes from Bjorn Helgaas:
     "Enumeration
        - Read capability list as dwords, not bytes (Sean O. Stalley)
    
      Resource management
        - Don't check for PNP overlaps with unassigned PCI BARs (Bjorn Helgaas)
        - Mark invalid BARs as unassigned (Bjorn Helgaas)
        - Show driver, BAR#, and resource on pci_ioremap_bar() failure (Bjorn Helgaas)
        - Fail pci_ioremap_bar() on unassigned resources (Bjorn Helgaas)
        - Assign resources before drivers claim devices (Yijing Wang)
        - Claim bus resources before pci_bus_add_devices() (Yijing Wang)
    
      Power management
        - Optimize device state transition delays (Aaron Lu)
        - Don't clear ASPM bits when the FADT declares it's unsupported (Matthew Garrett)
    
      Virtualization
        - Add ACS quirks for Intel 1G NICs (Alex Williamson)
    
      IOMMU
        - Add ptr to OF node arg to of_iommu_configure() (Murali Karicheri)
        - Move of_dma_configure() to device.c to help re-use (Murali Karicheri)
        - Fix size when dma-range is not used (Murali Karicheri)
        - Add helper functions pci_get[put]_host_bridge_device() (Murali Karicheri)
        - Add of_pci_dma_configure() to update DMA configuration (Murali Karicheri)
        - Update DMA configuration from DT (Murali Karicheri)
        - dma-mapping: limit IOMMU mapping size (Murali Karicheri)
        - Calculate device DMA masks based on DT dma-range size (Murali Karicheri)
    
      ARM Versatile host bridge driver
        - Check for devm_ioremap_resource() failures (Jisheng Zhang)
    
      Broadcom iProc host bridge driver
        - Add Broadcom iProc PCIe driver (Ray Jui)
    
      Marvell MVEBU host bridge driver
        - Add suspend/resume support (Thomas Petazzoni)
    
      Renesas R-Car host bridge driver
        - Fix position of MSI enable bit (Nobuhiro Iwamatsu)
        - Write zeroes to reserved PCIEPARL bits (Nobuhiro Iwamatsu)
        - Change PCIEPARL and PCIEPARH to PCIEPALR and PCIEPAUR (Nobuhiro Iwamatsu)
        - Verify that mem_res is 64K-aligned (Nobuhiro Iwamatsu)
    
      Samsung Exynos host bridge driver
        - Fix INTx enablement statement termination error (Jaehoon Chung)
    
      Miscellaneous
        - Make a shareable UUID for PCI firmware ACPI _DSM (Aaron Lu)
        - Clarify policy for vendor IDs in pci.txt (Michael S. Tsirkin)"
    
    * tag 'pci-v4.1-changes' of git://git.kernel.org/pub/scm/linux/kernel/git/helgaas/pci: (36 commits)
      PCI: Read capability list as dwords, not bytes
      PCI: layerscape: Simplify platform_get_resource_byname() failure checking
      PCI: keystone: Don't dereference possible NULL pointer
      PCI: versatile: Check for devm_ioremap_resource() failures
      PCI: Don't clear ASPM bits when the FADT declares it's unsupported
      PCI: Clarify policy for vendor IDs in pci.txt
      PCI/ACPI: Optimize device state transition delays
      PCI: Export pci_find_host_bridge() for use inside PCI core
      PCI: Make a shareable UUID for PCI firmware ACPI _DSM
      PCI: Fix typo in Thunderbolt kernel message
      PCI: exynos: Fix INTx enablement statement termination error
      PCI: iproc: Add Broadcom iProc PCIe support
      PCI: iproc: Add DT docs for Broadcom iProc PCIe driver
      PCI: Export symbols required for loadable host driver modules
      PCI: Add ACS quirks for Intel 1G NICs
      PCI: mvebu: Add suspend/resume support
      PCI: Cleanup control flow
      sparc/PCI: Claim bus resources before pci_bus_add_devices()
      PCI: Assign resources before drivers claim devices (pci_scan_root_bus())
      PCI: Fail pci_ioremap_bar() on unassigned resources
      ...

commit 80213c03c4151d900cf293ef0fc51f8d88495e14
Merge: ea584595fc85 f92d9ee3ab39
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Thu Oct 9 15:03:49 2014 -0400

    Merge tag 'pci-v3.18-changes' of git://git.kernel.org/pub/scm/linux/kernel/git/helgaas/pci
    
    Pull PCI updates from Bjorn Helgaas:
     "The interesting things here are:
    
       - Turn on Config Request Retry Status Software Visibility.  This
         caused hangs last time, but we included a fix this time.
       - Rework PCI device configuration to use _HPP/_HPX more aggressively
       - Allow PCI devices to be put into D3cold during system suspend
       - Add arm64 PCI support
       - Add APM X-Gene host bridge driver
       - Add TI Keystone host bridge driver
       - Add Xilinx AXI host bridge driver
    
      More detailed summary:
    
      Enumeration
        - Check Vendor ID only for Config Request Retry Status (Rajat Jain)
        - Enable Config Request Retry Status when supported (Rajat Jain)
        - Add generic domain handling (Catalin Marinas)
        - Generate uppercase hex for modalias interface class (Ricardo Ribalda Delgado)
    
      Resource management
        - Add missing MEM_64 mask in pci_assign_unassigned_bridge_resources() (Yinghai Lu)
        - Increase IBM ipr SAS Crocodile BARs to at least system page size (Douglas Lehr)
    
      PCI device hotplug
        - Prevent NULL dereference during pciehp probe (Andreas Noever)
        - Move _HPP & _HPX handling into core (Bjorn Helgaas)
        - Apply _HPP to PCIe devices as well as PCI (Bjorn Helgaas)
        - Apply _HPP/_HPX to display devices (Bjorn Helgaas)
        - Preserve SERR & PARITY settings when applying _HPP/_HPX (Bjorn Helgaas)
        - Preserve MPS and MRRS settings when applying _HPP/_HPX (Bjorn Helgaas)
        - Apply _HPP/_HPX to all devices, not just hot-added ones (Bjorn Helgaas)
        - Fix wait time in pciehp timeout message (Yinghai Lu)
        - Add more pciehp Slot Control debug output (Yinghai Lu)
        - Stop disabling pciehp notifications during init (Yinghai Lu)
    
      MSI
        - Remove arch_msi_check_device() (Alexander Gordeev)
        - Rename pci_msi_check_device() to pci_msi_supported() (Alexander Gordeev)
        - Move D0 check into pci_msi_check_device() (Alexander Gordeev)
        - Remove unused kobject from struct msi_desc (Yijing Wang)
        - Remove "pos" from the struct msi_desc msi_attrib (Yijing Wang)
        - Add "msi_bus" sysfs MSI/MSI-X control for endpoints (Yijing Wang)
        - Use __get_cached_msi_msg() instead of get_cached_msi_msg() (Yijing Wang)
        - Use __read_msi_msg() instead of read_msi_msg() (Yijing Wang)
        - Use __write_msi_msg() instead of write_msi_msg() (Yijing Wang)
    
      Power management
        - Drop unused runtime PM support code for PCIe ports (Rafael J.  Wysocki)
        - Allow PCI devices to be put into D3cold during system suspend (Rafael J. Wysocki)
    
      AER
        - Add additional AER error strings (Gong Chen)
        - Make <linux/aer.h> standalone includable (Thierry Reding)
    
      Virtualization
        - Add ACS quirk for Solarflare SFC9120 & SFC9140 (Alex Williamson)
        - Add ACS quirk for Intel 10G NICs (Alex Williamson)
        - Add ACS quirk for AMD A88X southbridge (Marti Raudsepp)
        - Remove unused pci_find_upstream_pcie_bridge(), pci_get_dma_source() (Alex Williamson)
        - Add device flag helpers (Ethan Zhao)
        - Assume all Mellanox devices have broken INTx masking (Gavin Shan)
    
      Generic host bridge driver
        - Fix ioport_map() for !CONFIG_GENERIC_IOMAP (Liviu Dudau)
        - Add pci_register_io_range() and pci_pio_to_address() (Liviu Dudau)
        - Define PCI_IOBASE as the base of virtual PCI IO space (Liviu Dudau)
        - Fix the conversion of IO ranges into IO resources (Liviu Dudau)
        - Add pci_get_new_domain_nr() and of_get_pci_domain_nr() (Liviu Dudau)
        - Add support for parsing PCI host bridge resources from DT (Liviu Dudau)
        - Add pci_remap_iospace() to map bus I/O resources (Liviu Dudau)
        - Add arm64 architectural support for PCI (Liviu Dudau)
    
      APM X-Gene
        - Add APM X-Gene PCIe driver (Tanmay Inamdar)
        - Add arm64 DT APM X-Gene PCIe device tree nodes (Tanmay Inamdar)
    
      Freescale i.MX6
        - Probe in module_init(), not fs_initcall() (Lucas Stach)
        - Delay enabling reference clock for SS until it stabilizes (Tim Harvey)
    
      Marvell MVEBU
        - Fix uninitialized variable in mvebu_get_tgt_attr() (Thomas Petazzoni)
    
      NVIDIA Tegra
        - Make sure the PCIe PLL is really reset (Eric Yuen)
        - Add error path tegra_msi_teardown_irq() cleanup (Jisheng Zhang)
        - Fix extended configuration space mapping (Peter Daifuku)
        - Implement resource hierarchy (Thierry Reding)
        - Clear CLKREQ# enable on port disable (Thierry Reding)
        - Add Tegra124 support (Thierry Reding)
    
      ST Microelectronics SPEAr13xx
        - Pass config resource through reg property (Pratyush Anand)
    
      Synopsys DesignWare
        - Use NULL instead of false (Fabio Estevam)
        - Parse bus-range property from devicetree (Lucas Stach)
        - Use pci_create_root_bus() instead of pci_scan_root_bus() (Lucas Stach)
        - Remove pci_assign_unassigned_resources() (Lucas Stach)
        - Check private_data validity in single place (Lucas Stach)
        - Setup and clear exactly one MSI at a time (Lucas Stach)
        - Remove open-coded bitmap operations (Lucas Stach)
        - Fix configuration base address when using 'reg' (Minghuan Lian)
        - Fix IO resource end address calculation (Minghuan Lian)
        - Rename get_msi_data() to get_msi_addr() (Minghuan Lian)
        - Add get_msi_data() to pcie_host_ops (Minghuan Lian)
        - Add support for v3.65 hardware (Murali Karicheri)
        - Fold struct pcie_port_info into struct pcie_port (Pratyush Anand)
    
      TI Keystone
        - Add TI Keystone PCIe driver (Murali Karicheri)
        - Limit MRSS for all downstream devices (Murali Karicheri)
        - Assume controller is already in RC mode (Murali Karicheri)
        - Set device ID based on SoC to support multiple ports (Murali Karicheri)
    
      Xilinx AXI
        - Add Xilinx AXI PCIe driver (Srikanth Thokala)
        - Fix xilinx_pcie_assign_msi() return value test (Dan Carpenter)
    
      Miscellaneous
        - Clean up whitespace (Quentin Lambert)
        - Remove assignments from "if" conditions (Quentin Lambert)
        - Move PCI_VENDOR_ID_VMWARE to pci_ids.h (Francesco Ruggeri)
        - x86: Mark DMI tables as initialization data (Mathias Krause)
        - x86: Move __init annotation to the correct place (Mathias Krause)
        - x86: Mark constants of pci_mmcfg_nvidia_mcp55() as __initconst (Mathias Krause)
        - x86: Constify pci_mmcfg_probes[] array (Mathias Krause)
        - x86: Mark PCI BIOS initialization code as such (Mathias Krause)
        - Parenthesize PCI_DEVID and PCI_VPD_LRDT_ID parameters (Megan Kamiya)
        - Remove unnecessary variable in pci_add_dynid() (Tobias Klauser)"
    
    * tag 'pci-v3.18-changes' of git://git.kernel.org/pub/scm/linux/kernel/git/helgaas/pci: (109 commits)
      arm64: dts: Add APM X-Gene PCIe device tree nodes
      PCI: Add ACS quirk for AMD A88X southbridge devices
      PCI: xgene: Add APM X-Gene PCIe driver
      PCI: designware: Remove open-coded bitmap operations
      PCI/MSI: Remove unnecessary temporary variable
      PCI/MSI: Use __write_msi_msg() instead of write_msi_msg()
      MSI/powerpc: Use __read_msi_msg() instead of read_msi_msg()
      PCI/MSI: Use __get_cached_msi_msg() instead of get_cached_msi_msg()
      PCI/MSI: Add "msi_bus" sysfs MSI/MSI-X control for endpoints
      PCI/MSI: Remove "pos" from the struct msi_desc msi_attrib
      PCI/MSI: Remove unused kobject from struct msi_desc
      PCI/MSI: Rename pci_msi_check_device() to pci_msi_supported()
      PCI/MSI: Move D0 check into pci_msi_check_device()
      PCI/MSI: Remove arch_msi_check_device()
      irqchip: armada-370-xp: Remove arch_msi_check_device()
      PCI/MSI/PPC: Remove arch_msi_check_device()
      arm64: Add architectural support for PCI
      PCI: Add pci_remap_iospace() to map bus I/O resources
      of/pci: Add support for parsing PCI host bridge resources from DT
      of/pci: Add pci_get_new_domain_nr() and of_get_pci_domain_nr()
      ...
    
    Conflicts:
            arch/arm64/boot/dts/apm-storm.dtsi

commit 61ce3ed57b40212a9ae79cebb44861a8c63df54a
Author: Daniel Lezcano <daniel.lezcano@linaro.org>
Date:   Tue Sep 2 14:19:10 2014 -0700

    ARM: zynq: Remove invalidate cache for cpu die
    
    As there is no Power management unit on this board, it is not possible to power
    down a core, just WFI is allowed. There is no point to invalidate the cache and
    exit coherency.
    
    Signed-off-by: Daniel Lezcano <daniel.lezcano@linaro.org>
    Reviewed-and-tested-by: Soren Brinkmann <soren.brinkmann@xilinx.com>
    Signed-off-by: Michal Simek <michal.simek@xilinx.com>

commit 128bb95debc8302a999a495dd21726ca422da12a
Author: Daniel Mack <zonque@gmail.com>
Date:   Tue Jul 15 09:47:52 2014 -0700

    Input: add driver for Microchip's CAP1106
    
    This patch adds a driver for Microchips CAP1106, an I2C driven, 6-channel
    capacitive touch sensor.
    
    For now, only the capacitive buttons are supported, and no specific
    settings that can be tweaked for individual channels, except for the
    device-wide sensitivity gain. The defaults seem to work just fine out of
    the box, so I'll leave configurable parameters for someone who's in need
    of them and who can actually measure the impact. All registers are
    prepared, however. Many of them are just not used for now.
    
    The implementation does not make any attempt to be compatible to platform
    data driven boards, but fully depends on CONFIG_OF.
    
    Power management functions are also left for volounteers with the ability
    to actually test them.
    
    Signed-off-by: Daniel Mack <zonque@gmail.com>
    Signed-off-by: Dmitry Torokhov <dmitry.torokhov@gmail.com>

commit 0db543faecf3ebfc3a4e5cafb61ca6b219820bba
Merge: 814789e2f16f ab496b9d259e
Author: Olof Johansson <olof@lixom.net>
Date:   Mon May 5 18:45:10 2014 -0700

    Merge tag 'renesas-soc2-for-v3.16' of git://git.kernel.org/pub/scm/linux/kernel/git/horms/renesas into next/soc
    
    Merge "Second Round of Renesas ARM Based SoC Updates for v3.16" from Simon
    Horman:
    
    Power management code which is only used by
    sh7372 (SH-Mobile AP4) based Mackerl board
    * Ignore callbacks for subsys generic_pm_domain_data
    
    * tag 'renesas-soc2-for-v3.16' of git://git.kernel.org/pub/scm/linux/kernel/git/horms/renesas:
      ARM: shmobile: Ignore callbacks for subsys generic_pm_domain_data
    
    Signed-off-by: Olof Johansson <olof@lixom.net>

commit 40732b369a715e2d17e7c0c9997a5b89ad666168
Author: Hanjun Guo <hanjun.guo@linaro.org>
Date:   Thu Apr 3 12:16:49 2014 +0100

    ARM64: Remove duplicated Kconfig entry for "kernel/power/Kconfig"
    
    There is a duplicated Kconfig entry for "kernel/power/Kconfig"
    in menu "Power management options" and "CPU Power Management",
    remove the one from menu "CPU Power Management" suggested by
    Viresh.
    
    Signed-off-by: Hanjun Guo <hanjun.guo@linaro.org>
    Reviewed-by: Viresh Kumar <viresh.kumar@linaro.org>
    Signed-off-by: Catalin Marinas <catalin.marinas@arm.com>

commit b3d627a5f2bf1a9a486f65af6f7c2ce0e09b3d12
Author: Vaidyanathan Srinivasan <svaidy@linux.vnet.ibm.com>
Date:   Tue Apr 1 12:43:26 2014 +0530

    cpufreq: powernv: cpufreq driver for powernv platform
    
    Backend driver to dynamically set voltage and frequency on
    IBM POWER non-virtualized platforms.  Power management SPRs
    are used to set the required PState.
    
    This driver works in conjunction with cpufreq governors
    like 'ondemand' to provide a demand based frequency and
    voltage setting on IBM POWER non-virtualized platforms.
    
    PState table is obtained from OPAL v3 firmware through device
    tree.
    
    powernv_cpufreq back-end driver would parse the relevant device-tree
    nodes and initialise the cpufreq subsystem on powernv platform.
    
    The code was originally written by svaidy@linux.vnet.ibm.com. Over
    time it was modified to accomodate bug-fixes as well as updates to the
    the cpu-freq core. Relevant portions of the change logs corresponding
    to those modifications are noted below:
    
     * The policy->cpus needs to be populated in a hotplug-invariant
       manner instead of using cpu_sibling_mask() which varies with
       cpu-hotplug. This is because the cpufreq core code copies this
       content into policy->related_cpus mask which should not vary on
       cpu-hotplug. [Authored by srivatsa.bhat@linux.vnet.ibm.com]
    
     * Create a helper routine that can return the cpu-frequency for the
       corresponding pstate_id. Also, cache the values of the pstate_max,
       pstate_min and pstate_nominal and nr_pstates in a static structure
       so that they can be reused in the future to perform any
       validations. [Authored by ego@linux.vnet.ibm.com]
    
     * Create a driver attribute named cpuinfo_nominal_freq which creates
       a sysfs read-only file named cpuinfo_nominal_freq. Export the
       frequency corresponding to the nominal_pstate through this
       interface.
    
         Nominal frequency is the highest non-turbo frequency for the
       platform.  This is generally used for setting governor policies
       from user space for optimal energy efficiency. [Authored by
       ego@linux.vnet.ibm.com]
    
     * Implement a powernv_cpufreq_get(unsigned int cpu) method which will
       return the current operating frequency. Export this via the sysfs
       interface cpuinfo_cur_freq by setting powernv_cpufreq_driver.get to
       powernv_cpufreq_get(). [Authored by ego@linux.vnet.ibm.com]
    
    [Change log updated by ego@linux.vnet.ibm.com]
    
    Reviewed-by: Preeti U Murthy <preeti@linux.vnet.ibm.com>
    Signed-off-by: Vaidyanathan Srinivasan <svaidy@linux.vnet.ibm.com>
    Signed-off-by: Srivatsa S. Bhat <srivatsa.bhat@linux.vnet.ibm.com>
    Signed-off-by: Anton Blanchard <anton@samba.org>
    Signed-off-by: Gautham R. Shenoy <ego@linux.vnet.ibm.com>
    Signed-off-by: Rafael J. Wysocki <rafael.j.wysocki@intel.com>

commit 198890258fc0f9e3270ed1c1794b7610dad92ada
Author: Avri Altman <avri.altman@intel.com>
Date:   Wed Mar 19 07:25:06 2014 +0200

    iwlwifi: mvm: Handle power management constraints for additional use-cases
    
    Today, the driver logic looks for the conditions to disable
    power management albeit power management should be enabled
    in a very few distinct cases.
    This patch changes the driver logic to enable power
    management once the required conditions met.
    While at it, make some housekeeping and support a few
    additional use cases:
    
    a) Add support for a standalone p2p client:
       Power management should be enabled for a P2P client
       MAC only if the firmware supports it (TLV flag is set).
       Instead we used the DCM flag, therefore we didn't cover
       use cases that did not include the DCM flag.
    
    b) Add support to Same-Channel-Mode (SCM):
       If both clients share the same channel (SCM), and there
       are no other active vifs in the system, power management
       should be enabled only if the firmware supports this
       (TLV flag is set).
    
    c) Fix power management logic for GO/AP:
       Today, when we detect an active GO / AP MAC - we disable
       power management for all the vifs altogether.
       Actually, the correct behavior is to enable power
       management on a client if on a different channel
       (based on the firmware capabilities).
    
    d) Housekeeping - Along with that, this patch includes some
       code-reorganizing: Today the logic of disabling power is
       scattered across several functions, specifically in the
       iterator. For the sake of both readability and
       scalability, we moved this logic to its applicable
       function, leaving the iterator gather information only.
       Furthermore, as power management is a MAC-related
       attribute, we moved the power management member to the
       iwl_mvm_vif structure.
    
    Signed-off-by: Avri Altman <avri.altman@intel.com>
    Signed-off-by: Emmanuel Grumbach <emmanuel.grumbach@intel.com>

commit 74397174989e5f704bcefde7af02e12cc32cb164
Author: Mark Brown <broonie@linaro.org>
Date:   Tue Mar 11 13:17:31 2014 +0000

    arm64: Fix duplicated Kconfig entries
    
    Probably due to rebasing over the lengthy time it took to get the patch
    merged commit addea9ef055b (cpufreq: enable ARM drivers on arm64) added
    a duplicate Power management options section.  Add CPUfreq to the CPU
    power management section and remove a duplicate include of the main
    power section.
    
    Signed-off-by: Mark Brown <broonie@linaro.org>
    Signed-off-by: Catalin Marinas <catalin.marinas@arm.com>

commit 6732bc65c277b697f6d8b645b15f63d1558c0cc4
Author: Lorenzo Pieralisi <lorenzo.pieralisi@arm.com>
Date:   Wed Jul 17 10:14:45 2013 +0100

    arm64: kernel: suspend/resume registers save/restore
    
    Power management software requires the kernel to save and restore
    CPU registers while going through suspend and resume operations
    triggered by kernel subsystems like CPU idle and suspend to RAM.
    
    This patch implements code that provides save and restore mechanism
    for the arm v8 implementation. Memory for the context is passed as
    parameter to both cpu_do_suspend and cpu_do_resume functions, and allows
    the callers to implement context allocation as they deem fit.
    
    The registers that are saved and restored correspond to the registers set
    actually required by the kernel to be up and running which represents a
    subset of v8 ISA.
    
    Signed-off-by: Lorenzo Pieralisi <lorenzo.pieralisi@arm.com>

commit 2f466d33f5f60542d3d82c0477de5863b22c94b9
Merge: f9300eaaac1c eaaeb1cb3331
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Thu Nov 14 14:02:00 2013 +0900

    Merge tag 'pci-v3.13-changes' of git://git.kernel.org/pub/scm/linux/kernel/git/helgaas/pci
    
    Pull PCI changes from Bjorn Helgaas:
     "Resource management
        - Fix host bridge window coalescing (Alexey Neyman)
        - Pass type, width, and prefetchability for window alignment (Wei Yang)
    
      PCI device hotplug
        - Convert acpiphp, acpiphp_ibm to dynamic debug (Lan Tianyu)
    
      Power management
        - Remove pci_pm_complete() (Liu Chuansheng)
    
      MSI
        - Fail initialization if device is not in PCI_D0 (Yijing Wang)
    
      MPS (Max Payload Size)
        - Use pcie_get_mps() and pcie_set_mps() to simplify code (Yijing Wang)
        - Use pcie_set_readrq() to simplify code (Yijing Wang)
        - Use cached pci_dev->pcie_mpss to simplify code (Yijing Wang)
    
      SR-IOV
        - Enable upstream bridges even for VFs on virtual buses (Bjorn Helgaas)
        - Use pci_is_root_bus() to avoid catching virtual buses (Wei Yang)
    
      Virtualization
        - Add x86 MSI masking ops (Konrad Rzeszutek Wilk)
    
      Freescale i.MX6
        - Support i.MX6 PCIe controller (Sean Cross)
        - Increase link startup timeout (Marek Vasut)
        - Probe PCIe in fs_initcall() (Marek Vasut)
        - Fix imprecise abort handler (Tim Harvey)
        - Remove redundant of_match_ptr (Sachin Kamat)
    
      Renesas R-Car
        - Support Gen2 internal PCIe controller (Valentine Barshak)
    
      Samsung Exynos
        - Add MSI support (Jingoo Han)
        - Turn off power when link fails (Jingoo Han)
        - Add Jingoo Han as maintainer (Jingoo Han)
        - Add clk_disable_unprepare() on error path (Wei Yongjun)
        - Remove redundant of_match_ptr (Sachin Kamat)
    
      Synopsys DesignWare
        - Add irq_create_mapping() (Pratyush Anand)
        - Add header guards (Seungwon Jeon)
    
      Miscellaneous
        - Enable native PCIe services by default on non-ACPI (Andrew Murray)
        - Cleanup _OSC usage and messages (Bjorn Helgaas)
        - Remove pcibios_last_bus boot option on non-x86 (Bjorn Helgaas)
        - Convert bus code to use bus_, drv_, and dev_groups (Greg Kroah-Hartman)
        - Remove unused pci_mem_start (Myron Stowe)
        - Make sysfs functions static (Sachin Kamat)
        - Warn on invalid return from driver probe (Stephen M. Cameron)
        - Remove Intel Haswell D3 delays (Todd E Brandt)
        - Call pci_set_master() in core if driver doesn't do it (Yinghai Lu)
        - Use pci_is_pcie() to simplify code (Yijing Wang)
        - Use PCIe capability accessors to simplify code (Yijing Wang)
        - Use cached pci_dev->pcie_cap to simplify code (Yijing Wang)
        - Removed unused "is_pcie" from struct pci_dev (Yijing Wang)
        - Simplify sysfs CPU affinity implementation (Yijing Wang)"
    
    * tag 'pci-v3.13-changes' of git://git.kernel.org/pub/scm/linux/kernel/git/helgaas/pci: (79 commits)
      PCI: Enable upstream bridges even for VFs on virtual buses
      PCI: Add pci_upstream_bridge()
      PCI: Add x86_msi.msi_mask_irq() and msix_mask_irq()
      PCI: Warn on driver probe return value greater than zero
      PCI: Drop warning about drivers that don't use pci_set_master()
      PCI: Workaround missing pci_set_master in pci drivers
      powerpc/pci: Use pci_is_pcie() to simplify code [fix]
      PCI: Update pcie_ports 'auto' behavior for non-ACPI platforms
      PCI: imx6: Probe the PCIe in fs_initcall()
      PCI: Add R-Car Gen2 internal PCI support
      PCI: imx6: Remove redundant of_match_ptr
      PCI: Report pci_pme_active() kmalloc failure
      mn10300/PCI: Remove useless pcibios_last_bus
      frv/PCI: Remove pcibios_last_bus
      PCI: imx6: Increase link startup timeout
      PCI: exynos: Remove redundant of_match_ptr
      PCI: imx6: Fix imprecise abort handler
      PCI: Fail MSI/MSI-X initialization if device is not in PCI_D0
      PCI: imx6: Remove redundant dev_err() in imx6_pcie_probe()
      x86/PCI: Coalesce multiple overlapping host bridge windows
      ...

commit 89693016e372983d720c186c0d00b29414b58804
Author: Amit Daniel Kachhap <amit.daniel@samsung.com>
Date:   Wed Jul 24 14:06:13 2013 +0900

    ARM: SAMSUNG: Add SAMSUNG_PM config option to select pm
    
    This patch enables the selection of samsung pm related stuffs
    when SAMSUNG_PM config is enabled and not just when generic PM
    config is enabled. Power management for s3c64XX and s3c24XX
    is enabled by default and for other platform depends on S5P_PM.
    This patch also fixes the following compilation error's when compiling
    a platform like exynos5440 which does not select pm stuffs.
    
    arch/arm/mach-exynos/built-in.o: In function '__virt_to_phys':
    linux/arch/arm/include/asm/memory.h:175: undefined reference to 's3c_cpu_resume'
    linux/arch/arm/include/asm/memory.h:175: undefined reference to 's3c_cpu_resume'
    linux/arch/arm/include/asm/memory.h:175: undefined reference to 's3c_cpu_resume'
    linux/arch/arm/include/asm/memory.h:175: undefined reference to 's3c_cpu_resume'
    arch/arm/mach-exynos/built-in.o: In function 'exynos5_init_irq':
    linux/arch/arm/mach-exynos/common.c:492: undefined reference to 's3c_irq_wake'
    linux/arch/arm/mach-exynos/common.c:492: undefined reference to 's3c_irq_wake'
    arch/arm/mach-exynos/built-in.o: In function 'exynos4_init_irq':
    linux/arch/arm/mach-exynos/common.c:476: undefined reference to 's3c_irq_wake'
    linux/arch/arm/mach-exynos/common.c:476: undefined reference to 's3c_irq_wake'
    arch/arm/plat-samsung/built-in.o: In function 's3c_irqext_wake':
    linux/arch/arm/plat-samsung/pm.c:144: undefined reference to 's3c_irqwake_eintallow'
    linux/arch/arm/plat-samsung/pm.c:144: undefined reference to 's3c_irqwake_eintallow'
    arch/arm/plat-samsung/built-in.o: In function 's3c_pm_enter':
    linux/arch/arm/plat-samsung/pm.c:263: undefined reference to 's3c_irqwake_intallow'
    linux/arch/arm/plat-samsung/pm.c:263: undefined reference to 's3c_irqwake_intallow'
    linux/arch/arm/plat-samsung/pm.c:264: undefined reference to 's3c_irqwake_eintallow'
    linux/arch/arm/plat-samsung/pm.c:264: undefined reference to 's3c_irqwake_eintallow'
    linux/arch/arm/plat-samsung/pm.c:275: undefined reference to 's3c_pm_save_core'
    linux/arch/arm/plat-samsung/pm.c:279: undefined reference to 's3c_pm_configure_extint'
    linux/arch/arm/plat-samsung/pm.c:310: undefined reference to 's3c_pm_restore_core'
    make: *** [vmlinux] Error 1
    
    Signed-off-by: Amit Daniel Kachhap <amit.daniel@samsung.com>
    Signed-off-by: Kukjin Kim <kgene.kim@samsung.com>

commit 96a3e8af5a54c324535472ca946215d5bafe6539
Merge: a87451052fb9 d4f09c5d7fba
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Mon Apr 29 09:30:25 2013 -0700

    Merge tag 'pci-v3.10-changes' of git://git.kernel.org/pub/scm/linux/kernel/git/helgaas/pci
    
    Pull PCI updates from Bjorn Helgaas:
     "PCI changes for the v3.10 merge window:
    
      PCI device hotplug
       - Remove ACPI PCI subdrivers (Jiang Liu, Myron Stowe)
       - Make acpiphp builtin only, not modular (Jiang Liu)
       - Add acpiphp mutual exclusion (Jiang Liu)
    
      Power management
       - Skip "PME enabled/disabled" messages when not supported (Rafael
         Wysocki)
       - Fix fallback to PCI_D0 (Rafael Wysocki)
    
      Miscellaneous
       - Factor quirk_io_region (Yinghai Lu)
       - Cache MSI capability offsets & cleanup (Gavin Shan, Bjorn Helgaas)
       - Clean up EISA resource initialization and logging (Bjorn Helgaas)
       - Fix prototype warnings (Andy Shevchenko, Bjorn Helgaas)
       - MIPS: Initialize of_node before scanning bus (Gabor Juhos)
       - Fix pcibios_get_phb_of_node() declaration "weak" annotation (Gabor
         Juhos)
       - Add MSI INTX_DISABLE quirks for AR8161/AR8162/etc (Xiong Huang)
       - Fix aer_inject return values (Prarit Bhargava)
       - Remove PME/ACPI dependency (Andrew Murray)
       - Use shared PCI_BUS_NUM() and PCI_DEVID() (Shuah Khan)"
    
    * tag 'pci-v3.10-changes' of git://git.kernel.org/pub/scm/linux/kernel/git/helgaas/pci: (63 commits)
      vfio-pci: Use cached MSI/MSI-X capabilities
      vfio-pci: Use PCI_MSIX_TABLE_BIR, not PCI_MSIX_FLAGS_BIRMASK
      PCI: Remove "extern" from function declarations
      PCI: Use PCI_MSIX_TABLE_BIR, not PCI_MSIX_FLAGS_BIRMASK
      PCI: Drop msi_mask_reg() and remove drivers/pci/msi.h
      PCI: Use msix_table_size() directly, drop multi_msix_capable()
      PCI: Drop msix_table_offset_reg() and msix_pba_offset_reg() macros
      PCI: Drop is_64bit_address() and is_mask_bit_support() macros
      PCI: Drop msi_data_reg() macro
      PCI: Drop msi_lower_address_reg() and msi_upper_address_reg() macros
      PCI: Drop msi_control_reg() macro and use PCI_MSI_FLAGS directly
      PCI: Use cached MSI/MSI-X offsets from dev, not from msi_desc
      PCI: Clean up MSI/MSI-X capability #defines
      PCI: Use cached MSI-X cap while enabling MSI-X
      PCI: Use cached MSI cap while enabling MSI interrupts
      PCI: Remove MSI/MSI-X cap check in pci_msi_check_device()
      PCI: Cache MSI/MSI-X capability offsets in struct pci_dev
      PCI: Use u8, not int, for PM capability offset
      [SCSI] megaraid_sas: Use correct #define for MSI-X capability
      PCI: Remove "extern" from function declarations
      ...

commit 9a6130485ec929a97eaef3f55aa40055a9c6b2b3
Author: Alexander Bondar <alexander.bondar@intel.com>
Date:   Tue Mar 5 12:54:00 2013 +0200

    iwlwifi: mvm: always send power table command
    
    The driver distinguishes between power management and device's power
    down enablement. Power management enablement depends both on driver's
    module power parameters and mac80211 decision. The device's power down
    depends only on driver's module power parameters. Change the driver to
    always send Power Table command to enable or disable both power
    management and device's power down.
    
    Signed-off-by: Alexander Bondar <alexander.bondar@intel.com>
    Reviewed-by: Emmanuel Grumbach <emmanuel.grumbach@intel.com>
    Signed-off-by: Johannes Berg <johannes.berg@intel.com>

commit 556f12f602ac0a18a82ca83e9f8e8547688fc633
Merge: fffddfd6c8e0 018ba0a6efad
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Mon Feb 25 21:18:18 2013 -0800

    Merge tag 'pci-v3.9-changes' of git://git.kernel.org/pub/scm/linux/kernel/git/helgaas/pci
    
    Pull PCI changes from Bjorn Helgaas:
     "Host bridge hotplug
        - Major overhaul of ACPI host bridge add/start (Rafael Wysocki, Yinghai Lu)
        - Major overhaul of PCI/ACPI binding (Rafael Wysocki, Yinghai Lu)
        - Split out ACPI host bridge and ACPI PCI device hotplug (Yinghai Lu)
        - Stop caching _PRT and make independent of bus numbers (Yinghai Lu)
    
      PCI device hotplug
        - Clean up cpqphp dead code (Sasha Levin)
        - Disable ARI unless device and upstream bridge support it (Yijing Wang)
        - Initialize all hot-added devices (not functions 0-7) (Yijing Wang)
    
      Power management
        - Don't touch ASPM if disabled (Joe Lawrence)
        - Fix ASPM link state management (Myron Stowe)
    
      Miscellaneous
        - Fix PCI_EXP_FLAGS accessor (Alex Williamson)
        - Disable Bus Master in pci_device_shutdown (Konstantin Khlebnikov)
        - Document hotplug resource and MPS parameters (Yijing Wang)
        - Add accessor for PCIe capabilities (Myron Stowe)
        - Drop pciehp suspend/resume messages (Paul Bolle)
        - Make pci_slot built-in only (not a module) (Jiang Liu)
        - Remove unused PCI/ACPI bind ops (Jiang Liu)
        - Removed used pci_root_bus (Bjorn Helgaas)"
    
    * tag 'pci-v3.9-changes' of git://git.kernel.org/pub/scm/linux/kernel/git/helgaas/pci: (51 commits)
      PCI/ACPI: Don't cache _PRT, and don't associate them with bus numbers
      PCI: Fix PCI Express Capability accessors for PCI_EXP_FLAGS
      ACPI / PCI: Make pci_slot built-in only, not a module
      PCI/PM: Clear state_saved during suspend
      PCI: Use atomic_inc_return() rather than atomic_add_return()
      PCI: Catch attempts to disable already-disabled devices
      PCI: Disable Bus Master unconditionally in pci_device_shutdown()
      PCI: acpiphp: Remove dead code for PCI host bridge hotplug
      PCI: acpiphp: Create companion ACPI devices before creating PCI devices
      PCI: Remove unused "rc" in virtfn_add_bus()
      PCI: pciehp: Drop suspend/resume ENTRY messages
      PCI/ASPM: Don't touch ASPM if forcibly disabled
      PCI/ASPM: Deallocate upstream link state even if device is not PCIe
      PCI: Document MPS parameters pci=pcie_bus_safe, pci=pcie_bus_perf, etc
      PCI: Document hpiosize= and hpmemsize= resource reservation parameters
      PCI: Use PCI Express Capability accessor
      PCI: Introduce accessor to retrieve PCIe Capabilities Register
      PCI: Put pci_dev in device tree as early as possible
      PCI: Skip attaching driver in device_add()
      PCI: acpiphp: Keep driver loaded even if no slots found
      ...

commit 1d8549085377674224bf30a368284c391a3ce40e
Merge: f56c3196f251 444ee9bd3d0f
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Tue Jan 22 16:36:23 2013 -0800

    Merge tag '3.8-pci-fixes-2' of git://git.kernel.org/pub/scm/linux/kernel/git/helgaas/pci
    
    Pull PCI updates from Bjorn Helgaas:
     "The most important is a fix for a pciehp deadlock that occurs when
      unplugging a Thunderbolt adapter.  We also applied the same fix to
      shpchp, removed CONFIG_EXPERIMENTAL dependencies, fixed a
      pcie_aspm=force problem, and fixed a refcount leak.
    
      Details:
    
       - Hotplug
          PCI: pciehp: Use per-slot workqueues to avoid deadlock
          PCI: shpchp: Make shpchp_wq non-ordered
          PCI: shpchp: Handle push button event asynchronously
          PCI: shpchp: Use per-slot workqueues to avoid deadlock
    
       - Power management
          PCI: Allow pcie_aspm=force even when FADT indicates it is unsupported
    
       - Misc
          PCI/AER: pci_get_domain_bus_and_slot() call missing required pci_dev_put()
          PCI: remove depends on CONFIG_EXPERIMENTAL"
    
    * tag '3.8-pci-fixes-2' of git://git.kernel.org/pub/scm/linux/kernel/git/helgaas/pci:
      PCI: remove depends on CONFIG_EXPERIMENTAL
      PCI: Allow pcie_aspm=force even when FADT indicates it is unsupported
      PCI: shpchp: Use per-slot workqueues to avoid deadlock
      PCI: shpchp: Handle push button event asynchronously
      PCI: shpchp: Make shpchp_wq non-ordered
      PCI/AER: pci_get_domain_bus_and_slot() call missing required pci_dev_put()
      PCI: pciehp: Use per-slot workqueues to avoid deadlock

commit 193c0d682525987db59ac3a24531a77e4947aa95
Merge: 8b0cab14951f 1cb73f8c479e
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Thu Dec 13 12:14:47 2012 -0800

    Merge tag 'for-3.8' of git://git.kernel.org/pub/scm/linux/kernel/git/helgaas/pci
    
    Pull PCI update from Bjorn Helgaas:
     "Host bridge hotplug:
       - Untangle _PRT from struct pci_bus (Bjorn Helgaas)
       - Request _OSC control before scanning root bus (Taku Izumi)
       - Assign resources when adding host bridge (Yinghai Lu)
       - Remove root bus when removing host bridge (Yinghai Lu)
       - Remove _PRT during hot remove (Yinghai Lu)
    
      SRIOV
        - Add sysfs knobs to control numVFs (Don Dutile)
    
      Power management
       - Notify devices when power resource turned on (Huang Ying)
    
      Bug fixes
       - Work around broken _SEG on HP xw9300 (Bjorn Helgaas)
       - Keep runtime PM enabled for unbound PCI devices (Huang Ying)
       - Fix Optimus dual-GPU runtime D3 suspend issue (Dave Airlie)
       - Fix xen frontend shutdown issue (David Vrabel)
       - Work around PLX PCI 9050 BAR alignment erratum (Ian Abbott)
    
      Miscellaneous
       - Add GPL license for drivers/pci/ioapic (Andrew Cooks)
       - Add standard PCI-X, PCIe ASPM register #defines (Bjorn Helgaas)
       - NumaChip remote PCI support (Daniel Blueman)
       - Fix PCIe Link Capabilities Supported Link Speed definition (Jingoo
         Han)
       - Convert dev_printk() to dev_info(), etc (Joe Perches)
       - Add support for non PCI BAR ROM data (Matthew Garrett)
       - Add x86 support for host bridge translation offset (Mike Yoknis)
       - Report success only when every driver supports AER (Vijay
         Pandarathil)"
    
    Fix up trivial conflicts.
    
    * tag 'for-3.8' of git://git.kernel.org/pub/scm/linux/kernel/git/helgaas/pci: (48 commits)
      PCI: Use phys_addr_t for physical ROM address
      x86/PCI: Add NumaChip remote PCI support
      ath9k: Use standard #defines for PCIe Capability ASPM fields
      iwlwifi: Use standard #defines for PCIe Capability ASPM fields
      iwlwifi: collapse wrapper for pcie_capability_read_word()
      iwlegacy: Use standard #defines for PCIe Capability ASPM fields
      iwlegacy: collapse wrapper for pcie_capability_read_word()
      cxgb3: Use standard #defines for PCIe Capability ASPM fields
      PCI: Add standard PCIe Capability Link ASPM field names
      PCI/portdrv: Use PCI Express Capability accessors
      PCI: Use standard PCIe Capability Link register field names
      x86: Use PCI setup data
      PCI: Add support for non-BAR ROMs
      PCI: Add pcibios_add_device
      EFI: Stash ROMs if they're not in the PCI BAR
      PCI: Add and use standard PCI-X Capability register names
      PCI/PM: Keep runtime PM enabled for unbound PCI devices
      xen-pcifront: Handle backend CLOSED without CLOSING
      PCI: SRIOV control and status via sysfs (documentation)
      PCI/AER: Report success only when every device has AER-aware driver
      ...

commit 63d4ec8731865b228065e212f01661023f85b972
Merge: a4275153cc77 ff8e59bc4ec3
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Fri Nov 9 21:33:53 2012 +0100

    Merge tag '3.7-pci-fixes' of git://git.kernel.org/pub/scm/linux/kernel/git/helgaas/pci
    
    Pull PCI fixes from Bjorn Helgaas:
     "Power management:
        - PCI/PM: Fix proc config reg access for D3cold and bridge
          suspending
        - PCI/PM: Resume device before shutdown
        - PCI/PM: Fix deadlock when unbinding device if parent in D3cold
      Hotplug:
        -  PCI/portdrv: Don't create hotplug slots unless port supports
           hotplug"
    
    * tag '3.7-pci-fixes' of git://git.kernel.org/pub/scm/linux/kernel/git/helgaas/pci:
      PCI/portdrv: Don't create hotplug slots unless port supports hotplug
      PCI/PM: Fix proc config reg access for D3cold and bridge suspending
      PCI/PM: Resume device before shutdown
      PCI/PM: Fix deadlock when unbinding device if parent in D3cold

commit d8e2ac330f65bcf47e8894fe5331a7e8ee019c06
Author: Thierry Reding <thierry.reding@avionic-design.de>
Date:   Thu Aug 9 09:32:21 2012 +0000

    mmc: sdio: Fix PM_SLEEP related build warnings
    
    Power management callbacks defined by SIMPLE_DEV_PM_OPS are only used if
    the PM_SLEEP Kconfig symbol has been defined. If not, the compiler will
    complain about them being unused. However, since the callback for this
    driver doesn't do anything it can just as well be dropped.
    
    Signed-off-by: Thierry Reding <thierry.reding@avionic-design.de>
    Acked-by: Rafael J. Wysocki <rjw@sisk.pl>
    Signed-off-by: Chris Ball <cjb@laptop.org>

commit f8b9cf0f319af81f617606bdc90a4984ae3b3ca2
Merge: eeea3ac91220 0ff9514b579b
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Thu Sep 6 17:15:49 2012 -0700

    Merge tag '3.6-pci-fixes' of git://git.kernel.org/pub/scm/linux/kernel/git/helgaas/pci
    
    Pull PCI updates from Bjorn Helgaas:
     "Power management
        - PCI/PM: Enable D3/D3cold by default for most devices
        - PCI/PM: Keep parent bridge active when probing device
        - PCI/PM: Fix config reg access for D3cold and bridge suspending
        - PCI/PM: Add ABI document for sysfs file d3cold_allowed
      Core
        - PCI: Don't print anything while decoding is disabled"
    
    * tag '3.6-pci-fixes' of git://git.kernel.org/pub/scm/linux/kernel/git/helgaas/pci:
      PCI: Don't print anything while decoding is disabled
      PCI/PM: Add ABI document for sysfs file d3cold_allowed
      PCI/PM: Fix config reg access for D3cold and bridge suspending
      PCI/PM: Keep parent bridge active when probing device
      PCI/PM: Enable D3/D3cold by default for most devices

commit 6dd53aa4563a2c69e80a24d2cc68d484b5ea2891
Merge: f14121ab3591 63b96f7baeba
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Tue Jul 24 16:17:07 2012 -0700

    Merge tag 'for-3.6' of git://git.kernel.org/pub/scm/linux/kernel/git/helgaas/pci
    
    Pull PCI changes from Bjorn Helgaas:
     "Host bridge hotplug:
        - Add MMCONFIG support for hot-added host bridges (Jiang Liu)
      Device hotplug:
        - Move fixups from __init to __devinit (Sebastian Andrzej Siewior)
        - Call FINAL fixups for hot-added devices, too (Myron Stowe)
        - Factor out generic code for P2P bridge hot-add (Yinghai Lu)
        - Remove all functions in a slot, not just those with _EJx (Amos
          Kong)
      Dynamic resource management:
        - Track bus number allocation (struct resource tree per domain)
          (Yinghai Lu)
        - Make P2P bridge 1K I/O windows work with resource reassignment
          (Bjorn Helgaas, Yinghai Lu)
        - Disable decoding while updating 64-bit BARs (Bjorn Helgaas)
      Power management:
        - Add PCIe runtime D3cold support (Huang Ying)
      Virtualization:
        - Add VFIO infrastructure (ACS, DMA source ID quirks) (Alex
          Williamson)
        - Add quirks for devices with broken INTx masking (Jan Kiszka)
      Miscellaneous:
        - Fix some PCI Express capability version issues (Myron Stowe)
        - Factor out some arch code with a weak, generic, pcibios_setup()
          (Myron Stowe)"
    
    * tag 'for-3.6' of git://git.kernel.org/pub/scm/linux/kernel/git/helgaas/pci: (122 commits)
      PCI: hotplug: ensure a consistent return value in error case
      PCI: fix undefined reference to 'pci_fixup_final_inited'
      PCI: build resource code for M68K architecture
      PCI: pciehp: remove unused pciehp_get_max_lnk_width(), pciehp_get_cur_lnk_width()
      PCI: reorder __pci_assign_resource() (no change)
      PCI: fix truncation of resource size to 32 bits
      PCI: acpiphp: merge acpiphp_debug and debug
      PCI: acpiphp: remove unused res_lock
      sparc/PCI: replace pci_cfg_fake_ranges() with pci_read_bridge_bases()
      PCI: call final fixups hot-added devices
      PCI: move final fixups from __init to __devinit
      x86/PCI: move final fixups from __init to __devinit
      MIPS/PCI: move final fixups from __init to __devinit
      PCI: support sizing P2P bridge I/O windows with 1K granularity
      PCI: reimplement P2P bridge 1K I/O windows (Intel P64H2)
      PCI: disable MEM decoding while updating 64-bit MEM BARs
      PCI: leave MEM and IO decoding disabled during 64-bit BAR sizing, too
      PCI: never discard enable/suspend/resume_early/resume fixups
      PCI: release temporary reference in __nv_msi_ht_cap_quirk()
      PCI: restructure 'pci_do_fixups()'
      ...

commit b4fde5e7ed1c275986f45fe411ef7a2df58f9652
Author: Neil Brown <neilb@suse.de>
Date:   Tue May 29 16:26:23 2012 +0530

    I2C: OMAP: Fix timeout problem during suspend.
    
    On a board with OMAP3 processor and TWL4030 Power management,
    we need to talk to the TWL4030 during late suspend but cannot
    because the I2C interrupt is disabled (as late suspend disables
    interrupt).
    
    e.g. I get messages like:
    
    [   62.161102] musb-omap2430 musb-omap2430: LATE power domain suspend
    [   63.167205] omap_i2c omap_i2c.1: controller timed out
    [   63.183044] twl: i2c_read failed to transfer all messages
    [   64.182861] omap_i2c omap_i2c.1: controller timed out
    [   64.198455] twl: i2c_write failed to transfer all messages
    [   65.198455] omap_i2c omap_i2c.1: controller timed out
    [   65.203765] twl: i2c_write failed to transfer all messages
    
    The stack shows omap2430_runtime_suspend calling twl4030_set_suspend
    which tries to power-down the USB PHY (twl4030_phy_suspend ->
    twl4030_phy_power -> __twl4030_phy_power which as a nice WARN_ON
    that helps).
    
    Then we get the same in resume:
    
    [   69.603912] musb-omap2430 musb-omap2430: EARLY power domain resume
    [   70.610473] omap_i2c omap_i2c.1: controller timed out
    [   70.626129] twl: i2c_write failed to transfer all messages
    etc.
    
    So don't disable interrupts for I2C.
    
    Acked-by: Kevin Hilman <khilman@ti.com>
    Tested-by: Kevin Hilman <khilman@ti.com>
    Signed-off-by: NeilBrown <neilb@suse.de>
    Signed-off-by: Shubhrajyoti D <shubhrajyoti@ti.com>
    Signed-off-by: Wolfram Sang <w.sang@pengutronix.de>

commit c4b68520dc0ec96153bc0d87bca5ffba508edfcf
Author: Ludovic Desroches <ludovic.desroches@atmel.com>
Date:   Wed May 30 10:01:09 2012 +0200

    ARM: at91: add AIC5 support
    
    The number of lines of AIC5 has increased from 32 to 128. Due to this
    increase, a source select register has been introduced for the interrupt
    line selection. Moreover, register mapping has been changed. For that reasons,
    we need some dedicated callbacks for AIC5.
    Power management is also concerned by these changes. On suspend, we can't get
    the whole interrupt mask register as before, we have to read this register 128
    times. To reduce this overhead, a snapshot of the whole IMR is maintained.
    
    Signed-off-by: Ludovic Desroches <ludovic.desroches@atmel.com>
    Signed-off-by: Nicolas Ferre <nicolas.ferre@atmel.com>

commit cdd3a354a05b0c33fe33ab11a0fb0838396cad19
Merge: 813a95e5b4fa ada2e35defe6
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Tue May 22 09:41:01 2012 -0700

    Merge tag 'pm' of git://git.kernel.org/pub/scm/linux/kernel/git/arm/arm-soc
    
    Pull arm-soc power management changes from Olof Johansson:
     "Power management changes here are mostly for the omap platform, but
      also include cpuidle changes for ux500 and suspend/resume code for
      mmp."
    
    * tag 'pm' of git://git.kernel.org/pub/scm/linux/kernel/git/arm/arm-soc: (48 commits)
      ARM: OMAP2+: WDTIMER integration: fix !PM boot crash, disarm timer after hwmod reset
      ARM: OMAP2/3: hwmod data: Add 32k-sync timer data to hwmod database
      ARM: OMAP4: hwmod_data: Name the common irq for McBSP ports
      ARM: OMAP4: hwmod data: I2C: add flag for context restore
      ARM: OMAP3: hwmod_data: Rename the common irq for McBSP ports
      ARM: OMAP2xxx: hwmod data: add HDQ/1-wire hwmod
      ARM: OMAP3: hwmod data: add HDQ/1-wire hwmod
      ARM: OMAP2+: hwmod data: add HDQ/1-wire hwmod shared data
      ARM: OMAP2+: HDQ1W: add custom reset function
      ARM: OMAP2420: hwmod data: Add MMC hwmod data for 2420
      arm: omap3: clockdomain data: Remove superfluous commas from gfx_sgx_3xxx_wkdeps[]
      ARM: OMAP2+: powerdomain: Get rid off duplicate pwrdm_clkdm_state_switch() API
      ARM: OMAP3: clock data: add clockdomain for HDQ functional clock
      ARM: OMAP3+: dpll: Configure autoidle mode only if it's supported
      ARM: OMAP2+: dmtimer: cleanup iclk usage
      ARM: OMAP4+: Add prm and cm base init function.
      ARM: OMAP2/3: Add idle_st bits for ST_32KSYNC timer to prcm-common header
      ARM: OMAP3: Fix CM register bit masks
      ARM: OMAP: clock: convert AM3517/3505 detection/flags to AM35xx
      ARM: OMAP3: clock data: treat all AM35x devices the same
      ...

commit 23783f817bceedd6d4e549385e3f400ea64059e5
Merge: d9142025f559 d020283dc694
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Sat Feb 4 15:21:39 2012 -0800

    Merge tag 'pm-fixes-for-3.3-rc3' of git://git.kernel.org/pub/scm/linux/kernel/git/rafael/linux-pm
    
    Power management fixes for 3.3-rc3
    
    Three power management regression fixes, one for a recent regression introcuded
    by the freezer changes during the 3.3 merge window and two for regressions
    in cpuidle (resulting from PM QoS changes) and in the hibernate user space
    interface, both introduced during the 3.2 development cycle.
    
    They include:
    
    * Two hibernate (s2disk) regression fixes from Srivatsa S. Bhat (for
     regressions introduced during the 3.3 merge window and during the 3.2
     development cycle).
    
    * A cpuidle fix from Venki Pallipadi for a regression resulting from PM QoS
     changes during the 3.2 development cycle causing cpuidle to work incorrectly
     for CONFIG_PM unset.
    
    * tag 'pm-fixes-for-3.3-rc3' of git://git.kernel.org/pub/scm/linux/kernel/git/rafael/linux-pm:
      PM / QoS: CPU C-state breakage with PM Qos change
      PM / Freezer: Thaw only kernel threads if freezing of kernel threads fails
      PM / Hibernate: Thaw kernel threads in SNAPSHOT_CREATE_IMAGE ioctl path

commit a51f67a4b440896dfc170ff3ce35994771b1267f
Merge: 0a9626575400 181e9bdef37b
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Mon Jan 30 08:33:40 2012 -0800

    Merge tag 'pm-fix-for-3.3-rc2' of git://git.kernel.org/pub/scm/linux/kernel/git/rafael/linux-pm
    
    Power management fix for 3.3-rc2
    
    Fix for a hibernate (s2disk) regression introduced during the 3.2
    merge window that causes s2disk to trigger BUG_ON() in
    freeze_workqueues_begin() if there is not enough swap space to save
    the image.
    
    * tag 'pm-fix-for-3.3-rc2' of git://git.kernel.org/pub/scm/linux/kernel/git/rafael/linux-pm:
      PM / Hibernate: Fix s2disk regression related to freezing workqueues

commit ac1e3d4f5c1097422c6e72aeae322033e9a8c803
Merge: eaed435a7b87 e4c89a508f43
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Mon Jan 23 15:11:27 2012 -0800

    Merge tag 'pm-fixes-for-3.3' of git://git.kernel.org/pub/scm/linux/kernel/git/rafael/linux-pm
    
    Power management fixes for 3.3
    
    Two fixes for regressions introduced during the merge window, one fix for
    a long-standing obscure issue in the computation of hibernate image size
    and two small PM documentation fixes.
    
    * tag 'pm-fixes-for-3.3' of git://git.kernel.org/pub/scm/linux/kernel/git/rafael/linux-pm:
      PM / Sleep: Fix read_unlock_usermodehelper() call.
      PM / Hibernate: Rewrite unlock_system_sleep() to fix s2disk regression
      PM / Hibernate: Correct additional pages number calculation
      PM / Documentation: Fix minor issue in freezing_of_tasks.txt
      PM / Documentation: Fix spelling mistake in basic-pm-debugging.txt

commit 5ee71535440f034de1196b11f78cef81c4025c2b
Author: Randy Dunlap <rdunlap@infradead.org>
Date:   Mon Jan 16 11:57:18 2012 -0800

    x86/kconfig: Move the ZONE_DMA entry under a menu
    
    Move the ZONE_DMA kconfig symbol under a menu item instead
    of having it listed before everything else in
    "make {xconfig | gconfig | nconfig | menuconfig}".
    
    This drops the first line of the top-level kernel config menu
    (in 3.2) below and moves it under "Processor type and features".
    
              [*] DMA memory allocation support
                  General setup  --->
              [*] Enable loadable module support  --->
              [*] Enable the block layer  --->
                  Processor type and features  --->
                  Power management and ACPI options  --->
                  Bus options (PCI etc.)  --->
                  Executable file formats / Emulations  --->
    
    Signed-off-by: Randy Dunlap <rdunlap@xenotime.net>
    Acked-by: David Rientjes <rientjes@google.com>
    Cc: Linus Torvalds <torvalds@linux-foundation.org>
    Cc: linux-mm@kvack.org <linux-mm@kvack.org>
    Link: http://lkml.kernel.org/r/4F14811E.6090107@xenotime.net
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Cc: David Rientjes <rientjes@google.com>

commit ff0c4ad2c3a75ccfe6adca916e50804eb45bb2d9
Merge: fcda12e7f6d5 19f9d3923651
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Sun Jul 24 09:55:18 2011 -0700

    Merge branch 'for-upstream' of git://openrisc.net/jonas/linux
    
    * 'for-upstream' of git://openrisc.net/jonas/linux: (24 commits)
      OpenRISC: Add MAINTAINERS entry
      OpenRISC: Miscellaneous
      OpenRISC: Library routines
      OpenRISC: Headers
      OpenRISC: Traps
      OpenRISC: Module support
      OpenRISC: GPIO
      OpenRISC: Scheduling/Process management
      OpenRISC: Idle/Power management
      OpenRISC: System calls
      OpenRISC: IRQ
      OpenRISC: Timekeeping
      OpenRISC: DMA
      OpenRISC: PTrace
      OpenRISC: Build infrastructure
      OpenRISC: Signal handling
      OpenRISC: Memory management
      OpenRISC: Device tree
      OpenRISC: Boot code
      iomap: make IOPORT/PCI mapping functions conditional
      ...

commit 2a7be1160a7ccc8b53693ef793fccb4ad2e75bbc
Author: Jonas Bonn <jonas@southpole.se>
Date:   Sat Jun 4 22:28:42 2011 +0300

    OpenRISC: Idle/Power management
    
    Minimal functionality...
    
    Signed-off-by: Jonas Bonn <jonas@southpole.se>
    Reviewed-by: Arnd Bergmann <arnd@arndb.de>

commit 7dca3343fc5ae5af2fa9248057cd65077a5576e1
Author: Nicolas Ferre <nicolas.ferre@atmel.com>
Date:   Mon Jun 21 14:59:27 2010 +0100

    ARM: 6185/1: AT91: PM: dual ram controller support
    
    This rework allows to address tow memory controllers. AT91SAM9263 and
    AT91SAM9G45 family have tow SDRAM or DDR/SDRAM controllers. Power management
    should take care of this.
    This patch modify the way RAM IP header files are implemented to allow
    access to registers of both controllers ; it also adds some macros.
    
    We also modify the power management files to use those modified header files.
    Slow clock (assembly) and regular power management functions are synchronized
    for setting of RAM self-refresh procedure:
    (lpr & ~AT91_DDRSDRC_LPCB) | AT91_DDRSDRC_LPCB_SELF_REFRESH
    
    Note that AT91RM9200 is not impacted by this modification.
    
    Signed-off-by: Nicolas Ferre <nicolas.ferre@atmel.com>
    Acked-by: Andrew Victor <linux@maxim.org.za>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 663ebb4aa2fd0d19e3d1da0fed3fa3fa134a4ef0
Author: Oliver Neukum <oliver@neukum.org>
Date:   Wed Aug 19 13:50:45 2009 -0600

    wimax/i2400m/usb: remove unnecessary power management primitive in i2400m
    
    This patch removes an unneeded power management primitive.
    Power management is automatically enabled as probe ends.
    
    Signed-off-by: Oliver Neukum <oliver@neukum.org>
    Signed-off-by: Inaky Perez-Gonzalez <inaky@linux.intel.com>

commit 821c777080c43710a3ddbf8bcd708093191b1630
Author: Oliver Neukum <oliver@neukum.org>
Date:   Wed Aug 19 16:41:59 2009 -0300

    V4L/DVB (12491): remove unnecessary power management primitive in stk-webcam
    
    This patch removes an unneeded power management primitive.
    Power management is automatically enabled as probe ends.
    
    Signed-off-by: Oliver Neukum <oliver@neukum.org>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>

commit fda4bd9bac78efd2f9d566c52956d297bc03e8d9
Author: Anton Vorontsov <avorontsov@ru.mvista.com>
Date:   Sat Jul 25 01:42:17 2009 +0400

    powerpc/83xx: Add support for MPC8377E-WLAN boards
    
    MPC8377E-WLAN are basically RDB boards except:
    
    - RAM extended to 512 MB;
    - NAND flash removed, NOR flash extended to 64 MB;
    - Vitesse VSC7385 5-port switch removed, RTL8211B PHY added;
    - Power management MCU removed;
    - PCI slot removed, another mini-PCI slot added (IRQ routing changed);
    - USB3300 PHY's ID pin grounded, thus USB port is host-only.
    
    Signed-off-by: Anton Vorontsov <avorontsov@ru.mvista.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>

commit 15b5bdaeeb15e0c18cca3ce7449188ca46516721
Author: Daniel Mack <daniel@caiaq.de>
Date:   Wed Aug 5 20:50:43 2009 +0200

    ALSA: ASoC: cs4270: move power management hooks to snd_soc_codec_device
    
    Power management for the cs4270 codec is currently implemented as part
    of the i2c_driver struct. The disadvantage of doing it this way is that
    the callbacks registered in the snd_soc_card struct are called _before_
    the codec's callbacks.
    
    That doesn't work, because the snd_soc_card callbacks will most likely
    switch down the codec's power domains or pull the reset GPIOs, and
    hence make the i2c communication bail out.
    
    Fix this by binding the suspend and resume code to the
    snd_soc_codec_device driver model and let the I2C functions only call
    the SoC core function for resume and suspend, which do nothing currently
    but will do later.
    
    Signed-off-by: Daniel Mack <daniel@caiaq.de>
    Cc: Timur Tabi <timur@freescale.com>
    Signed-off-by: Mark Brown <broonie@opensource.wolfsonmicro.com>

commit 26b03bc6c2fa72e3aaed19fba125c2f438bf9261
Author: Manu Abraham <abraham.manu@gmail.com>
Date:   Wed Apr 8 18:27:10 2009 -0300

    V4L/DVB (11586): stv090x: switch i/p ADC as well during Power management
    
    Signed-off-by: Manu Abraham <manu@linuxtv.org>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>

commit 1c61d8c309a4080980474de8c6689527be180782
Author: Ingo Molnar <mingo@elte.hu>
Date:   Tue Jan 27 17:49:22 2009 +0100

    x86/Voyager: remove power management Kconfig quirk
    
    Voyager has this PM/ACPI Kconfig quirk:
    
     menu "Power management and ACPI options"
            depends on !X86_VOYAGER
    
    Most of the PM features are auto-detect so they should be safe to run
    on just about any hardware. (If not, those instances need fixing.)
    
    In any case, if a kernel is built for Voyager, the power management
    options can be disabled.
    
    Signed-off-by: Ingo Molnar <mingo@elte.hu>

commit 1547a01226bcc3fd575fd5383b8b55476a02b518
Author: Bjorn Helgaas <bjorn.helgaas@hp.com>
Date:   Thu Nov 6 10:53:54 2008 -0600

    [IA64] reorder Kconfig options to match x86
    
    No functional change, just reorder some config options and update
    the "Power management and ACPI" label to match the defacto x86
    standard.
    
    Signed-off-by: Bjorn Helgaas <bjorn.helgaas@hp.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 0fc9dec46fae19da9899c580a6b870202103f8bb
Author: Matt Ranostay <mranostay@gmail.com>
Date:   Mon Apr 14 13:32:54 2008 +0200

    [ALSA] hda: EAPD power management
    
    Power management support for EAPD enabled laptops, when headphones
    are sensed it pulls the EAPD GPIO line low to power it down.
    
    Signed-off-by: Matthew Ranostay <mranostay@embeddedalley.com>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit bce6c2b5b4dbe8cd97c48c633b62adeb535954ad
Author: Matt Ranostay <mranostay@gmail.com>
Date:   Fri Feb 29 12:07:43 2008 +0100

    [ALSA] hda: disable power management on fixed ports
    
    Power management can't be enabled on fixed ports, since the presence
    will always return false and prevent output.
    
    Signed-off-by: Matthew Ranostay <mranostay@embeddedalley.com>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 1fdd61c0228a32b9a5e10593b225851d8920595b
Author: Jaime Velasco Juan <jsagarribay@gmail.com>
Date:   Sun Jan 27 12:24:59 2008 -0300

    V4L/DVB (7089): V4L: stkwebcam: Power management support
    
    Signed-off-by: Jaime Velasco Juan <jsagarribay@gmail.com>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit ca77329fb713b7fea6a307068e0dd0248e7aa640
Author: Kristen Carlson Accardi <kristen.c.accardi@intel.com>
Date:   Thu Oct 25 00:58:59 2007 -0400

    [libata] Link power management infrastructure
    
    Device Initiated Power Management, which is defined
    in SATA 2.5 can be enabled for disks which support it.
    This patch enables DIPM when the user sets the link
    power management policy to "min_power".
    
    Additionally, libata drivers can define a function
    (enable_pm) that will perform hardware specific actions to
    enable whatever power management policy the user set up
    for Host Initiated Power management (HIPM).
    This power management policy will be activated after all
    disks have been enumerated and intialized.  Drivers should
    also define disable_pm, which will turn off link power
    management, but not change link power management policy.
    
    Documentation/scsi/link_power_management_policy.txt has additional
    information.
    
    Signed-off-by:  Kristen Carlson Accardi <kristen.c.accardi@intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@redhat.com>

commit ea6e942bea55b574bf2118bce8ee73185e754cfb
Author: Atsushi Nemoto <anemo@mba.ocn.ne.jp>
Date:   Tue Jan 16 23:29:11 2007 +0900

    [MIPS] Kconfig: Move some entries to appropriate menu
    
    Currently KEXEC is in "Machine selection", SECCOMP, PM, APM are in
    "Executable file formats" menu.  Move KEXEC and SECCOMP to "Kernel
    type" and PM, APM to new "Power management options" menu.  Also
    replace "config PM" with kernel/power/Kconfig.
    
    Signed-off-by: Atsushi Nemoto <anemo@mba.ocn.ne.jp>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 8704163987882f8b989e8143ad1f87c6b7229a13
Author: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
Date:   Thu Mar 2 18:21:24 2006 -0800

    e1000: Fixed the following issues with ESB2 (requires ESB2 support):
    
    - Add restriction for ESB2 to MTU size <=9216
    - Removed FIFO errors which were not being used
    - Fixed issues with loopback
    - Power management change for saving state and config space
    - WA to disable recieves and reset device on link loss.  Reset needed to be done outside the interrupt context - modified existing tx_timeout_task
    
    Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
    Signed-off-by: Jesse Brandeburg <jesse.brandeburg@intel.com>
    Signed-off-by: John Ronciak <john.ronciak@intel.com>

commit c08ad1e304061dbd6ef7545d8f2db530b43c0fbd
Author: Pavel Roskin <proski@gnu.org>
Date:   Tue Nov 29 02:59:27 2005 -0500

    [PATCH] orinoco: fix setting power management parameters
    
    Power management parameters could not be set by iwconfig due to
    incorrect error handling.
    
    Signed-off-by: Pavel Roskin <proski@gnu.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>
