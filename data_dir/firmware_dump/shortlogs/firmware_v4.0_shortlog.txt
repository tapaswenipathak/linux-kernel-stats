    (See driver.of_match_table and open firmware functions)
      firmware: dmi_scan: Prevent dmi_num integer overflow
      drm/edid: set ELD for firmware and debugfs override EDIDs
      drm/edid: set ELD for firmware and debugfs override EDIDs
    Fix to dump device log even in the case of firmware crash. Also
    parameters from PCIE_FW_PF[7]. The firmware initializes its Device Log very
    Device Log even when the firmware crashes very early on or we're not
    attached to the firmware
    management firmware the first PCI function to probe and reach the previous
    Upgrading to the most current mainboard firmware of the ASRock
    QIDs (egress/ingress) from firmware in FW_*_CMD.alloc command
    Micron has released an updated firmware (MU02) for M510/M550/MX100
    Otherwise the VCE firmware needs to be in the first 256MB of VRAM.
    drm/edid: set ELD for firmware and debugfs override EDIDs
    If the user supplies EDID through firmware or debugfs override, the
    updated, and audio fails. Set ELD for firmware and debugfs EDIDs too.
    firmware: dmi_scan: Prevent dmi_num integer overflow
      drm/i915: Fix atomic state when reusing the firmware fb
      drm/i915: Fix atomic state when reusing the firmware fb
    drm/i915: Fix atomic state when reusing the firmware fb
    Right now, we get a warning when taking over the firmware fb:
    That's because we update the plane state with the fb from the firmware, but we
    causing the firmware to fail the rule attachment.
      cx82310_eth: wait for firmware to become ready
    The PCAN USB (pro) FD adapters with firmware versions > 2.x support the
    The setting for the 2.x firmware adapters can be modified with the 'ip' tool
    can: kvaser_usb: Comply with firmware max tx URBs value
    firmware provides its actual maximum inside its reply to the
    increases above the limit reported by firmware, the firmware
    On the other hand, in certain models, the firmware can support
    to firmware replies.
    cx82310_eth: wait for firmware to become ready
    When the device is powered up, some (older) firmware versions fail to work
    when the device is hot-plugged). The firmware indicates its ready status by
    Newer firmwares delay the first command so they don't suffer from this problem.
    Wait for firmware to become ready (link up) before sending any commands and/or
    Tested with 4.1.0.9 (old) and 4.1.0.30 (new) firmware versions.
    The BCM43362 firmware falsely reports it is capable of providing
    In particular they have new experimental firmware that can better
    firmware on the device can reasonably do a better job of palm detection
    firmware can characterize what a palm looks like in much finer-grained
    - Fix number of available compute pipelines according to new firmware
      Input: synaptics - do not retrieve the board id on old firmwares
    The firmware frequently manages to trigger this, and there's
    good rates with such peers anyway since the firmware cannot do
    iwlwifi: dvm: run INIT firmware again upon .start()
    run again the INIT firmware after the system booted. The
    INIT firmware runs calibrations which impact the physical
      ASoC: Intel: remove conflicts when load/unload multiple firmware images
    The current CP firmware can handle Usermode Queues only on MEC1.
    To reflect this firmware change, this commit reduces number of compute pipelines
    * fix ROC removal - avoids a firmware crash
    Commit 16e47624e76b43db ("cxgb4: Add new scheme to update T4/T5 firmware")
    The Kvaser firmware can only read and write messages that are
    firmware puts a zero-length placeholder command in its place
    Fortunately, the firmware advertises such behavior in the extended
    Input: synaptics - do not retrieve the board id on old firmwares
    The board id capability has been added in firmware 7.5.
    The firmware of the X240 (LEN0035, 2013/12) exposes the same values
    firmware version 8.1 is safe.
      staging: comedi: vmk80xx: remove "firmware version" kernel messages
    ASoC: Intel: remove conflicts when load/unload multiple firmware images
    scratch blocks for each firmware image it parses. Move the allocate function
    be allocated only after all firmware images be parsed.
    * fix ROC removal - avoids a firmware crash
    firmware. In that case, I get:
      firmware: dmi_scan: Fix dmi_len type
      firmware: dmi_scan: Fix dmi scan to handle "End of Table" structure
    drivers: net: xgene: Fix backward compatibility of newer firmware with older kernel
    newer firmware by making the binding unique so that the older driver won't
    drivers: net: xgene: fix new firmware backward compatibility with older driver
    newer firmware by making the binding unique so that the older driver won't
    dtb: change binding name to match with newer firmware DT
    newer firmware by making the binding unique so that the older driver won't
    The new bindings are in sync with the newer firmware.
    staging: comedi: vmk80xx: remove "firmware version" kernel messages
    with usb_bulk_msg() to read the firmware version information. This information
      arm64: psci: move psci firmware calls out of line
    before this driver gets control, through use by firmware, for example.
    arm64: psci: move psci firmware calls out of line
    assertions in the PSCI firmware calling code firing due to mcount
    r8169: Fix trivial typo in rtl_check_firmware
    Change 'firwmare' to 'firmware'
    firmware: dmi_scan: Fix dmi_len type
    the completed notification from the firmware.  The scan abort can also
    The updated firmware expects the MMX ID to be used as 3, so update the
         platform firmware which then may casuse fatal controller driver
    Quark firmware sets up a series of locked IMRs around pieces of
    memory that firmware owns such as ACPI runtime data. During boot
    Move PD allocation and deallocation from firmware to driver.  At
    driver load time all the PDs will be requested from firmware and their
    firmware: dmi_scan: Fix dmi scan to handle "End of Table" structure
    compatibility with the older firmware code which does not expose residency
      firmware_loader: handle timeout via wait_for_completion_interruptible_timeout()
      firmware_loader: abort request if wait_for_completion is interrupted
      firmware: Correct function name in comment
    functions. Resume path should be handled by the firmware, i.e.
    firmware services, and run in compatibility mode. This way, if an
    then the firmware "owns" the machine and expects for its 32-bit IDT
    GDT that the firmware expects to be present. We can only jump to the
      Input: elan_i2c - verify firmware signature applying it
      ALSA: line6: toneport: Use explicit type for firmware version
    ALSA: line6: toneport: Use explicit type for firmware version
    The firmware version is a single byte so have the variable type agree.
    The BDW audio firmware DSP manages the DMA and the DMA cannot be
       - Expose firmware platform size in sysfs
      firmware: efi: Remove unneeded guid unparse
      efi: Expose underlying UEFI firmware platform size to userland
    * minor fixes and exposing firmware revision information to
    so we avoided them. But with production hardware and firmware, and the
    ASoC: Intel: sst: Fix firmware name size handling
    Function sst_acpi_probe() uses plain strcpy for setting member firmware_name
    of a struct intel_sst_drv from member firmware of a struct sst_machines.
    hold 32 byte. Since eg. commit 64b9c90b8600 ("ASoC: Intel: Fix BYTCR firmware
      ASoC: Intel: fix sst firmware path for cht-bsw-rt5672
    cw1200: Less function calls in cw1200_load_firmware_cw1200() after error detection
    The functions kfree() and release_firmware() were called in a few cases
    by the cw1200_load_firmware_cw1200() function during error handling even if
    cw1200: Delete an unnecessary check before the function call "release_firmware"
    The release_firmware() function tests whether its argument is NULL and then
    The hardware and firmware for the RTL8192EE utilize a FIFO list of
    firmware device tree access functions are available. Since all the
    ASoC: Fix for Intel firmware name
    ASoC: Intel: fix sst firmware path for cht-bsw-rt5672
    All sst firmware is provided under the intel directory of the linux-firmware
    system. Change the path to expect a default linux-firmware installation.
    ASoC: Intel: fix sst firmware path
    All sst firmware is provided under the intel directory of the linux-firmware
    system. Change the path to expect a default linux-firmware installation.
       complete the platform firmware provided functionailities using ec_poll()
    cxgb4: Delete an unnecessary check before the function call "release_firmware"
    The release_firmware() function tests whether its argument is NULL and then
    csiostor:Use firmware version from cxgb4/t4fw_version.h
    This patch is to use firmware version macros from t4fw_version.h
    in spurious BUS_ERROR events from the USBCan-II firmware directly
    firmware device tree access functions are available. Since all the
    allows users to configure the desired log level for firmware dbglog messages.
    driver tries to send broadcast frame. This causes firmware
    Some AMD CS553x devices have read-only BARs because of a firmware or
    firmware_loader: handle timeout via wait_for_completion_interruptible_timeout()
    firmware_loader: abort request if wait_for_completion is interrupted
    firmware: Correct function name in comment
    firmware device tree access functions are available. Since all the
    a firmware bug (eg. when _CST returns a different set of states for
    A quirk of some older firmwares that report endpoint pipe type as PIPE_BULK
    to be used. This is no more necessary, as firmware supports
    When AP is started, firmware exits power save mode. This
    packets until AWAKE event from firmware. Data path is
    The firmware supplies two kinds of packets via the RX mechanism. Besides the
    BCM43142A0-04ca-2007.hcd, then move to /lib/firmware/brcm/.
    firmware more frequently.
    * Convert pfc enabled info from firmware format to what dcbnl expects before
    Some st21nfcb firmware does not support the nci command
    firmwares embedded on an NCI capable chipset, like e.g. the
    iwlwifi: mvm: don't send a command the firmware doesn't know
    regardless of the order. The added support for firmware version 6 and
    register and the alive notification from the firmware.
    When we resume from WoWLAN, the firmware may have crashed
    had when we loaded the WoWLAN firmware upon suspend) and
    know. Once the op_mode is informed that the WowLAN firmware
    contexts, because they're not used anywhere.  In fact, the firmware
    If we don't want to restart the firmware, don't reprobe either in case
    [media] si2157: change firmware variable name and type
    Rename firmware variable from fw_file to fw_name and change its
    type from u8 to const char as request_firmware() input is.
    [media] si2157: print firmware version
    [media] si2157: change firmware download error handling
    Rename firmare download error path goto label. Remove firmware NULL
    started using goto labels for firmware error handling.
    Remove if () from firmware command error path as there should not be
    [media] si2168: change firmware variable name and type
    Rename firmware variable from fw_file to fw_name and change its type
    from u8 to const char as request_firmware() input defines.
    si2168 6-0064: downloading firmware from file 'dvb-demod-si2168-b40-01.fw'
    si2168 6-0064: firmware version: 4.0.11
    si2168 6-0064: downloading firmware from file 'dvb-demod-si2168-b40-01.fw'
    si2168 6-0064: firmware version: 4.0.11
    That commit added goto label for error path to release firmware,
    [media] si2168: enhance firmware download routine
    All known old firmware firmware formats are downloaded using 8 byte
    chunks. Reject firmware if it could not be divided to 8 byte chunks
    supported firmware download routines are rather similar.
    [media] si2168: change firmware version print from debug to info
    Even firmware version is not needed to know, it is still interesting
    Remove if () from firmware command error path as there should not be
      - Expose firmware platform size in sysfs for the benefit of EFI boot
        versions) and querying the firmware instead of guessing about the
    ath3k devices fail to load firmwares on xHCI buses, but work well on
    and disables the function that uses SPI for firmware download if SPI
    New wmi-tlv firmware for qca6174 has STA keepalive
    New wmi-tlv firmware for qca6174 supports this.
    New wmi-tlv firmware for qca6174 supports this.
    mac80211 already requests WMM per vif but firmware
    wmi-tlv firmware for qca6174 is capable of this.
    completely ignored as firmware does not need it.
    When revinfo retrieval fails we can not show the firmware version
    brcmfmac: show firmware release info in ethtool driver info
    The ethtool driver info already contained the unique firmware
    identifier. This patch adds the firmware release version.
       firmware-version: 01-32bd010f
    layer will ask the firmware for this information.
    brcmfmac: do not load firmware when device is already running
    it is already running firmware. However, when no firmware download
    is needed it still continues to request the firmware files. This
    set to zero, ie. unknown. However, firmware does provide a valid
    firmware implements keep alive checks and will disconnect
    wil6210: ignore firmware failure to gracefully stop AP
    upon cfg80211_stop_ap, a graceful AP shutdown is requested from firmware
    followed by firmware reset.
    The change is to return success in this scenario, because firmware
    wil6210: sync WMI with firmware
    Incorporate changes from firmware.
    However newer chips have a bootloader stage and require firmware to
    Bluetooth: btusb: Handle out of order firmware loading complete event
    When loading the Intel firmware it can happen that the firmware loading
    last firmware fragment.
    firmware loading complete event however is send over the interrupt
    receiving firmware loading complete event quickly, but not for receiving
    Introduce an extra flag that tracks when the firmware sending has
    the firmware loading procedure with a different flag. That way the
    Bluetooth: btusb: Add firmware loading for Intel Snowfield Peak devices
    The Intel Snowfield Peak devices do not come with Bluetooth firmware
    firmware when the device is connected via USB.
    to identify the hardware and select the right firmware to load.
    firmware loading makes heavy use of these new internal callbacks.
    feedback about the firmware loading procedure.
    This is useful for firmware upgrades.
    Operating System perspective, the firmware of both families behave
    On PowerNV platform, the OPAL interrupts are exported by firmware
    In commit c8742f85125d "powerpc/powernv: Expose OPAL firmware symbol
    cxgb4: Move firmware version MACRO to t4fw_version.h
    Move firmware version MACRO to a new t4fw_version.h file so that csiostor driver
    This patch fix is to use default firmware configuration files
    /lib/firmware/* dir. Additional cleanup is done to reuse flash
    firmware event called recoverable error events.
    The firmware might change the hca core clock frequency after the driver
    firmware and the driver. Align the array that holds the capability
    net/mlx4_core: Fix HW2SW_EQ to conform to the firmware spec
    net/mlx4_core: Adjust command timeouts to conform to the firmware spec
    The firmware spec states that the timeout for all commands should be 60 seconds.
    If the firmware can detect a bad cable, allow it to generate an
                    - 2 firmware pin
    After rtl8192cu download firmware routine, set fw_ready flag.
    New wmi-tlv firmware uses HTT 3.0 protocol which
    New wmi-tlv firmware for qca6174 has u-UAPSD
    autotrigger service. If it is enabled firmware
    Both 10.2 firmware binaries 10.2-00082-4 and
    parsing for firmware 10.2.
    The QCA6174 in combination with new wmi-tlv firmware is capable of
    New firmware and firmware (qca6174 hw3.0+ and fw
    Some firmware revisions may report this event as
    Some firmware revisions may report this event as
    firmware update before operation.
    The latest known working firmware is BCM20702B0_002.001.014.0527.0557.hex
    as /lib/firmware/brcm/BCM20702A0-19ff-0239.hcd to make this device fully
    Bluetooth: hci0: BCM: firmware hci_ver=06 hci_rev=222d lmp_ver=06 lmp_subver=410e
    With this firmware the device reports support for connectionless slave
    unplug makes the firmware always ignore the very first command.
    [media] Si2168: increase timeout to fix firmware loading
    Increase si2168 cmd execute timeout to prevent firmware load failures. Tests
    shows it takes up to 52ms to load the 'dvb-demod-si2168-a30-01.fw' firmware.
    read_local_version() is called from download_firmware() where
    download_firmware() is called from st_kim_start() which is
    Fixes: 0294d9eece86 ("iwlwifi: mvm: let the firmware configure the scheduler")
    * A fix for scan that fixes a firmware assertion
    by the rest of the firmware. Since commit 7914a7c5651a5161 now lets us
    Note that EC event handling is sequential. We fetch one event from firmware
    the very first QR_EC command issued after SCI_EVT is set. EC firmware on
    handle the EC firmware indications. And this check will happen for both IRQ
    reading the event, SCI_EVT might be cleared by the firmware, thus it may
    Input: elan_i2c - verify firmware signature applying it
    To allow for different firmware sizes let's replace the original size check
    with with checking the signature in the firmware data.
    setup firmware command: it should be saving or updating the ssn in the
    a firmware bug. This patch fixes corner case system crash
    abrupt shutdown initiated by the platform firmware. This patch fixes the
    Input: cyapa - fix endianness issues in gen5 firmware update support
    Also fix firmware validation checks and misspelled field in
    the firmware know to start the authentication of the
    If the firmware sends spontaneous DTS notfications with the
    iwlwifi: mvm: sync statistics firmware API
    The firmware API structs are split differently, synchronize
    the struct splits with the current firmware definitions.
    bit 7 and not bit 0. However, older firmwares don't register
    the correct interrupt will be issued hoping that the firmware
    firmware didn't register to the proper interrupt.
    As this functionality relies on getting a firmware notification
    iwlwifi: mvm: let the firmware configure the scheduler
    firmware.
    The driver doesn't support the firmwares that don't have
    When scanning on passive channels the firmware uses frag_passive_dwell
    used by the firmware to define the maximum time allowed out of the
    - Set max_out_time and suspend_time if the firmware doesn't support
    the firmware. Most of the firmware interaction is done in
    firmware which includes the last iteration's status and the scanned
    features like firmware loading and communication with PMU firmware, we
    the PMU firmware's jobs on dGPUs, in this patch. This refers to the
    utility and then moved to /lib/firmware/brcm/.
       Windows these are handled by firmware on the device and not exposed
    firmware: efi: Remove unneeded guid unparse
    firmware and only then perform the allocation, using desc_size rather
    Input: cyapa - add gen5 trackpad firmware update support
    Add firmware image update support for gen5 trackpad device, it can be used
    Input: cyapa - add gen3 trackpad device firmware update support
    Add support for firmware image update for gen3 trackpad devices; the
    firmware update is initiated by writing to update_fw sysfs attribute.
    production, for trackpad device state checking, managing and firmware image
    updating.  These interfaces include mode, firmware_version and product_id
    interfaces for reading firmware version and trackpad device product id
    values, and update_fw interface to command firmware image update process.
    Shannon provides tweaks to i40e and i40evf to keep the firmware, software
    Neerav updates the driver to disable firmware LLDP agent for NICs with
    a firmware version lower than v4.3 and added a message when this happens.
    upstream window from firmware, clip them to fit and update the bridge
    upstream window from firmware, clip them to fit and update the bridge
    upstream window from firmware, clip them to fit and update the bridge
    upstream window from firmware, clip them to fit and update the bridge
    upstream window from firmware, clip them to fit and update the bridge
    upstream window from firmware, clip them to fit and update the bridge
    upstream window from firmware, clip them to fit and update the bridge
    upstream window from firmware, clip them to fit and update the bridge
    upstream window from firmware, clip them to fit and update the bridge
    secure firmware require certain registers of aforementioned IP to be
    from firmware initialization which is happenning in .init_early callback
    L2C driver to ask the firmware to configure the hardware according to
    i40e: Issue "Stop LLDP" command for firmware older than v4.3
    Disable firmware LLDP agent for NICs with firmware version lower than
    v4.3. Added a message when driver disables the firmware LLDP agent on
    Recent Leaf firmware versions (>= 3.1.557) do not allow to send
    non-existing channel, the firmware crashes.
    from the firmware on one of our earlier-sent frames.
    to the firmware, effectively closing all further communication.  In
    firmware/hardware documentation.
    send EAPOL frames using normal ACK because of firmware considerations.
    Rx side (recipient) firmware informs driver about ADDBA with
    by firmware with WMI_ADDBA_RESP_SENT_EVENTID. In case of success,
    firmware informs driver with WMI_DELBA_EVENTID,
    * A fix for scan that fixes a firmware assertion
    New firmware revisions support beacon and probe
    are no longer delivered for these firmware
    New firmware revisions with beacon templates need
    This is required for new firmware to work with
    New firmware revisions may support setting beacon
    This event is delivered to host by firmware if it
      firmware works in all cases.
    with the PF fail during shutdown.  On some versions of the firmware, the
    solution is to place another descriptor on the queue and the firmware
    The QEMU open source machine emulator and virtualizer presents firmware
    On some versions of the firmware, the VF admin send queue may become
    descriptor on the queue; the firmware will then process both requests.
    value, firmware informs the driver to retry the failed IO command
    infinite times, so to provide some time for the firmware to discover
    command for five times( doesn't giving enough time for firmware to
       firmware, then print the sensor number, the maximum threshold number it
    MIPS: ARC: Add declarations for a few missing ARC firmware functions.
    buffer and the index of rx buffer in rx ring to the firmware.
    This led to a corruption in the firmware. The visible
    state of the UEFI firmware after SetVirtualAddressMap() has been called.
    only for the 10.2 firmware.
    the 10.2 firmware.
    efi: Expose underlying UEFI firmware platform size to userland
    run in 64-bit even if the underlying UEFI firmware platform is
    The kernel already knows about the size of the firmware via
    /sys/firmware/efi/fw_platform_size to expose that information to
     *Update the EFI firmware Kconfig help with the URL of efibootmgr. - Peter Jones
    * new firmware API for iwlmvm supported devices
    Because the scheduling of the user-mode queues is done by the CP firmware,
    * Add WMI TLV interface in preparation for new firmware interface support
    * Support new firmware branch 10.2.4
    non existing VD. ldTgtIdtoLd[] array has size 256 for Extended VD firmware
    and 128 for legacy firmware. Accessing indices beyond array size (OS will
    For legacy firmware (64 VD firmware), invalidates LD (by setting LD value
    1) If the firmware supports SED JBOD, all non read/write commands to JBODs
       will be sent via firmware path, and read/write commands to JBODs will
    2) If the firmware does not support SED JBOD, driver will fall back to the
    Check firmware status in ses_set_* before sending control pages to
    firmware.
    The name provided by firmware is in a vendor specific format, publish
    across firmware implementations.  If the enclosure does not provide a
    csiostor:firmware upgrade fix
        - MCP7[789A] hang fix where firmware hasn't already setup NISO pollers
    mwifiex: Increase priority of firmware download message
    If host fails to wakeup the firmware, we will trigger card reset
    For v1 key material API firmwares, there is no need to send
    perspective. As such they use the same firmware image.
    mwifiex: save sdio register values before firmware dump
    This patch saves sdio registers value before firmware dump,
    mwifiex: save driver information to file when firmware dump
    when firmware dump happens. This information can be used to
    mwifiex_debug_info also need be save to file when firmware dump happens.
    can be reused in firmware dump function.
    brcmfmac: enable 802.11d support in firmware
    to firmware. This allows FW to take appropriate actions.
    the firmware to use the same.
    During configuration a down command is given to the firmware which
    * enhancements to the firmware debugging infrastructure
    bluetooth: btmrvl: increase the priority of firmware download message
    The firmwares on the omap5 and dra7xx unfortunately do not take care
    ASoC: Intel: Delete an unnecessary check before the function call "release_firmware"
    The release_firmware() function tests whether its argument is NULL and then
    * new firmware API for iwlmvm supported devices
    iwlwifi: bump firmware API for mvm devices to 12
    use the latest version of the firmware.
    iwlwifi: 7000: fix reported firmware name for 7265D
    Some buggy firmwares export an incorrect MAC address (00:a0:c6:00:00:00). This
    address of devices with this firmware bug to a random address. I tested the
    patch with two devices that has this firmware bug (Huawei E398 and E392), and
    * rsi: fix memory leak related to firmware image
      ASoC: Intel: Fix BYTCR firmware name
    the I/O, which could lead to inconsistent driver and firmware states.
    In this case firmware reset would clear the inconsistent state.
    so probably a firmware bug. either way, it makes it hard to track BTN_TOUCH
    The driver and the firmware now support 2 different channels
    The firmware is able to compensate the rssi when we hear
    This allows to collect the logs even if the firmware hasn't
    crashed. Of course, crashing the firmware is an option, but
      issue with the firmware debugging infrastructure. While working on
      torture scenarios of firmware restarts, Eliad found an issue which
      drm/msm: Deletion of unnecessary checks before the function call "release_firmware"
    rtlwifi: rtl8821ae: Simplify loading of WOWLAN firmware
    The existing method for loading both normal and WOWLAN firmware for the
    But duplication of firmware data here is useless,
    also send (re) assoc peer command to be sure firmware
    command is currently supported in 10.2 firmware alone.
    ath10k: add 10.2.4 firmware support
    10.2.4 firmware uses bitmask in wmi_resource_config to configure
    10.2 firmware features like airtime fairness and rx batch mode instead
    The internal firmware version doesn't tell much to the user, it's more
    To make it easier to manage firmware differences, we should not use
    ATH10K_FW_FEATURE_WMI_10X outside ath10k_core_init_firmware_features(). To
      drm/msm: Deletion of unnecessary checks before the function call "release_firmware"
    ASoC: Intel: Fix BYTCR firmware name
    BYTCR DSP firmware is in intel/ subdirectory. See linux-firmware.git
    commit d562a3b63632 ("linux-firmware: add sst audio firmware for baytrail
    Liad fixes an issue with the firmware debugging infrastructure.
    While working on torture scenarios of firmware restarts, Eliad found an
       - fixes for new ASIHPI firmware,
      ALSA: asihpi: relax firmware version check
      A patch from Ben to export the symbol map of our OPAL firmware as a
      powerpc/powernv: Expose OPAL firmware symbol map
    access mixer / control interface of the card, the firmware "locks up"
    This corresponds with updated asihpi firmware in alsa-firmware repo
    ALSA: asihpi: relax firmware version check
    Some products firmware is no longer being updated
    Avoid regression by allowing this firmware to be loaded as
    drm/msm: Deletion of unnecessary checks before the function call "release_firmware"
    The release_firmware() function tests whether its argument is NULL
    CNTVOFF is initialised by the kernel to 0), we want to spot firmware
    The only way to make sure firmware doesn't use CCK
    Setting 0 ps timeout to firmware yields very poor
    To make this work correctly firmware needs to be
    Some firmware revisions need peer phymode to be
    any of firmware versions, hence unregister the callback and
      firmware create_mkey command.
    If the firmware has declared more than 8 video output devices, and the
    case the firmware that has 8+ output devices in that if we see such a
    firmware, we do not test if the device is in _DOD list. The creation of
    the backlight device will also enable the firmware to emit events on
    powerpc/powernv: Expose OPAL firmware symbol map
    firmware space.
      firmware class: Deletion of an unnecessary check before the function call "vunmap"
      firmware loader: fix hung task warning dump
    In the very unlikely case in which no firmware could be,
    fs sound include net Documentation firmware kernel tools)
      cxgb4/cxgb4i: set the max. pdu length in firmware
      dma: imx-sdma: clarify about firmware not found error
    cxgb4/cxgb4i: set the max. pdu length in firmware
    Programs the firmware of the maximum outgoing iscsi pdu length per connection.
    that made iwlwifi's firmware unhappy.
       - Cleanups and fixes to the firmware library.
       - Switch ATH79 platform to use the firmware library.
    This change adds an initial IPMI driver for powerpc OPAL firmware. The
    interface is exposed entirely through firmware: we have two functions to
    firmware to signify that a message is available.
      [media] mn88473: Remove uneeded check before release_firmware()
      [media] tuners: remove uneeded checks before release_firmware()
      [media] si2168: add support for firmware files in new format
      [media] si2168: debug printout for firmware version
    Add the required firmware commands for A0 steering and a way to enable
    that. The firmware support focuses on INIT_HCA, QUERY_HCA, QUERY_PORT,
    Currently QUERY_PORT is done as a part of QUERY_DEV_CAP firmware command.
    The number of reserved QPs is affected both from the firmware and
    FW_HELLO_CMD_MASTERFORCE being set. The firmware doesn't support this and of
      firmware.  It works with Device Trees and ACPI in a uniform way and
      as long as the platform firmware (either DT or ACPI) makes them
      Next is support for a platform firmware interface based on ACPI
         device drivers to be written in a platform firmware (DT or ACPI)
       - Support for firmware interface based on ACPI operation regions used
    Other changes that the pull request contains are firmware dump support
    to the btmrvl driver, firmware download support for Broadcom BCM20702A0
    firmware API for scan and a few rate control improvements.
    a infrastructure for firmware debugging. This will allow to
    have configurable probes insides the firmware.
    o new debugfs interface for runtime firmware debugging (Yanbo)
    i40e: let firmware catch the NVM busy error
    firmware didn't handle this well, so the code had to track the busy state.
    The released firmware handles the busy state correctly, returning
    patch which updates the FW version displayed by ethtool after firmware flash.
    cxgb4: Update firmware version after flashing it via ethtool
    After successfully loading new firmware, reload the new firmware's version
    Don't let T4 firmware flash on a T5 adapter and vice-versa
      wd719x: Add firmware documentation
    available uuids. The uuid change is communicated to firmware, only
    firmware dix with VSI loopback mode.  All VSIs on a VEB should either
    Cmac engine is the bridge between driver and dash firmware.
      Driver core: Unified interface for firmware node properties
      Driver core: Unified device properties interface for platform firmware
    period via debugfs as firmware has introduced it on v10.2.
    New pdev paramters have been added to firmware 10.2,
    Latest main firmware branch introduced a new WMI
    ath10k: set max_num_pending_tx in ath10k_core_init_firmware_features()
    Better to have this in same place as other firmware interface handling.
    WMI versions. This makes it firmware interface tests a bit less convoluted,
    It's easier to manage firmware version differences when we configure them in
    ath10k_core_init_firmware_features() and start moving most of the firmware
    ath10k_init_firmware_features() function in the next patch.
    When multiple VFs attempt to initialize simultaneously, the firmware may
    situations by a) reinitializing the admin queue if the firmware fails to
    all firmwares.
    dma: imx-sdma: clarify about firmware not found error
    When a firmware cannot be found for the SDMA engine then we can
    continue with the internal ROM firmware.
    that the driver still works with the internal ROM firmware and reduce
    These are a pre-req to get rk3288 SMP to work with some firmwares, so merge
    * The firmware doesn't know and doesn't care about hypervisor mode and
    * The firmware isn't involved in SMP bringup or resume.
    situation, and firmware is free to remove the property if it is going
    that the firmware has never entered HYP mode.
    Note that it's been said that on ARMv8 systems the firmware and
    * The firmware doesn't know and doesn't care about hypervisor mode and
    * The firmware isn't involved in SMP bringup or resume.
    The release_firmware() function was called by the mn88473_init() function even
    if a previous function call "request_firmware" failed.
    [media] mn88473: Remove uneeded check before release_firmware()
    The release_firmware() function tests whether its argument is NULL and then
    The release_firmware() function was called in some cases by the si2157_init()
    [media] tuners: remove uneeded checks before release_firmware()
    The release_firmware() function tests whether its argument is NULL
    multiple BSS firmware needs to support it.
    [media] si2168: add support for firmware files in new format
    This patch adds support for new type of firmware versions of Si2168 chip.
    firmware for Si2168-B40 that is in the new format. It can be extracted
    [media] si2168: debug printout for firmware version
    A debug printout for firmware version.
    Bluetooth: Add support for Broadcom BCM20702A0 variants firmware download
    The firmware was extracted from a Windows 7 32-bit installation
    The firmware is named "BCM20702A0_001.001.024.0156.0204.hex"
    The firmware file is also available as a download at
    inside the firmware directory (e.g. "/lib/firmware")
    Bluetooth: btmrvl add firmware dump support
    This patch adds firmware dump support for marvell
        radeon 0000:0b:01.0: Direct firmware load for radeon/R100_cp.bin failed with error -2
        radeon_cp: Failed to load firmware "radeon/R100_cp.bin"
        [drm:r100_cp_init] *ERROR* Failed to load firmware!
    infrastructure for firmware debugging. This will allow to
    have configurable probes insides the firmware.
    Debug information can be appended to the firmware file. This
    debugging features in the firmware.
    iwlwifi: dvm: fix flush support for old firmware
    the firmware. All the devices that use iwldvm have a
    firmware that expects the _v3 version of this command,
    5150's latest available firmware still expects a _v2 version
    Loaded firmware version: 8.24.2.2
    (or unsigned PMU firmware).
    If card reset with firmware download executed, followed by reset
    with use of firmware from build in flash, firmware download indication
    When running firmware download flow,
    by pci.h in the firmware download code.
    Scan timeout treated as indication for firmware error;
    - report to cfg80211 reason as reported by the firmware
    - provide to the firmware reason as requested by cfg80211
    which then has to parse firmware tables or probe buses to identify the
    (at least 0x0c11). The firmware has issues with older
    by the firmware.  The firmware reports the channels as indices to the
    the matched profiles from the firmware in order to find the correct
    All the supported firmwares have this TLV flag set.
    All the supported firmwares have this TLV flag set.
    This TLV flag is set for all the supported firmwares.
    This firmware is not supported anymore.
    Stop loading this firmware - and remove the code that
    Query the firmware for scan offload matches when waking up in order to
    iwlwifi: move firmware file format definitions to correct header
    The firmware file-format is described in iwl-fw-file.h, while the
    firmware capabilities.
    framebuffer the firmware might have set up.
      not try to decode the data as trackpoint if firmware told us it is not
      Input: elantech - trust firmware about trackpoint presence
    firmware class: Deletion of an unnecessary check before the function call "vunmap"
    firmware loader: fix hung task warning dump
    When using request_firmware_nowait() with FW_ACTION_NOHOTPLUG param to
    [ 3000.812765] Workqueue: events request_firmware_work_func
    [ 3000.894219]  [<c13cb600>] _request_firmware+0x750/0x9f0
    [ 3000.905200]  [<c13cba02>] request_firmware_work_func+0x22/0x50
    Since device/firmware coredumps can contain private data, it can
    If firmware starts returning an HMI event with version > 1, this check
    The Baytrail-T-CR platform firmware has defined two customized operation
    The Baytrail-T platform firmware has defined two customized operation
    "Not all the firmware know how to handle the HOT_SPOT_CMD.
    Make sure that the firmware will know this command before
    sending it. This avoids a firmware crash."
    - Secure firmware for Exynos3250 secondary cpu boot
    If pre-filled framebuffer nodes are used, the firmware may need extra
    the firmware needs to be able to find a specific node it should use a
    mode for 10.x and main firmware branches
    Add mem_val debugfs file for dumping the firmware (target) memory and also for
    writing to the memory. The firmware memory is accessed through one file which
    uses position of the file as the firmware memory address. For example, with dd
    firmware (target) registers. reg_addr contains the address to be accessed,
    To read a value from the firmware register 0x100000:
    Some firmware revisions don't seem to deilver
    time can be very small. Some firmware revisions
    New firmware revisions don't need peer creation
    This prevent new firmware revisions from stopping
    helps the firmware's rate-control algorithm work properly.
    drivers/media/usb/dvb-usb-v2/lmedm04.c:828 lme_firmware_switch() warn: missing break? reassigning 'st->dvb_usb_lme2510_firmware'
    drivers/media/usb/dvb-usb-v2/lmedm04.c:850 lme_firmware_switch() warn: missing break? reassigning 'st->dvb_usb_lme2510_firmware'
    st->dvb_usb_lme2510_firmware.
    When the driver has sent a join iovar to the firmware it waits
    The functions i2c_put_adapter() and release_firmware() test whether their
    wd719x: Add firmware documentation
    Add documentation and script to obtain required firmware.
    The release_firmware() function was called in some cases by the
    The release_firmware() function was called in some cases by the
    [media] DVB-frontends: Deletion of unnecessary checks before the function call "release_firmware"
    The release_firmware() function tests whether its argument is NULL
    drivers/media/usb/dvb-usb-v2/lmedm04.c:828 lme_firmware_switch() warn: missing break? reassigning 'st->dvb_usb_lme2510_firmware'
    drivers/media/usb/dvb-usb-v2/lmedm04.c:849 lme_firmware_switch() warn: missing break? reassigning 'st->dvb_usb_lme2510_firmware'
    In some cases firmware brings up plls with different parameters than the ones
    noted in the rate table for the specific frequency. These firmware-selected
    Input: elantech - trust firmware about trackpoint presence
    Only try to parse data as coming from trackpoint if firmware told us that
    firmware API for scan and a few rate control improvements.
    "Not all the firmware know how to handle the HOT_SPOT_CMD.
    Make sure that the firmware will know this command before
    sending it. This avoids a firmware crash."
    firmware, but they are generally fairly useful, so make it easy to print them
    MIPS: ath79: Read the initrd address from the firmware environment
    Allow loading an initrd passed by the firmware.
    MIPS: ath79: Use the firmware lib to parse the kernel command line
    No need to duplicate code that is available in the firmware library.
    It also give us access to the firmware environment which is needed
    MIPS: lantiq: add support for xrx200 firmware depending on soc type
    VR9 needs different firmware files for the various phy/soc revisions. Some
    image on all versions we need to define both firmware files inside the
    which is used to run the voice firmware. This driver allows us to register
    MIPS: BMIPS: Align secondary boot sequence with latest firmware releases
    MIPS: Loongson: Improve LEFI firmware interface
    firmware, we can extract 2bit Node ID (bit 44~47, only bit 44~45 used
    things from the firmware than when it wakes up with a normal WoWLAN.
    that gets the firmware status from the part that sets up the WoWLAN
    calling post_channel_switch, the reconfiguration of the firmware
    doing it in unassign_vif().  This is done so that the firmware queues
    offload because of a quirk with the firmware API - it allows setting
    the differences (currently only the firmware image) into account.
    iwlwifi: mvm: check TLV flag before trying to use hotspot firmware commands
    Older firmwares do not provide support for the HOT_SPOT_CMD command.
    the firmware to prevent a firmware assertion failure that can be
    Unfortunately, the firmware right now doesn't support randomising
    firmware supports randomising the address for each scan iteration
    firmwares. It allows to reach better overall WiFi and BT
    Our firmware scheduler suffers from false wake-up on 500 time units.
    load separate firmware images for some reason.
    filter, port, VI, queue, RSS, LDST, firmware, etc that are defined in t4fw_api.h
    Stock firmware on rk3288 does not initizalize the CNTVOFF registers
    o firmware restart is now faster and more reliable (Michal)
      crashing the firmware using hw-restart parameter with
    Make sure to always convert the firmware data to local endianness before
    drm/edid: Deletion of an unnecessary check before the function call "release_firmware"
    The release_firmware() function tests whether its argument is NULL and then
    TX buffer size is set to driver default (2K), as we do not know the firmware
    The functions brcmu_pkt_buf_free_skb() and release_firmware() test whether
    to map and use BAR 0. If the device is hosed (or firmware is), then
    This patch adds support for the v2 version of the SigmaDSP firmware file
    describing the firmware. This metadata includes the set of supported
    supported with v2 require the driver to keep state around for the firmware.
    This requires a bit of restructuring of both the firmware loader itself and
    the drivers making use of the firmware loader.
    Instead of loading and executing the firmware in place when the DSP is
    configured the firmware is now loaded at driver probe time. This is required
    since the new firmware format will in addition to the firmware data itself
    contain meta information describing the firmware and its requirements and
    supported for the firmware.
    The official firmware generation tool never emitted any SIGMA_ACTION_DELAY
    ASoC: sigmadsp: Refuse to load firmware files with a non-supported version
    Make sure to check the version field of the firmware header to make sure to
    not accidentally try to parse a firmware file with a different layout.
    Trying to do so can result in loading invalid firmware code to the device.
    This allows drivers with a firmware or chip-based rate lookup table to
    sent by the firmware based on a template. This template should be
    of/fdt: export fdt blob as /sys/firmware/fdt
    Create a new /sys entry '/sys/firmware/fdt' to export the FDT blob
    The fact that this node does not reside under /sys/firmware/device-tree
    gives platform firmware a means of describing the idle state and export
    there are DCB configuration changes based on DCBx, the firmware suspends
    configuration from firmware when firmware DCBx agent is in CEE mode.
    Many firmwares do not wait for the start bit before they begin
    processing audio, whilst this is a bug on the firmware side there are
    too many such firmwares in the wild to ignore the situation. This patch
    moves the core enable to happen at same time as the start, the firmware
    up but we ensure that all firmwares behave.
    When DCB TC configuration changes the firmware suspends the port's Tx.
    firmware AQC "Resume PF Traffic" the driver checks the Tx queues requested
    the DCBX status to disabled as well; and would not query firmware for
    i40e: Add support to firmware CEE DCBX mode
    firmware when firmware DCBX agent is in CEE mode.
    When there are DCB configuration changes based on DCBX the firmware suspends
    The firmware was extracted from a Windows 8.1 64-bit installation
    but the firmware is named "BCM20702A1_001.002.014.1315.1356.hex"
    The same firmware file is also available as a download at
    inside the firmware directory (e.g. "/lib/firmware")
    This patch "ath9k_htc_firmware: fix the offset of CCMP header
    for mesh data frame" applied to open-ath9k-htc-firmware allows
    o firmware restart is now faster and more reliable (Michal)
      crashing the firmware using hw-restart parameter with
    Fix to use v10.2 wmi call for firmware v10.2.
    v10.1 wmi call for v10.2 firmware during code review.
    ALSA: hdsp: Deletion of an unnecessary check before the function call "release_firmware"
    The release_firmware() function tests whether its argument is NULL and then
    The functions kfree() and release_firmware() test whether their argument
    Solves possible lockup issues that can be seen from firmware DCB agents calling
    DCB firmware event queues can be tied in with NAPI so that dcb events are
    This code was not originally written with firmware agents in mind, hence
    Liad fixes a small bug in the firmware dump."
    ASoC: wm_adsp: Use vmalloc to allocate firmware download buffer
    Use vmalloc to allocate the buffer for firmware/coefficient download and
    Last add some advice on how to fill and use simplefb nodes from a firmware
    A simple-framebuffer node represents a framebuffer setup by the firmware /
    OPAL firmware we have.
    powerpc: Disable CPU_FTR_TM if TM is disabled by firmware
    touchpad firmware...
    The 1st two patches fix small bugs w.r.t firmware spec. Next
    and a patch that adds support for the QUERY_FUNC firmware command,
    patch (#6) we change the order of talking/querying the firmware
    supports > 64 VFs over a firmware that allows for that.
    We now allow up to 126 VFs. Note though that certain firmware
    Previously, the driver queried the firmware in order to get the number
    notified the firmware how many VFs it actually needs, the firmware had
    Now, when the firmware supports the asymmetric allocation scheme, denoted
    QUERY_FUNC command to query the firmware before enabling SRIOV. Thus we
    Moreover, when running in the new firmware/driver mode, the limitation
    net/mlx4_core: Add QUERY_FUNC firmware command
    QUERY_FUNC firmware command could be used in order to query the
    newer firmware that required init_hca to be done before
    enable_sriov and legacy firmwares that requires things to
    It's been observed that wrong firmware version (ex. 66.14.96.p9
    so if host platform is slow, we would hit a case where firmware
    Kamil updated the i40e and i40evf driver to poll the firmware slower
    since we were polling faster than the firmware could respond.
    Liad fixes a small bug in the firmware dump."
    In some rare cases, the firmware can put the device to
    propagated to the firmware.
    since the firmware hasn't put the device to sleep yet, but
    right after the driver's check, the firmware might put the
    Warn when this happens by allowing the firmware to finish
    Currently, the firmware only sends temperature notificaitions inside
    temperature notifications in those cases.  To solve that, the firmware
    firmware versions that do not send the notifications.
    iwlwifi: mvm: don't capture firmware coredump for D3->D0 reconfig
    The code to capture firmware errors works during the reconfiguration
    get the D0 image reconfigured, this triggered and caused a firmware
    i40e: poll firmware slower
    The code was polling the firmware tail register for completion every
    10 microseconds, which is way faster than the firmware can respond.
    iwlwifi: mvm: use correct type for firmware status
    o debugfs file to read calibration data from the firmware verification
    o firmware crash counters via debugfs (Ben&me)
    o various tracing points to debug firmware (Rajkumar)
    o make it possible to provide firmware calibration data via a file (me)
    firmware to wake up the platform when a specific network
    ASoC: wm8958: Move DSP firmware lock to driver level
    firmware pointers from concurrent assignment. This patch moves this lock to
    mmc: core: Report firmware version for eMMC 5.0 devices.
    For eMMC 5.0 compliant device, firmware version is stored in ext_csd.
    Report firmware as a 64bit hexa decimal. Vendor can use hexa or ascii
    string to report firmware version.
    This patch displays the firmware version of the microcode that is currently
    The new interface function retrieves the firmware version that is currently
    in use by a specific engine. The firmware was uploaded to the engine by the
    The new interface function retrieves the firmware version that is currently in
    use by the MEC engine. The firmware was uploaded to the MEC engine by the kgd
      : introduce suspend() and resume() firmware operations
    - Fix AFTR mode on boards with secure firmware enabled and
      ARM: EXYNOS: add secure firmware support to AFTR mode code
      ARM: firmware: add AFTR mode support to firmware do_idle method
      ARM: EXYNOS: Add support for firmware-assisted suspend/resume
      ARM: firmware: Introduce suspend and resume operations
    crc_enabled bit in the firmware version indicated it would. When switching
    "I fix here two issues that are related to the firmware
    - Secure firmware for Exynos3250 secondary cpu boot
    firmware updates.  It also taints the kernel with TAINT_FIRMWARE_WORKAROUND
    o Poll for the link events only if firmware doesn't have capability
    reported to cause occasional firmware crashes on Simtec Electronics
    firmware version etc. as dump stack arch description, so that oopses
    Since the firmware can legally provide both entry points, store
    perfectly legal for the firmware not to request a virtual mapping for
    on chv. At least that's the case with the current punit firmware. So
    in the current punit firmware. So leave them disabled in the code.
    Patch 1,2 : Adds backward compatibility with the older firmware (<= 1.13.28).
               that are not shared with the firmware
    This was due to hardware resource sharing conflict with the firmware. This
    drivers: net: xgene: Backward compatibility with older firmware
    This patch adds support when used with older firmware (<= 1.13.28).
    dtb: xgene: fix: Backward compatibility with older firmware
    The following kernel crash was reported when using older firmware (<= 1.13.28).
    The issue was that the older firmware does not support 10GbE and
    Some drivers need to deal with only firmware representation of its
    is described as a separate firmware node in device tree. Typically these
    In order to help device drivers to handle such firmware child nodes we
    add dev[m]_get_named_gpiod_from_child() that takes a child firmware
    itself), finds the GPIO using whatever is the underlying firmware
    Driver core: Unified interface for firmware node properties
    device description objects in the platform firmware in case there are
    (depending on what platform firmware interface is in use) to be
    reason that there is no common mechanism to fetch name of the firmware
    Driver core: Unified device properties interface for platform firmware
    properties from the platform firmware by providing a property name
    firmware interface.
    "I fix here two issues that are related to the firmware
    Previous patch changes used signal strength firmware register from
    when device was opened. Message is aimed to point out firmware is
    downloaded, up and running. So print it only in case firmware download
      powerpc/fadump: Fix endianess issues in firmware assisted dump handling
    Without this, we may receive truncated messages due to the firmware
    The demod of M88RS6000 need the firmware: dvb-demod-m88rs6000.fw
    firmware download link:
            http://www.dvbsky.net/download/linux/dvbsky-firmware.tar.gz
    Add code to issue CONFIG_DEV "get" firmware command.
    This patch works with all XC5000 firmware versions.
    The functions kfree(), release_firmware() and snd_util_memhdr_free() test
    make the firmware fail and the driver wasn't able to recover.
    Change the flow so that the driver will kill the firmware
    added reference of struct echoaudio to free_firmware function.
    firmware which can be less than what the PCI architecture allows.
    Replace dprintk(0, ...) by pr_err since firmware load errors should just be
    messages due to the firmware thinking we have insufficient buffer size.
      ACPI / EC: Fix regression due to conflicting firmware behavior between Samsung and Acer.
      ACPI / EC: Fix regression due to conflicting firmware behavior between Samsung and Acer.
    ASoC: Intel: use correct firmware name
    The firmware name was used worngly, so fix it up
    ASoC: Intel: sst: load firmware using async callback
    We would like the DSP firmware to be available in driver as soon as possible. So
    use the async callback in driver to probe to load the firmware as soon as
    firmware indication register.
    firmware, and one of these registrations fail, we leaked the
    or from event reported by the firmware.
    In case of firmware event, driver need to release resources for the station but
    be issued for the firmware to perform disconnect on the MAC layer. Eventually,
    firmware event and release station resources immediately. FW may fail to
    As communicated with the firmware & hardware teams
    brcmfmac: do not use firmware error code in driver
    Passing the firmware error codes up the driver may be mapped to
    firmware error code in FIL debug message.
    brcmfmac: show firmware error as string in debug message
    Showing the firmware error allows to quickly give a clue what
    went wrong and directly look in the firmware code that gave us
    firmware to wake up the platform when a specific network
    rtlwifi: rtl8192se: Fix firmware loading
    An error in the code makes the allocated space for firmware to be too
    routine for deferred firmware loading was not removed.
    The demodulator and tuner need firmware. They're the same as used with TT CT2-4650 CI:
        firmware says that there are more CPUs than are really present.
    powerpc/fadump: Fix endianess issues in firmware assisted dump handling
    sound/soc/intel/sst-firmware.c:172:29: sparse: symbol 'dw_pdata' was not declared. Should it be static?
    ACPI / EC: Fix regression due to conflicting firmware behavior between Samsung and Acer.
    The behaviors of the 2 vendor firmwares are conflict:
     1. Acer: OSPM shouldn't issue QR_EC unless SCI_EVT is set, firmware
     2. Samsung: OSPM should issue QR_EC whatever SCI_EVT is set, firmware
    behavior only effective for Acer EC firmware so that the breakages on
    Samsung EC firmware can be avoided.
    binary data which is helpful to debug the firmware.
    firmware. This caused issues when we boot in RFKILL since
    any firmware.
    (i.e. we let the firmware do this for us), so we don't need to include
    firmware is switched), switch_to_d3 (which handles the rebooting of
    the hardware with the D3 firmware) and config (which configures the D3
    firmware for WoWLAN operation).  This is necessary to prepare for the
    struct firmware::data has type const u8*, as does *ppmappedfw, so the
    staging: comedi: me4000: fix firmware downloading
    Convert this driver to use comedi_load_firmware() to download the firmware
    ASoC: Intel: Add DMA firmware loading support
    Add support for DMA to load firmware modules to the DSP memory blocks.
    fixes a bug in many instances of firmware: Instead of lying about their
    people suffering from this problem to fix their broken firmware, but
    otherwise rcu_barrier() will hang on systems having firmware that lies
    before reloading firmware and re-intializing it again.
    firmware load complete status from risc.
    just WARN in those cases for now. We should not explode, as firmware will
    Since the firmware newer writes to FRAME_MEM_CTRL, we can initialize it once
    "ARM: EXYNOS: Add support for firmware-assisted suspend/resume" patch
    added to arch/arm/mach-exynos/firmware.c new references to functions
    checks to arch/arm/mach-exynos/firmware.c.
    Disabling DCBx in firmware would automatically set DCBx state to host-managed
    Disabling DCBx in firmware automatically enables DCBx for control via host
    VirtualGuestFirmwareImageBase => virtual_guest_firmware_image_base
    VirtualGuestFirmwareEntryPoint => virtual_guest_firmware_entry_point
    VirtualGuestFirmwareImageSize => virtual_guest_firmware_image_size
    VirtualGuestFirmwareBootBase => virtual_guest_firmware_boot_base
    Jesse modifies the i40e driver to only notify the firmware on link up/down
    we have a TLB miss path into the firmware that is deep enough to
    1) Stop using the firmware stack for client interface calls into
       the firmware.  Just use the kernel's stack.
       to put a one-register-window buffer between the firmware's
    Keep in mind available firmware binaries don't
    refuse to rx even after firmware is restarted.
    "priv->firmware" dereference.
    fmdrv_common.c: In function 'fm_download_firmware':
    Tell the firmware what kind of link related events the driver is
    https://bugs.launchpad.net/ubuntu/+source/linux-firmware/+bug/1270808
    load firmware callback to the rtl_pci_probe only.
    The sst-firmware was also using own method to do 32bit copy, turns out we have a
      for old firmware, more endian fixes for firmware interfaces, more EEH
      powerpc/powernv: Fallback to old HMI handling behavior for old firmware
    /lib/firmware/ath10k/cal-pci-0000:02:00.0.bin
    1. Check with request_firmware() if there's a calibration file
    ath10k: refactor ath10k_init_download_firmware()
    on the firmware status.  Let the function simply returning in such a
    with secure firmware enabled) by ~12% when EXYNOS cpuidle driver is
    This change is a preparation for adding secure firmware support to
    ARM: EXYNOS: add secure firmware support to AFTR mode code
      additional helper usage to do_idle firmware method.
    * Use resume firmware method instead of exynos_cpu_restore_register()
      and skip exynos_cpu_save_register() on boards with secure firmware
      firmware enabled.
    * Use do_idle firmware method instead of cpu_do_idle() on boards with
      secure firmware enabled.
    ARM: firmware: add AFTR mode support to firmware do_idle method
    available and we need to distinguish them in firmware do_idle method.
    Add mode parameter to do_idle firmware method and AFTR mode support
    This change is a preparation for adding secure firmware support to
    ARM: EXYNOS: Add support for firmware-assisted suspend/resume
    mode under a secure firmware. This means that certain operations need to
    be handled in special way, with firmware assistance. System-wide
    This patch adds support for firmware-assisted suspend/resume by
    leveraging recently introduced suspend and resume firmware operations
    secure firmware.
    ARM: firmware: Introduce suspend and resume operations
    This patch extends the firmware_ops structure with two new callbacks:
    .suspend() and .resume(). The former is intended to ask the firmware to
    firmware: drop owner assignment from platform_drivers
    firmware loading. Therefore, the patch includes a SPI driver for writing the DSP
    firmware. The VAD(Voice Activaty Detection) has be implemented and use the DSP to
    This patch contains all dsp controlling functions like firmware download,
      iommu/vt-d: Work around broken RMRR firmware entries
    Use t4_fw_upgrade instead of t4_load_fw to write firmware into FLASH, since
    t4_load_fw doesn't co-ordinate with the firmware and the adapter can get hosed
    powerpc/powernv: Fallback to old HMI handling behavior for old firmware
    for HMI recovery which was introduced in newer firmware. While this new
    change works fine with latest OPAL firmware, we broke the HMI handling
    if we run newer kernel on old OPAL firmware that results in system hang.
    OPAL firmware.
    if we are running on newer firmware or old firmware. On newer firmware
    old firmware and fallback to old HMI behavior.
    Old firmware: POWER8 System Firmware Release as of today <= SV810_087
    Newer firmware: in development/yet to be released.
         need a lot quirks over time due to the lack of any firmware
    drivers/firmware/memmap.c: don't create memmap sysfs of same firmware_map_entry
    By the following commits, we prevented from allocating firmware_map_entry
      f0093ede: drivers/firmware/memmap.c: don't allocate firmware_map_entry
      49c8b24d: drivers/firmware/memmap.c: pass the correct argument to
                firmware_map_find_entry_bootmem()
    memmap sysfses of same firmware_map_entry are created twice as follows:
      # cat /sys/firmware/memmap/*/start
      1. e820_reserve_resources() allocates firmware_map_entrys of all
         memory ranges defined in e820. And, these firmware_map_entrys
         added the memory device. In this case, firmware_map_add_hotplug()
         allocates firmware_map_entry and creates memmap sysfs.
      3. firmware_memmap_init() creates memmap sysfses of firmware_map_entrys
    firmware_map_entry has been created, and does not create memmap
    sysfs of same firmware_map_entry.
    Right now, RTL8168EP phy mcu did not need firmware code patch, so I did not
    add firmware code for it.
    so I did not add firmware code for it.
    not to warn on event previously requested by firmware.
       a lot quirks over time due to the lack of any firmware description of
      and the addition of a new interface to dump firmware "core dumps" to
      firmware_class: make sure fw requests contain a name
    This fix issue with 636 firmware when scan always failed
    ath10k: advertise all possible firmware(-api) files
    In such case we need to have the firmware files accessible from ram disk too,
    This prevents some firmware revisions from crashing.
     - CPU suspend backend for PSCI (firmware interface) with standard idle
         firmware in emulated NOR flash)
    If an IPMI controller is used by the firmware and as such marked with
       a lot quirks over time due to the lack of any firmware description of
    to crash the firmware with an assert for debug purposes. As usual, we
    for supported firmware. The first firmware with cookie only support for
    me appears on T5. You can optionally force the HV firmware to not cookie
    cookie/sysino firmware versioning.
    (in order to avoid the firmware range) we don't specify the
    Fixes: 4ca9a23765da ("sparc64: Guard against flushing openfirmware mappings.")
    used in the driver/firmware interaction around command mailboxes.
    the latest revision if firmware specification.
    correctly in actual firmware implementations remains an unanswered
    drivers/firmware/efi/vars.c: In function dup_variable_bug:
    drivers/firmware/efi/vars.c:324:44: warning: declaration of s16 shadows a global declaration [-Wshadow]
    drivers/firmware/efi/vars.c:328:8: warning: declaration of s8 shadows a global declaration [-Wshadow]
    workaround triggers another firmware bug. This was only discovered with
    firmware issues, at least on x86. This is the rationale behind leaving
      ACPI / i915: Update the condition to ignore firmware backlight change request
      ACPI / i915: Update the condition to ignore firmware backlight change request
    The corresponding firmware image file is located at:
    Now obj-n is only used in firmware/Makefile and it can be
    iommu/vt-d: Work around broken RMRR firmware entries
     1) Don't halt the firmware in r8152 driver, from Hayes Wang.
    r8152: patches about firmware
    The patches fix the issues when the firmware exists.
    For the multiple OS, the firmware may be loaded by the
    The firmware would be clear when the power cut is enabled for
    The xxx_clear_bp() is used to halt the firmware. It only necessary
    for updating the new firmware. Besides, depend on the version of
    the current firmware, it may have problem to halt the firmware
    directly. Finally, halt the firmware would let the firmware code
    useless, and the bugs which are fixed by the firmware would occur.
    These two functions are used to inform dash firmware that driver is been
    Add support for reading firmware stats through the ethtool
    ath10k: add firmware crash counters
    Add three counters related to firmware crashes or resets.
    We will now dump MAC, APU, CIU, ICU firmware memory segments also
    reads firmware dump information.
    mwifiex: error path handling in pcie firmware dump
    This patch takes care of missing error paths in firmware dump.
    hot reset on the parent bus to bring their firmware back to
    powerpc/powernv: Sync OpalPciResetScope with firmware
    The names of PCI reset scopes aren't sychronized with firmware.
    powerpc/powernv: Sync header with firmware
    The patch synchronizes firmware header file (opal.h) for PCI error
    ACPI / i915: Update the condition to ignore firmware backlight change request
    Some of the Thinkpads' firmware will issue a backlight change request
    handled by commit 0b9f7d93ca61 (ACPI / i915: ignore firmware requests
    used to ignore the backlight change request from firmware is thus
    Fixes: 0b9f7d93ca61 (ACPI / i915: ignore firmware requests for backlight change)
    firmware splits it into many wmi stats update
    by splitting it up into firmware branch specific
    WARNING: drivers/dma/imx-sdma.o(.text+0x3bb4): Section mismatch in reference from the function sdma_probe() to the function .init.text:sdma_get_firmware()
    the function __init sdma_get_firmware().
    Provide calibration data used by the firmware to user space via a debugfs file.
    diag_read() is used for reading from firmware memory via the diagnose window.
    To serialise diagnostic window access and make it safe to use while firmware is
    when using the diagnostic window while the firmware is running due to NULL
    drivers/media/platform/exynos4-is/fimc-is.c: In function fimc_is_load_firmware:
       dev_err(dev, "wrong firmware size: %d\n", fw->size);
    the firmware. So, add the correct endiannes tags to the command fields.
    until the firmware has been completely installed, especially when using
        32-bit addresses to the firmware (Matt Fleming)
    "Helps debug funky firmware issues".
      firmware_features = 0x00000001405a440b
    gotten from or passed to firmware are in the correct
    If we fail to load one of the segments of firmware fail the operation
    Failing Device information are logged when IOA firmware detected these
    illegal request such as IOA firmware doesn't support inquiry with page
    system is running OS X, and changes firmware behaviour based on the
    operating system is found then later firmware code will assume that the
    the firmware. No methods sets it. The methods that are called in the "do
    stuff" path are dummies. Unless there's some additional firmware call in
    running on top of 32-bit firmware) we know that efi_early->text_output
    with 32-bit firmware).
    firmware (SRAT table) for all levels of sched domains above the
    firmware_class: make sure fw requests contain a name
    An empty firmware request name will trigger warnings when building
    The warning was visible via the test_firmware.ko module interface:
    echo -ne "\x00" > /sys/devices/virtual/misc/test_firmware/trigger_request
    to represent in firmware client address
    Many devices run firmware and/or complex hardware, and most of that
    device/firmware state through a generalized mechanism. As devices
    The IT9303 requires firmware that can be downloaded here:
    http://trsqr.net/olli/linux/firmwares/it930x/
    The Si2168-B40 requires firmware, but the one that is used by PCTV 292e can be used.
    http://palosaari.fi/linux/v4l-dvb/firmware/Si2168/Si2168-B40/
    The Si2147-A30 tuner does not require firmware loading.
    3 firmwares are needed:
    - Montage DS3103 demod: same as PCTV 461e, Antti has it on his LinuxTV project page: http://palosaari.fi/linux/v4l-dvb/firmware/M88DS3103/
      In the pdc_stable/firmware-access driver we fix a few possible stack
    [media] media: tuner xc5000 - try to avoid firmware load in resume path
    xc5000 doesn't load firmware at attach time instead loads it
    when system is suspended before firmware is loaded, firmware
    be in the suspend firmware cache.
    xc5000 releases firmware right after loading it. Change it to
    save the firmware and release it from xc5000_release(). This
    helps avoid fecthing firmware when forced firmware load requests
    come in to change analog tv frequence and when firmware needs to
    This patch adds support for Si2147-A30 tuner. Fairly trivial, no firmware needed for this tuner. However, command 14 00 02 07 01 00 seems to be mandatory. On Si2157 and Si2158 the value 0x0100 is the default value, so this patch does not impact the existing tuners/devices. On Si2147 the default is 0x0000 and I can't get a lock with that value.
    Current firmware is only for revision D.
    The Synopsys DesignWare APB GPIO driver only supports open firmware devices.
    of channels received from firmware. Since the index of the first channel
    no different across different firmware binaries.
    This command is not used anymore and most firmware
    Some firmware revisions don't wait for beacon tx
    case future firmware revisions solve this problem
    /work/Linux/linux-2.6-aarch64/drivers/firmware/dmi_scan.c:591 dmi_matches+0x10c/0x110()
    [media] uvcvideo: Work around buggy Logitech C920 firmware
    Unfortunately it seems that the Logitech C920 has a firmware bug where
    Let the demod firmware estimate RF signal strength and return it
    strengths from firmware in 2 sec intervals when device is active.
    [media] af9033: fix firmware version logging
    AF9030 and IT9130 series has different memory location for firmware
    enabled by default, but firmware disables it automatically when
    [media] get_dvb_firmware: Update firmware of ITEtech IT9135
    IT9135 firmware update.
    [media] si2168: avoid firmware loading if it has been loaded previously
    Add a variable to keep track if firmware is loaded or not and skip parts of the
    [media] si2157: avoid firmware loading if it has been loaded previously
    Add a variable into state to keep track if firmware has been loaded or not.
    Skip firmware loading in case it is already loaded (resume from sleep).
    The issue with command 13 is that firmware loading is necessary after that.
    This is not an issue with tuners that do not require firmware, but starting
    streaming after sleep on an Si2158 takes noticeable time as firmware is
    the firmware would cause BA timeout to be reported as a BA notif
    ON and OFF, and the LED is now controlled internally by the firmware.
    configured.  Note, this could be a firmware bug on some older machines.
    Adjust printing order of adapter model name and firmware version.
    Current MegaRAID firmware and hence the driver only supported 64VDs.
        it is not possible on current firmware/driver.
    New feature and requirement to support upto 256VD, firmware/driver/apps need changes.
    older firmware and vice versa.
    When megaraid firmware encounter any crash, driver will collect the firmware raw image and
    This will be internal to driver and firmware/application are unaware of it.
    Driver should extract the information from ctrl info provided by firmware and
    figure out if firmware support crash dump feature or not.
    Current driver updates reply post host index to let firmware know that replies are processed,
    path. In such condition, firmware may crash when it tries to post reply and there is no free
    Update reply post host index to firmware once it reach to some pre-defined threshold value.
    This change will make sure that firmware will always have some buffer of reply descriptor and
    Message to the firmware.
    When firmware receives this address, it will program each of the
    own register. Thus the firmware, starting from a base address it
    Reply Queue and pass down all of the addresses to the firmware.
    Then the firmware will just take each address and program the value
    When HBAs with older firmware(i.e. without RDPQ capability) is used
    Message to the firmware.
    When firmware receives this address, it will program each of the
    own register. Thus the firmware, starting from a base address it
    Reply Queue and pass down all of the addresses to the firmware.
    Then the firmware will just take each address and program the value
    When HBAs with older firmware(i.e. without RDPQ capability) is used
    from the firmware and outputs it.
    with the firmware also accessing the registers.
    access the registers but go through the firmware for this if the
    firmware has support for DQA and thus the new command.
    imx25 is not compatible with imx35-sdma unless a custom firmware is
      Input: i8042 - also set the firmware id for MUXed ports
    The firmware notifies about interface changes through the IF event
          brcmfmac: ignore IF event if firmware indicates it
    brcmfmac: conditionally compile firmware protocol source code
    gap support added, firmware now allows driver to send Tx data while
    the data is sent to firmware. It is observed that one less packet
    of the value of the scratch registers setup by the BMC firmware.
    iwlwifi: mvm: align CSA GO NOA time event naming with the firmware
    firmware code.
    as otherwise slowly drifting quota would never update the firmware.
    In some testing configuration, the firmware restart flow is
    iwlwifi: mvm: use the firmware to get the temperature during CT kill
    of the firmware, is a complex process and is not entirely the same for
    sensors when the firmware is not running, which would add even more
    the firmware and the driver, boot the firmware briefly to read the
    iwlwifi: mvm: don't update quota in firmware too often
    When updating quota in the firmware, it has to reset quite a bit
    DB in the firmware, otherwise we leave the tfd_queue_mask in
    notifications. These notifications sent by the firmware
    of the bootloader and of the stock firmware. That way, it is
    There's not really a good way to determine whether firmware has already
    PCI_COMMAND_MEMORY is set, we can assume firmware has set the corresponding
    firmware has configured the bridge.  But we can't tell much about devices
    firmware has already configured the device, so configure everything we
    "I re-enable scheduled scan on firmware that contain the fix for
    in the firmware. Last but not least, a new device is added by Oren."
      that can happen in the lattice FPGA driver if the firmware isn't
      Lattice ECP3 FPGA: Check firmware pointer
    therefore must be provided by firmware to the OS in order to enable
    Input: i8042 - also set the firmware id for MUXed ports
    So that firmware-id matching can be used with multiplexed aux ports too.
    SCM chip set. However its firmware restricts it to only work with Jaz
    ath10k: support firmware crash-by-assert
    10.1 firmware does not have an official way to
    offer better ways to test firmware failure and
    Add testmode interface for starting and using UTF firmware which is used to run
    Expose firmware limit for the max_scan_ie_len;
    wil6210: firmware download
    firmware versions for the INIT2RTR command. Nevertheless, we've used it.
    Fix that by doing this policy change using INIT2RTR only if the firmware
    cxgb4: Allow T4/T5 firmware sizes up to 1MB
    structure. This was visible with 10.2 firmware
    early firmware crash, before registering to
    note of the thermal setup.  This is required for proper firmware
    of the bootloader and of the stock firmware. That way, it is
    of the bootloader and of the stock firmware. That way, it is
    'full_charge_capacity' to vary, both up and down.  Good battery firmwares
    This results in bogus warnings on perfectly working systems/firmwares:
    is necessary to work around some buggy firmware, then the workaround needs
    protection against being applied to working firmwares.
    Good battery firmwares will allow 'capacity_now' to increase above
     * support for new firmware version 10.2 (Michal)
     * export a firmware crash dump file (Ben & me)
    patch introduces another DT attribute for which an existing firmware
    Lattice ECP3 FPGA: Check firmware pointer
    If fw is NULL when calling firmware_load(), it results in a kernel oops.
    [ The cause of the freeze appears to be a firmware bug when reading
      multiple of 512 bytes, but I've seen some ASUS firmware simply
    the firmware to the lowest rssi figure. As rx_status->chain_signal
      s390/ipl: Add missing SCSI loadparm attributes to /sys/firmware
    catch the bug since the firmware command was not tagged as
    firmware command to prevent such issues in the future.
      ahci_xgene: Skip the PHY and clock initialization if already configured by the firmware.
    patch was sent to stable too. I also bump the firmware API versions
    since a new firmware is coming up. On top of that, Marcel fixes a
    Staging: rtl8192u: fix brace style coding issue in r819xU_firmware.c
    ahci_xgene: Skip the PHY and clock initialization if already configured by the firmware.
    initialization if it is already configured by the firmware.
    cause the stock firmware to enter recovery mode.  This can be worked
    In case of an unsupported firmware, the driver bails out without setting
    seems to confuse the firmware, so work around that.
    Move all FIFO definitions together into the firmware API
    iwlwifi: mvm: correct firmware disassoc command sequence
    The firmware would like to have a MAC context (unassoc)
    During a channel switch we should tell the firmware to disable TX
    Currently the firmware is handling this, but that is wrong as it then
    the driver; add it here so it can be removed from the firmware in the
    firmware. Prepare for this by allowing hardware configuration
    sending unnecessary MAC_PM_POWER_TABLE commands to the firmware).
    Since we can't read the actual temperature when the firmware is
    the firmware to try to enter burst mode.
    firmware utilises the TxOP better.
    /home/hans/work/build/media-git/drivers/media/pci/cx18/cx18-firmware.c:169:32: warning: cast to restricted __le32
    /home/hans/work/build/media-git/drivers/media/pci/cx18/cx18-firmware.c:170:32: warning: cast to restricted __le32
    /home/hans/work/build/media-git/drivers/media/pci/cx18/cx18-firmware.c:171:31: warning: cast to restricted __le32
    /home/hans/work/build/media-git/drivers/media/pci/cx18/cx18-firmware.c:172:31: warning: cast to restricted __le32
    The firmware for the tuner is the same as for TechnoTrend TT-TVStick CT2-4400.
    The demodulator needs a firmware that can be extracted from the Windows drivers.
    Then the firmware can be extracted:
    and display firmware reported errors.
    cxgb4: Detect and display firmware reported errors
    The adapter firmware can indicate error conditions to the host.
    If the firmware has indicated an error, print out the reason for
    the firmware error.
    s390/ipl: Add missing SCSI loadparm attributes to /sys/firmware
     - /sys/firmware/ipl/loadparm (for system that have been IPLed from SCSI)
     - /sys/firmware/reipl/fcp/loadparm
    iwlwifi: mvm: enable scheduled scan on newest firmware
    Scheduled scan was disabled because of a bug in the firmware.
    The firmware reported support for this feature, but enabling
    The bugs have been fixes in latest firmware versions, so that
    we can re-enable the feature on latest firmwares only.
    iwlwifi: bump firmware API version to 10 for 7000 and 8000
    New firmware on the way.
    qlcnic: Add support to run firmware POST
    To run POST, firmware file with name "83xx_post_fw.bin" should be present under
    /lib/firmware directory. load_fw_file module parameter is used to specify
    This was because old firmware had an incorrect MAC VLAN filter that
    needed to be replaced at startup, and now newer firmware does not have
    mwifiex: use firmware API revision from GET_HW_SPEC response
    Newer firmware returns API revision in GET_HW_SPEC command
    This bug in parsing logic is exposed by newer firmware which adds
    two TLVs in GET_HW_SPEC command response. Earlier firmwares used to
    Tests were done with 2 Atheros AR9271 based devices with firmware
    resume on models (or is it firmware versions?) where the interface does not
    BIOS or firmware can modify hardware state during suspend/resume,
    Older firmware has an incorrect MAC VLAN filter that needs to be replaced
    at startup, and now newer firmware doesn't have this problem.  With this
    psmouse serio1: elantech: assuming hardware version 3 (with firmware version 0x350f02)
    defunct) path which was setup by the firmware for the coldplugged
    drivers/media/platform/s5p-mfc/s5p_mfc_ctrl.c:119:5: warning: no previous prototype for 's5p_mfc_release_firmware' [-Wmissing-prototypes]
     int s5p_mfc_release_firmware(struct s5p_mfc_dev *dev)
     [  793.880000] ath10k: firmware crashed! (uuid n/a)
    Currently, we rely on the behaviour that the EC firmware can respond
    EC firmware.
    When reading 'bf' file on debugfs, query beam forming status from firmware.
    If firmware broken on the boot time, Sparrow card enumerates as
    interact with card, specifically don't attempt firmware download or
    Otherwise, race happens in the firmware
    prevent firmware from booting in some rare cases
    registered and firmware version is guaranteed to
    ath10k: print more driver info when firmware crashes
    Sometimes users forget to include important info like firmware version,
    ath10k: provide firmware crash info via debugfs
    Store the firmware registers and other relevant data to a firmware crash dump
    why the firmware crashed.
    Service mapping for main firmware branch was incorrectly used for 10.x firmware
      firmware: Do not use WARN_ON(!spin_is_locked())
      10) Fix endianness bugs in qlcnic firmware handling, from Rajesh
      qlcnic: Fix endianess issue in firmware load from file operation
    firmware: Do not use WARN_ON(!spin_is_locked())
    Developed a new Automatic Egress Queue Update firmware facility to slowly tick
    qlcnic: Fix endianess issue in firmware load from file operation
      ASoC: Intel: Update Baytrail ADSP firmware name
    This patch moves the BIT processor specific coda_context_ops, the firmware
    [media] coda: initialize hardware on pm runtime resume only if firmware available
    If no firmware was found and the coda module is unloaded, coda_runtime_resume
    [media] xc5000: be sure that the firmware is there before set params
    move the code that checks for the firmware to happen there.
    This way, the firmware will be loaded either for analog or
    low power may require to re-load the firmware, with takes
    staging: rtl8188eu: Cleanup firmware initialization code
    firmware initialization code to replace rtl8188eu's messy firmware
    Testing has shown that the firmware rfkill settings are persistent over
    at the firmware level the wifi needs to be explictly unblocked through the
    with a firmware blocked wifi get stuck in that situation, ignore the value
      firmware fixes.
      Input: synaptics - use firmware data for Cr-48
      Input: atmel_mxt_ts - mXT224 DMA quirk was fixed in firmware v2.0.AA
      ALSA: hda/ca0132 - Don't try loading firmware at resume when already failed
       7) Don't enable sched scan in iwlwifi driver, it causes firmware
      iwlwifi: mvm: disable scheduled scan to prevent firmware crash
    Emmanuel Grumbach fixes Linus's iwlwifi firmware-related log spam.
    iwlwifi: mvm: disable scheduled scan to prevent firmware crash
    There are firmwares which don't support scheduled scan.
    We can recover the device using a userspace firmware update tool, but it needs
    read. Also, the firmware update callback should be the entity releasing
    firmware blob, not lower layers.
    crashes (because of host/firmware). We have new OPAL API to register/
    firmware reporting unexpected scan event
    prevented firmware from properly propagating scan
    The 10.x and main firmware branches have
    A side note: The carl9170 firmware currently specifies endpoint 4 as
    no relevance because before this firmware is loaded the endpoint type
    is as described above and after the firmware is running the stick is not
    case stream is still active but paused and firmware doesn't allow allocating
    Remove sst_byt_pcm_dev_resume() and move waiting of firmware boot into
    unloading firmware modules in suspend_late and then taking DSP into reset
    sst_byt_pcm_dev_suspend_late() before firmware unloading.
    ALSA: hda/ca0132 - Don't try loading firmware at resume when already failed
    CA0132 driver tries to reload the firmware at resume.  Usually this
    works since the firmware loader core caches the firmware contents by
    itself.  However, if the driver failed to load the firmwares
    (e.g. missing files), reloading the firmware at resume goes through
     WARNING: CPU: 10 PID:11371 at drivers/base/firmware_class.c:1105 _request_firmware+0x9ab/0x9d0()
    firmware, but anyway).
    Input: synaptics - use firmware data for Cr-48
    chromebooks. Note that this device's firmware always reports the higher
    Input: atmel_mxt_ts - mXT224 DMA quirk was fixed in firmware v2.0.AA
       - new firmware format support
      firmware, this could lead to DCB app table  in kernel or in firmware being
    drivers/firmware/memmap.c: don't allocate firmware_map_entry of same memory range
    firmware_map_entrys of same memory range are allocated and memmap X
      # cat /sys/firmware/memmap/0/*
      # cat /sys/firmware/memmap/33/*
      # cat /sys/firmware/memmap/35/*
    When calling e820_reserve_resources(), firmware_map_entrys of all e820
    memory map are allocated.  And all firmware_map_entrys is added
    limited by mem=, the PNP0C80 is hot-added.  Then firmware_map_entry of
    After that, firmware_memmap_init() creates memmap sysfses of all
    firmware_map_entrys in map_entries list.  As a result, memmap 33 sysfs
    This patch checks whether there is firmware_map_entry of same memory
    range in map_entries list and don't allocate firmware_map_entry of same
    drivers/firmware/memmap.c: pass the correct argument to firmware_map_find_entry_bootmem()
    firmware_map_add_hotplug() calls firmware_map_find_entry_bootmem() to
    get free firmware_map_entry.  But end arguments is not correct.  So
    firmware_map_find_entry_bootmem() cannot not find firmware_map_entry.
    The patch passes the correct end argument to firmware_map_find_entry_bootmem().
    ASoC: Intel: Update Baytrail ADSP firmware name
    Update the initial Baytrail ADSP firmware file name with the one that is now
    in linux-firmware.git. Please see linux-firmware.git commit 7551a3a78453
    ("fw_sst_0f28: Add firmware for Intel Baytrail SST DSP").
     6) Because we have modules --> openfirmware --> vmalloc ordering of
        of flush_tlb_kernel_range() that covers the openfirmware address
        range.  Unfortunately this will flush out the firmware's locked TLB
      sparc64: Guard against flushing openfirmware mappings.
      ima: add support for measuring and appraising firmware
      firmware_class: perform new LSM checks
    - Support for new firmware format that makes it easier to update
      drm/radeon: tweak ACCEL_WORKING2 query for the new firmware for hawaii
      drm/radeon: use packet3 for nop on hawaii with new firmware
      drm/radeon: use packet2 for nop on hawaii with old firmware
    days, that isn't going to fly with UEFI since parts of the firmware
    from the firmware will cause all sorts of trouble. Bruno reports that
    by the firmware.
    were missing RX reordering altogether. The 10.1 firmware doesn't support
    support with that firmware. Also he implemented a workaround for a KVM
    The secure-host capability depends on firmware handling all QP0
    via events generated by the firmware while processing QP0 MADs.
    drm/radeon: tweak ACCEL_WORKING2 query for the new firmware for hawaii
    Adjust the previous tweak for hawaii to return 3 if the new firmware is used.
    drm/radeon: use packet3 for nop on hawaii with new firmware
    Older firmware didn't support the new nop packet.
     - drm/radeon: use packet2 for nop on hawaii with old firmware
    drm/radeon: use packet2 for nop on hawaii with old firmware
    Older firmware didn't support the new nop packet.
     - Drop usage of packet3 for new firmware
    features like hdmi audio, etc.  When the user uses the firmware
    drm/radeon: add new firmware header definitions (v3)
    updated firmware.
    v2: add new firmware helper functions as well.
    the HMI interrupt registration with firmware.
    The patch synchronizes header file with firmware to have new OPAL
    powerpc/cpufreq: Add pr_warn() on OPAL firmware failures
    Cpufreq depends on platform firmware to implement PStates.  In case of
    platform firmware failure, cpufreq should not panic host kernel with
    Add firmware_has_feature(FW_FEATURE_OPALv3) check to
    sparc64: Guard against flushing openfirmware mappings.
    This "another unrelated region" is where the firmware is mapped.
    openfirmware area entirely.
    The sparc64 kernel learns about openfirmware's dynamic mappings in
    area.  But openfirmware has some locked TLB entries which are not
    These huge lazy TLB flush ranges causes those openfirmware locked TLB
      through this tree to handle merge issues.  There's also some firmware
      firmware loader: Fix _request_firmware_load() return val for fw load abort
      test: add firmware_class loader test
      doc: fix minor typos in firmware_class README
      firmware loader: inform direct failure when udev loader is disabled
      firmware: replace ALIGN(PAGE_SIZE) by PAGE_ALIGN
      firmware: read firmware size using i_size_read()
      firmware loader: allow disabling of udev as firmware loader
      drivers/misc/ti-st: Load firmware from ti-connectivity directory.
         firmware calls, and conversion of the EFI stub code into a static
      drivers/firmware/efi/libstub/lib.a(efi-stub-helper.o): In function `efi_relocate_kernel':
    Somewhere along the way, the firmware loader sprouted another lock
    This may appear as PCI or ACPI depending upon the firmware so we
    Commit "c1b2053 brcmfmac: Make firmware path a module parameter"
    [media] xc5000: always write at dmesg when it fails to upload firmware
    firmware upload is done. So, print at the dmesg if something
    [media] xc5000: optimize firmware retry logic
    Currently, firmware retry logic keeps reading from FS every
    only release the firmware read after success.
    only matters to the user if the firmware was successfully
    [media] xc5000: Don't try forever to load the firmware
    firmware init process, the device will keep trying forever,
      Exynos has buggy firmware that puts bad data into the memory node.
    by boot firmware: all in-kernel boards should continue to work
    depending on the configuration of the firmware. Knowing which queries are
    more things to the firmware debugging infrastructure. Eran fixes a
    ath10k: add support for 10.2 firmware
    The 10.2 firmware is a successor of 10.1 firmware
    The 10.2 firmware introduces some new features but
    Different firmware may support different numbers of
    firmware.
    The function rtas_flash_firmware passes the address of a data structure,
    [media] get_dvb_firmware: Add firmware extractor for si2165
    We don't have license to redistribute this firmware, so extract
    Input: alps - cache firmware version
    The radio-miropcm20 driver has firmware that decodes the RDS signals. So in that
    During hibernation, the HBA firmware may lose power and forget the device
    Tack the firmware reply event_data payload to the end of its
    Tack the firmware reply event_data payload to the end of its
    Tack the firmware reply event_data payload to the end of its
    ima: add support for measuring and appraising firmware
    new security hook to evaluate any loaded firmware that wasn't built
    security hook, to measure and/or appraise the loaded firmware's
    firmware_class: perform new LSM checks
    This attaches LSM hooks to the existing firmware loading interfaces:
    filesystem-found firmware and demand-loaded blobs. On errors, loads
    In order to validate the contents of firmware being loaded, there must be
    a hook to evaluate any loaded firmware that wasn't built into the kernel
    firmware designed to mount an attack against kernel memory (e.g. via DMA).
    or firmware that want to do low-level access to regulators, with no
    The 10.x firmware does not support IBSS mode at
    Catherine fixes a couple of firmware API version errors.
    because the firmware was already in the middle of a reset. Also, initialize
    i40e: Fix firmware API version errors
    firmware loader: Fix _request_firmware_load() return val for fw load abort
    _request_firmware_load() returns -ENOMEM when fw load is aborted after
    drivers/misc/ti-st: Load firmware from ti-connectivity directory.
    Looks like the default location for TI firmware is inside the ti-connectivity
    directory, to be coherent with other firmware request used by TI drivers, load
    the TIInit firmware from this directory instead of /lib/firmware directly.
    It really isn't valid to ignore a tree modification provided by firmware
    particular maXTouch chip and firmware version, therefore it can't be
    firmware image, it stays in bootloader mode and reports a failure. It is
    possible to reflash a working firmware image from this state.
    Input: atmel_mxt_ts - download device config using firmware loader
    with firmware changes that move values around on the chip.
    loads the configuration via the firmware loader and sends it to the MXT
      firmware loader to return.
      firmware download).
            [   16.332247] xc2028 0-0061: Loading firmware for type=BASE F8MHZ (3), id 0000000000000000.
    64 bytes is too short for firmware load on this device. So, increase it
    [media] xc4000: add module meta-tag with the firmware names
    the firmware and generate proper initrd images.
    So, add the firmware names there.
    [media] xc4000: Update firmware name
    The firmware name at:
       http://www.kernellabs.com/firmware/xc4000/
    Cc: sfi-devel@simplefirmware.org
    firmware generates a lot of events, e.g. spectral
    When the firmware asserts, we restart the device and reset
    reconfigure the firmware properly after firmware restart.
    Add the Control Status Registers to the firmware error dump
    the firmware to be on a certain channel for a certain time.
    a MAC context in the firmware - it uses a generic context
    2) The driver sends an Aux ROC command (0x53) to the firmware.
    3) The firmware responds with the unique id of the time event.
    [media] coda: split firmware version check out of coda_hw_init
    This adds a new function coda_check_firmware that does the firmware
    The CODA960 firmware spins if there is not enough input data in the bitstream
    Latest MFC v6 firmware requires tile mode and loop filter
    with v7. This patch adds this support for new v6 firmware.
    [media] s5p-mfc: Support multiple firmware sub-versions
    For MFC firmwares, improved versions with bug fixes and
    feature additions are released keeping the firmware version
    the release of a new MFCv6 firmware with an interface change.
    This patch adds the support of accepting multiple firmware
    firmwares starting from latest. This ensures full backward
    compatibility regardless of which firmware version and kernel
    [media] s5p-mfc: Remove duplicate function s5p_mfc_reload_firmware
    The function s5p_mfc_reload_firmware is exactly same as
    s5p_mfc_load_firmware. So removing the duplicate function.
    4c2c5763 ("cxgb4/iw_cxgb4: use firmware ord/ird resource limits") of net-next
    [media] si2168: Support Si2168-A20 firmware downloading
    This adds support for the Si2168-A20 firmware download.
    Extracting the firmware:
    32e06713b33915f674bfb2c209beaea5 /lib/firmware/dvb-demod-si2168-a20-01.fw
    staging: vt6656: struct vnt_private rename wFirmwareVersion to firmware_version
    "[media] coda: update CODA7541 to firmware 1.4.50".
      [media] si2168: firmware download fix
    There's nothing ath10k can do to help firmware
    frames as already inspected to prevent firmware
    In the s5p_mfc_alloc_firmware() function there are some mistakes
    aggregation on their own (e.g. in firmware)
    This command requests the firmware to trigger a time event
    Framework in the firmware, and makes use of the Aux station
    comes to loading the right firmware version and comparing that it
    This patch fixes every instance of the firmware version handling and
     - enable common hardware blocks, secure firmware calls,
      commit I promised, a system resume fix related to request_firmware(),
       - Fix for a 3.4 regression in request_firmware() resulting in
      PM / sleep: Fix request_firmware() error at resume
    from #including shared .c files under drivers/firmware/efi to
    New register area defined in the firmware
    Firmware sets this register with the offset of the firmware trace area
    within the peripheral memory region. Critical for the firmware trace
    Use single data source for all information regarding the firmware
    boot-time. This may be used for feature reporting, firmware bug
    The Chromebook firmware doesn't enable the CCI for the boot cpu, and
    kernel rather than expecting the firmware/bootloader to do it and only in
    Use the correct compatible string for sdma and also provide the sdma firmware
    test: add firmware_class loader test
    This provides a simple interface to trigger the firmware_class loader
    doc: fix minor typos in firmware_class README
    This is a tiny clean up for typos in the firmware_class README.
      PM / sleep: Fix request_firmware() error at resume
    Neerav adds support to get the port MAC address from firmware and adds
    Change format of mqd structure to match latest KV firmware
    Change format of mqd structure to match latest KV firmware
    v5: Set default sched_policy to HWS as it is now supported by firmware
    Change format of mqd structure to match latest KV firmware
    Change format of mqd structure to match latest KV firmware
    This patch adds a new API to get the port mac address from firmware.
    This value can be used to match log entries from this log with firmware
    application.  With debug firmware, the sge timestamp is also logged by
    firmware in its flowc history so that we can compute the latency from
    posting the work request until the firmware sees it.
    cxgb4/iw_cxgb4: use firmware ord/ird resource limits
    parameters are not available, due to older firmware, then hard-code
    the values based on the known values for older firmware.
        (including being given explicitly by the firmware). Names
    brcmfmac: Make firmware path a module parameter
    This patch makes firmware path a module parameter so that firmware and
    Last megabyte of RAM is used by secure firmware and should not be accessed
    mainline kernel. This includes secure firmware calls, watchdog, g2d and
    PM / sleep: Fix request_firmware() error at resume
    and request_firmware()] introduced the finer state control, but it
    firmware loading of intel BT device at suspend/resume:
    and the clear of usermodehelper lock.  The request_firmware() function
    usermodehelper_read_trylock() returns an error and request_firmware()
    request_firmware() will be blocked until the end of this function
    Fixes: 247bc0374254 (PM / Sleep: Mitigate race between the freezer and request_firmware())
    Change format of mqd structure to work with latest KV firmware
    Bluetooth: btmrvl: avoid sending data to firmware after hs_activated
    before enabling host sleep in firmware. If any data is sent to
    firmware after host sleep is activated, firmware may end up
    [media] si2157: rework firmware download logic a little bit
    Rework firmware selection / chip detection logic a little bit.
    Add missing release_firmware() to error path.
    [media] si2168: few firmware download changes
    Rework firmware selection logic a little bit.
    Print notice asking user update firmware when old Si2168 B40
    firmware is used.
    [media] si2157: advertise Si2158 A20 firmware
    Driver uses that firmware. Add it module firmware list.
    [media] si2168: advertise Si2168 A30 firmware
    Driver uses that new firmware too, so advertise it.
    Tell used TV standard and bandwidth for tuner firmware.
    Add handling for different chip revisions and firmwares.
    key/value pairs to firmware and it returns 4 bytes back including
    We want also read data from firmware. Add support for it. Copied from
    If firmware probing worker failed it called
    some fixes in firmware initialisation which applies to ar6004 hw1.3 as well.
    Some of the firmware versions support rate tables up to mcs15, add support for
    ath6kl: convert ar6004 hardware flags to firmware feature flags
    The functionality defined through these flags were actually firmware features
    which can change between firmware versions. To make it possible to support
    different firmware versions with the same driver, convert the flags to firmware
    For backwards compatibility support for old ar6004 firmware FW
    Starting from FW API 5 the firmware image needs to set them.
    WWAN devices often have their LL address provided by the firmware of the
    or read a meaningless MAC address from the firmware.  Thus the EUI64 and
    address is often retrieved from the firmware with AT or proprietary
    the one retrieved from the firmware is less complicated and more robust.
    Knowing how long we spend in firmware calls is an important part of
      firmware: Create directories for external firmware
       - ACPI-related i915 fix preventing firmware on some Thinkpad laptops
      ACPI / i915: ignore firmware requests for backlight change
    keeps making trouble to the firmware and is not a really reliable
    firmware assertion."
      ACPI / i915: ignore firmware requests for backlight change
    string.  Checking with our firmware team, all systems should have this
    some specific initializations related to the firmware downloading and
    firmware: Create directories for external firmware
    Commit 5180d5f4 ("firmware: Simplify directory creation") broke
    including firmware specified in CONFIG_EXTRA_FIRMWARE:
      MK_FW   firmware/amd-ucode/microcode_amd.bin.gen.S
    /bin/sh: firmware/amd-ucode/microcode_amd.bin.gen.S: No such file or directory
    firmware/Makefile:185: recipe for target
    'firmware/amd-ucode/microcode_amd.bin.gen.S' failed
    Makefile.build. Create the directory in firmware/Makefile in non-O
    firmware loader: inform direct failure when udev loader is disabled
    Now that the udev firmware loader is optional request_firmware()
    direct firmware loading failed and udev firmware loading is disabled.
    If no information is needed request_firmware_direct() should be used
    for optional firmware, at which point drivers can take on the onus
    over informing of any failures, if udev firmware loading is disabled
    With this change with a simple firmware load test module [0]:
    platform fake-dev.0: Direct firmware load for fake.bin failed
    platform fake-dev.0: Direct firmware load for fake.bin failed with error -2
    firmware: replace ALIGN(PAGE_SIZE) by PAGE_ALIGN
    firmware: read firmware size using i_size_read()
    firmware loader: allow disabling of udev as firmware loader
    which means that distros can't really stop loading firmware through
    Ideally we would remove/disable the udev firmware helper in both the
    be around to cancel firmware requests.
    This patch allows udev firmware loading to be disabled while still
    allowing non-udev firmware loading, as done by the dell-rbu driver, to
    and udev without the firmware loading support, but I don't have the
    I continue to work on the firmware error report system adding more
    A copy paste issue broke the rate control when a firmware
    ACPI / i915: ignore firmware requests for backlight change
    Some Thinkpad laptops' firmware will initiate a backlight level change
    since we are not using firmware's interface to do the backlight setting
    on these affected laptops, we do not want the firmware to use some
    and under drivers/firmware/efi to <asm/efi.h>. This is in preparation of
    turning the stub code under drivers/firmware/efi into a static library.
    and under drivers/firmware/efi to <asm/efi.h>. This is in preparation of
    turning the stub code under drivers/firmware/efi into a static library.
    mode function call wrappers, move them to drivers/firmware/efi/runtime-wrappers.c.
    the firmware, and furthermore - it interferes with the DBGC
    includes telling the firmware that we are not associated, removing
    The firmware currently deals with zero quota for a given
    iwlwifi: mvm: don't send zero quota to the firmware
    with the old firmware API.
    Tell the firmware if TTC should be enabled when switching
    If a firmware with the new API is detected, we currently
    that the functionalities of the platform firmware are seriously affected.
    These flags are not used by the firmware anyway.
    iwlwifi: mvm: update layout of firmware error dump
    here, but the full DMAR table is already exposed under /sys/firmware/
    A vendor specific command is sent to firmware during
    is much harder for the firmware which is likely to have
    - Collect a firmware dump on first Tx timeout if netif_msg_tx_err() is set
    - Collect a firmware dump on first Tx timeout if netif_msg_tx_err() is set
    "I have here a fix from Eliad for scheduled scan: it fixes a firmware
    newer firmwares support the feature. Here too, the visible effect
    is a firmware assertion. Along with that, we have a few fixes and
    Passthrough. Adds support to use firmware interface to get BAR0 value.
    Use the firmware interface to get the BAR0 value since we really don't want
    firmware.
    well as core 40 that I missed in the earlier firmware patch.
    In some circumstances, the firmware could beat us to the punch, and the
    instead of just returning -EIO by propagating firmware errors back to the
    and the VF module is autoloaded by simply resending firmware request if
    firmware needs to be loaded first.
    Sometimes the firmware will not indicate an error but fail to pass a
    communicates with the firmware and thus the PF driver), there are many
    firmware, there may be unresponsive firmware, there may be an error from
    crypto: qat - Fix error path crash when no firmware is present
    Firmware loader crashes when no firmware file is present.
    by all its callers.  Adds a log warning when the firmware's API minor/major
    p54: use request_firmware_direct() for optional EEPROM override
    The p54 driver uses request_firmware() twice, once for actual
    firmware and then another time for an optional user overide on
    @ firmware_not_critical @
    -       ret = request_firmware(&cf, config_file, dev);
    +       ret = request_firmware_direct(&cf, config_file, dev);
                    release_firmware(cf);
    b43: update list and code making a selection of firmware files
    Clean ucode selection, fix choice of firmware for LCN, drop some goto-s,
    brcmfmac: reduce log level in fwil if firmware returns error
    the firmware on the device returns an error. Some errors can be
    mpc setting and then let firmware take care of it.
    can with specific firmware result in a composite USB device. This
    driver and firmware using customized parameters.
    mwifiex: add firmware dump feature for SDIO
    1) Trigger firmware dump operation:
    mwifiex: add firmware dump feature for PCIe
    1) Trigger firmware dump operation:
        - don't rely on firmware's secondary_cpu_start for mcpm
      ARM: EXYNOS: Don't rely on firmware's secondary_cpu_start for mcpm
           brcmfmac: use asynchronous firmware request in USB
    adding driver's txpd header. This results in firmware parsing
    garbage data as packet length. Sometimes firmware is unable
    required by some drivers (eg. iwlmvm with newer firmware version).
    i40e: warn on newer/older firmware API rev
    If the firmware's API minor number is larger than the one expected, log
    If the firmware's API major or minor number is smaller then the one expected
    antenna. This logic is done in the firmware when we use the
    When the firmware enables TxTxCorunning, we can lift the
    iwlwifi: pcie: add firmware monitor capabilities
    This allows to use the firmware monitor. This capability
    iwlwifi: add device / firmware to fw-error-dump file
    Also add the human readable version of the firmware.
    entries to firmware pipeline id conversion
    - don't rely on firmware's secondary_cpu_start for mcpm
      ARM: EXYNOS: Don't rely on firmware's secondary_cpu_start for mcpm
    enough" number.  It is an unknown property of the modem firmware.
    Cc: sfi-devel@simplefirmware.org
    Cc: sfi-devel@simplefirmware.org
    Cc: sfi-devel@simplefirmware.org
      staging: rtl8723au: Reference correct firmwarefiles with MODULE_FIRMWARE()
      staging: rtl8723au: Request correct firmware file for A-cut parts
    ASoC: Intel: Show Baytrail SST DSP firmware details during init
    carrying firmware details in mailbox. Read and show those details during
    ARM: EXYNOS: Don't rely on firmware's secondary_cpu_start for mcpm
    On exynos mcpm systems the firmware is hardcoded to jump to an address
    firmware puts a bunch of code at that location.  That code expects the
    Originally (on prerelease hardware) this firmware code contained a
    Don't update the firmware/Makefile yet since there is no FW binary in
    v3 - removed change to ./firmware/Makefile
    This patch adds acceleration engine handler part the firmware loader.
    This patch adds microcode part of the firmware loader.
    driver and the firmware.
     "This looks bigger than it is, as one of the nouveau firmware fixes
      regenerates a bunch of the firmware files after changing the assembly
    The net device only exists when firmware is loaded successfully.
    staging: rtl8712: Fix oops on dongle removal if firmware is not available
    When firmware is not available, net device is not created. Upon
    staging: vt6656: rename FIRMWAREbCheckVersion to vnt_check_firmware_version
    staging: vt6656: rename FIRMWAREbBrach2Sram to vnt_firmware_branch_to_sram
    staging: vt6656: rename FIRMWAREbDownload to vnt_download_firmware
    staging: vt6656: firmware.c replace DBG_PRT debug messages
    staging: dgap: move unrelated functions in dgap_firmware_load()
    The dgap_firmware_load() has a lot of stuff which are
    unrelated with loading firmware.
    The dgap_config_buf is only used in dgap_firmware_load().
    dgap_firmware_load().
    firmware presumably).
    Thunderbolt hotplug is supposed to be handled by the firmware. But Apple
    It seems that there's a bug at au0828 hardware/firmware
    [media] si2168: firmware download fix
    First 8 bytes belonging to firmware image were hard-coded and uploaded
    by the driver mistakenly. Introduce new corrected firmware file and
    New firmware image could be extracted from the PCTV 292e driver CD
    $ sudo cp dvb-demod-si2168-02.fw /lib/firmware/
    drivers/firmware/efi/fdt.c|66 col 22| warning: unused variable name [-Wunused-variable]
    drivers/firmware/efi/efi.c|368 col 3| warning: passing argument 3 of of_get_flat_dt_prop from incompatible pointer type [enabled by default]
    drivers/firmware/efi/efi.c|368 col 8| warning: assignment discards const qualifier from pointer target type [enabled by default]
    In the case where platform firmware has specified conflicting values for
    firmware has done something wrong and globally disable port poweroff.
    staging: rtl8723au: Reference correct firmwarefiles with MODULE_FIRMWARE()
    Add missing firmware references, and request the correct one.
    staging: rtl8723au: Request correct firmware file for A-cut parts
    in /lib/firmware/
    staging: rtl8723au: Reference correct firmwarefiles with MODULE_FIRMWARE()
    Add missing firmware references, and request the correct one.
    staging: rtl8723au: Request correct firmware file for A-cut parts
    in /lib/firmware/
    b43: fix frequency reported on G-PHY with /new/ firmware
    Support for firmware rev 508+ was added years ago, but we never noticed
    rt2800usb:fix hang during firmware load
    not actually require loading a firmware file. The vendors driver finds out
    about this by checking a firmware state register, so this patch adds this here.
    lacking a check for the firmware mode present in the vendors driver,
    tools. I suspect that dib7000p firmware or hardware
    This is bigger because it regenerates the internal firmwares after a fix.
      firmware: Use $(quote) in the Makefile
      firmware: Simplify directory creation
    This indicates to the firmware that it can power down various other
    This series contains an enhancement in the area of firmware minidump collection
    Shannon updates the admin queue API for the new firmware, which adds
    firmware can indicate any admin queue error states to the driver via
    if the firmware reports DCB capability the driver enables
    Remove the filter created by the firmware with the default MAC address it
    Currently if the firmware reports DCB capability the driver enables
    the firmware reports to us is a guaranteed minimum, not an absolute
      LE mode without a hypervisor (ie. under OPAL firmware) by doing the
      drm/nouveau/graph: pad firmware code at load time
    drm/nouveau/graph: pad firmware code at load time
    Pad the microcode to a multiple of 0x40 words, otherwise firmware will
    fail to run from non-prepadded firmware files.
    enabled at all on chips that rely exclusively on external firmware, even
    where an external firmware has also been loaded.
    Also switch to external firmware if the graph class has no microcode
    The number of VSIs that the firmware reports to us is a guaranteed
    guaranteed by the firmware, with the knowledge that we may fail to get
    firmware, so writing to gain seems to overflow into the offset register.
    the box for both 32-bit and 64-bit firmware, commit 7d453eee36ae
    left unhooked in a failed reset recovery, e.g. when firmware is broken.
    If a reset recovery failed (e.g. firmware is broken), the HMC space won't
    While scanning the firmware performs RF sweep and we cannot track
    fire on resume since (except for hilarious firmware) all pipes are off
    param before making OPAL call. So firmware image validation fails.
    struct OpalMemoryErrorData is passed to us from firmware, so we
    non-virtualized using the appropriate OPAL firmware calls.
    call to the OPAL firmware which may result in just switching HID0:HILE
    been brought out of firmware.
    firmware revision when reporting the Inquiry Product Revision. These
    turnaround time such as EC firmware reads and writes.
    mfd: Add sysfs attributes for Kontron PLD firmware revision
    applications to retrieve firmware information.
    Queued trim only works for some users with MU05 firmware.  Revert to
    blacklisting all firmware versions.
    for reports of trouble with MU05 firmware.
      USB: io_ti: fix firmware download on big-endian machines (part 2)
      ARM: dts: add secure firmware support for exynos5420-arndale-octa
    TARGET_10X_NUM_VDEVS with 10.x firmware to make it possible to create
    with firmware loading when the driver is linked to the kernel.
    hpsa: fix event filtering to prevent excessive rescans with old firmware
    do not require rescans to be initiated.  Current firmware filters out
    these events already, but some out of date firmware doesn't, so the
    of date firmware you may see the driver spending a lot of time
    After 3.22 firmware, PMC firmware guys tell us the
      : add secure firmware support
      ARM: dts: add secure firmware support for exynos5420-arndale-octa
    Lastly fixes a Tx hang and firmware crash that happens after setting the MTU
    Shannon adds the clear_pxe AdminQ API call to tell the firmware that the
    driver is taking over from PXE.  In addition, relaxes the firmware API
    hardware/firmware problems and he also fixed two memory leaks."
    modifying the firmware copy of a port GID table becomes an
    ARM: dts: add secure firmware support for exynos5420-arndale-octa
    firmware binary. Added DTS node entry to enable this support.
    If it is, it points to the problem in firmware.
    firmware-initialised device with static windows or an emulation by
    firmware to program these PCIe settings for the OS.
    ACPI Battery device receives notifications from firmware frequently,
    firmware to work around this.  Provide a hook for them to intercept
    mwifiex: change hscfg gap parameter to avoid potential firmware deadlock
    If host sleep parameter gap is set to 0xff, firmware will wait
    This prevents firmware from uploading data packet before host
    if firmware error occurs but was not reported. Firmware should report
    Perform firmware recovery procedure.
    In case there is something fundamentally wrong with the firmware
    brcmfmac: remove firmware list from USB driver
    The USB driver was using a list for firmware info that was
    the asynchronous firmware request this is no longer needed.
    driver did not use the result at all and with newer firmware it is
    The firmware channel specification is a bitfield using a
    brcmfmac: use asynchronous firmware request in USB
    This patch adds use of asynchronous firmware request to
    brcmfmac: use asynchronous firmware request in SDIO
    This patch adds use of asynchronous firmware request to
    brcmfmac: introduce asynchronous firmware loading
    The driver needs firmware to be loaded to the device, which
    is done through the firmware class API. The synchronous call
    request_firmware() need root filesystem to be mounted and/or
    it is called. Instead use request_firmware_nowait().
    brcmfmac: rename nvram.[ch] for upcoming firmware handling functions
    The firmware processing will be modified to use asynchronous request
    firmware api. In preparation this patch is simple rename of source
    not be handled by the firmware so we return -EINVAL. However, as
    i40e: relax the firmware API version check
    firmware will also describe its peer port.  This allows the
    There is always the possibility that firmware mis-identifies the ports,
    firmware.  For now, simply perform the nominal association.
    This also changes behavior in the case where the firmware says that the
    USB: io_ti: fix firmware download on big-endian machines (part 2)
    A recent patch that purported to fix firmware download on big-endian
    firmware is actually being downloaded (and not just verified and left
    untouched unless older than the firmware at hand).
    during firmware download also on big-endian machines.
    data and hooks, as the first step we add firmware
    read by the firmware
    and one for openfirmware devicetree based initialization. The devicetree
    transfer on CE rings which can lead firmware to
    transfer failure in mid-way and crash firmware
    It seems ath10k firmware gives us no way to know
    Some firmware drivers, ie acpi-video want to get themselves out of the
    specific) firmware backlight controls, not by native / raw backlight controls
    Userspace will normally prefer firmware interfaces over raw interfaces, so
    2) Making acpi_video_backlight_support() return true so that other firmware
    In post commit, a quirk of this firmware about transactions is reported.
    ALSA: bebob: Send a cue to load firmware for M-Audio Firewire series
    Just powering on, these devices below wait to download firmware.
    But firmware version 5058 or later, flash memory in the device stores the
    firmware. So this driver can enable these devices by sending a certain cue to
    load the firmware.
    The firmwares for M-Audio Firewire 410/1814 and ProjectMix I/O has a quirk to
    with DM1000 but its firmware is special. They are:
    They have heavily customized firmware. The usual operations can't be applied to
    M-Audio special firmware quirks:
     - Just after powering on, they wait to download firmware. This state is
       recognized as a different model with the uploaded firmware.
    This module don't support to upload firmware.
    with DM1000/DM1000E with usual firmware. They are:
    M-Audio usual firmware quirks:
     - Just after powering on, 'Firewire 410' waits to download firmware. This
       device is recognized as a different model with the uploaded firmware.
     - 'Firewire Audiophile' also waits to download firmware but its
       vendor id/model id is the same as the one after loading firmware.
    firmware.
     - firmware information
    Normal BeBoB firmware has a quirk. When receiving bus reset, it transmits
     - firmware information
    Fireworks firmware version 5.5 reports fix interval for dbc in each packet.
    One of Fireworks firmware, named  as 'AudioFire9', seems to transmit
    for AudioFire12/8(till 2009 July) with firmware version 1.0. Already in
    previous commit, this driver don't support such old firmwares. So this commit
    firmware version 5.0 or later. This is also confirmed by FFADO. So this driver
     - Flash Memory to store firmwares
    each firmware API variant) waiting for firmware
    repair misbehaving monitor firmware.
    staging: rtl8723au: rtl8732au_hal_init.c: Use rtl8723au_BT_coexist() to pick firmware image
    Staging: rtl8192u: r819xU_firmware_img.c Fixed checkpatch.pl ERRORs
    firmware version v8 for MFC
    file for new firmware version v8 for MFC.
    firmware too. So moving the definition from v7 regs to v6.
    new v6 firmware. This updation is increasing the size and so
    is backward compatible with older v6 firmwares.
    the consumed stream size returned by the firmware and, based on that,
    - v7 firmware will always return consumed stream size equal to whatever
    buffer), which means we will never try to resubmit, because the firmware
    - v6 firmware will return the number of consumed bytes, but will not
    the latest v7 firmware. As the new macro increases the
    firmware too.
    This used to work for firmwares version <= 6, because in addition to the above,
    previously decoded buffers (firmware reports the same destination buffer address
    is returned in it. This also works on <= v6 firmware, which behaves in the same
    [media] v4l: ti-vpe: register video device only when firmware is loaded
    vpe fops(vpe_open in particular) should be called only when VPDMA firmware
    a vpdma helper to initialize VPDMA and load firmware. This function is
    non-blocking(it calls request_firmware_nowait()), and doesn't ensure that the
    firmware is actually loaded when it returns.
    The ready field in vpdma_data is no longer needed since we always have firmware
    [media] ivtv: Fix Oops when no firmware is loaded
    When ivtv PCM device is accessed at the state where no firmware is
    This patch adds the check of firmware at PCM open callback like other
    In order to deal with an firmware bug on a specific ppc32 platform
    carl9170_usb_probe() does not handle request_firmware_nowait() failure
    to default state irrespective of what firmware did with it.
    The firmware / low level driver can parse the channel in
      The other one is a change to our PCIe reset hook to use a firmware
      powerpc/powernv: Reset root port in firmware
    MAC_CONTEXT_CMD command we send to the firmware.  Instead of having to
      ASoC: Intel: Fix Baytrail SST DSP firmware loading
    powerpc/powernv: Reset root port in firmware
    this using/creating appropriate firmware interfaces.
    qla4xxx_start_firmware().
    added with latest firmware minidump template
    qla4xxx: Change default capture to firmware defined capture mask
    qla4xxx: Do not wait for IO completion, after issuing stop_firmware
    iSCSI stop_firmware mailbox command is not completing outstanding IO.
    Do not wait for IO completion after issuing stop_firmware mailbox
       firmware responsiveness. To improve the responsiveness, default IO throttle
    current code prematurely free qla_tgt_cmd while firmware
    still has the command.  When firmware release the command
    The driver will look for firmware attribute that support
    qla2xxx: Don't check for firmware hung during the reset context for ISP82XX.
    qla2xxx: ISP27xx firmware dump template spec updates (including T274).
    qla2xxx: Adjust adapter reset routine to the changes in firmware specification for ISPFx00.
    qla2xxx: Avoid escalating the SCSI error handler if the command is not found in firmware.
    If the firmware cannot find the command specified then return SUCCESS to the
    qla2xxx: Support of new firmware dump opcodes QLA8044_RDDFE(38), QLA8044_RDMDIO(39),QLA8044_POLLWR(40).
    qla2xxx: Allow the next firmware dump if the previous dump capture fails for ISP8044.
    qla2xxx: Issue abort command for outstanding commands during cleanup when only firmware is alive.
    Input: atmel_mxt_ts - add check for incorrect firmware file format
    Atmel supplies firmware files in ASCII HEX format (.enc) which must be
    firmware may contain hundreds of frames).
    Also add CHG poll after last firmware frame - some bootloader versions will
    This improves firmware update time as we no longer wait longer than
    Input: atmel_mxt_ts - select FW_LOADER for firmware code
    the firmware file is in
    backup firmware properly.
    Staging: unisys: detect s-Par firmware
    This patch adds support for detection of s-Par firmware by checking for
    s-Par firmware is present.
    scan offload while associated, the firmware seems not to like it. I
    to reset things as part of recovering from parse failures in firmware
    its own sibling so there should be no risk of confusion with firmware
    staging: rtl8723au: Remove a pile of unused firmware image file names
    The firmware needs to know on what channel we run before we
    Also re-enable U-APSD for -9 firmware since the firmare issues were
    firmware, so bring the TLV flag back to detect those.
    firmware: Use $(quote) in the Makefile
    firmware: Simplify directory creation
    When building the firmware blobs, use a simple loop to create
    When installing the firmware blobs, call mkdir like in Makefile.modinst.
    Apparently firmware can sometimes report a
    firmware. Add a transport API for this.
    The channel values used by firmware is handled using conversion functions
    The DISASSOC command needs to be sent to firmware when a connection
    loss is detected by firmware (e.g., beacon timeout). Otherwise the
    firmware. This patch resolves the issue by using brcmf_link_down()
    The driver serializes the nvram firmware file before sending it
    brcmfmac: Report the support of firmware roaming
    Currently firmware roaming support is not reported to cfg80211.
    This patch reports the support of firmware based roaming when
    'join_pref' to induce firmware to preferably select 5GHz BSS.
    orinoco_usb: Fix broken firmware load error checking
    The check of ezusb_firmware_download() return value (added by commit
    ezusb_firmware_download() returns 1 on success.
    but the firmware may send the sync timeout event at any time,
    ASoC: Intel: Fix Baytrail SST DSP firmware loading
    baytrail-pcm-audio baytrail-pcm-audio: error: failed to load firmware
    A firmware bug is present on the XPS Haswell edition which silently
    firmware loading it can be removed from here.
    an atomic rename, in a firmware upgrade scenario, while keeping the volume
    Reading the partial HID Descriptor is causing a firmware lockup in some
    Since there is no support for compressed audio in Baytrail ADSP firmware
    unloading firmware modules and putting DSP into reset prior suspend and
    We have to save the physical address of extended firmware block in the
    beginning of mailbox every time when we boot the DSP firmware since that
    mailbox address is re-used after DSP firmware is running. Otherwise DSP
    firmware will get bogus extended firmware block address during next DSP
    implemented. Prepare for that by moving extended firmware address saving
    safeguard against concurrent timestamp structure access between DSP firmware
          brcmfmac: fallback to mimo_bw_cap for older firmwares
    This resulted in disabling 20MHz operation in the firmware.
    cxgb4: Decode the firmware port and module type a bit more for ethtool
    powerpc/powernv: Reset root port in firmware
    ports and we should have resetting root port done in firmware instead
    is not defined by firmware.
    the firmware has skipped some initialization in that case.
     - Support to collect RDMEM section of firmware dump using
    qlcnic: Collect firmware dump using DMA on 82xx adapters
    o Add support to collect RDMEM section of firmware dump
    After hardware reset, some BCM Bluetooth adapters obtain their initial firmware
    from OTPROM chip. Once this initial firmware is running, the firmware can be
    If the .hcd file is not found in /lib/firmware, BCM Bluetooth adapter continues
    to operate with the initial firmware. Sample kernel log:
      hotplug: sys=firmware act=add fw=brcm/BCM20702A0-0a5c-22be.hcd dev=...
    it starts using the new firmware. Sample kernel log:
      hotplug: sys=firmware act=add fw=brcm/BCM20702A0-0a5c-22be.hcd dev=...
      Bluetooth: hci0: BCM: firmware hci_ver=06 hci_rev=1389 lmp_ver=06 lmp_subver=220e
    ASoC: Intel: Add support to unload/reload firmware modules.
    Add some SST API calls to unload and reload firmware modules. This can be used
    iwlwifi: mvm/pcie: capture last commands on firmware error
    When a firmware error occurs, capture the last 32 commands
    Also add golden registers, update firmware loading functions.
    The firmware correctly switches to THUMB before entry.
    * fix memory allocation failures after a firmware crash (Michal)
    * add a new firmware crash option to make it possible to crash 10.1
      firmware for testing purposes (Marek P)
    * fix firmware stats reporting (Chun, Ben & Bartosz)"
    Hans de Goede fixes a brcmfmac firmware load hang.
    The cd pin settings have been taken from the original firmware fex files,
    The cd pin settings have been taken from the original firmware fex files,
    the ones of the tested boards according to the original firmware fex files.
    Communicate hbm version 1.1 to firmware to tell that we
    Exit power gating request might also be initiated by the firmware
    drivers/firmware/pcdp.c
    usbif0: serial/firmware loader?
      and common-io-layer fix for old firmware levels"
    The TEAC UD-H01 firmware sends wrong feedback frequency values, thus
    unless they are spaces. For devices that use these words in the firmware
    Image so that it appears as an EFI application to UEFI firmware.
    the kernel to access various EFI runtime services provided by EFI firmware.
    firmware standard specifies that the firmware be little endian. A future
    little endian firmware.
    At boot time, before switching to a virtual UEFI memory map, firmware
       drivers/firmware/efi/fdt.c
    rsi: Changing opcode for sta mode according to changes in firmware
      secondary processors having reached back into firmware in time.
    can be passed down through the firmware to low-level NC-SI functions.
    error caused the failure to get the DCB configuration from firmware.
    down through the firmware to low-level NC-SI functions. We tell
    the firmware about the length of the ASCII string not counting
    powerpc/powernv: Return secondary CPUs to firmware before FW update
    This patch returns all secondary CPUs to firmware before starting
    firmware update process.
    firmware.
    by the firmware.
    of root port to underly firmware. For that, one more weak function
    platforms are running on top of different firmware and some of the
    delays have been covered by underly firmware (PowerNV).
    powerpc/powernv: Reset root port in firmware
    ports and we should have resetting root port done in firmware instead
    With this patch I was able to update firmware on an LE kernel.
    usbif0: serial/firmware loader?
      USB: io_ti: fix firmware download on big-endian machines
    Staging: rtl8192e: Remove built-in firmware images
    The driver can already use request_firmware() to load firmware, and
    always does so.  There is code in init_firmware() to use the static
    firmware images, but it's unreachable!  Remove the data and simplify
    init_firmware() accordingly.
    USB: io_ti: fix firmware download on big-endian machines
    During firmware download the device expects memory addresses in
    This fixes brcmfmac hanging in firmware loading on my board.
    Revert "mwifiex: add firmware dump feature for PCIe"
    On some Kvaser hardware, the firmware returns extra messages after the
    * Reset firmware API lock which might be in inconsistent state.
    qlcnic: Reset firmware API lock at driver load time
    Some firmware versions fails to reset the lock during
    initialization. Force reset firmware API lock during driver
    ath10k: fix firmware recovery with ap interface
    phase of recovery. This in turn caused firmware to
    This speeds up firmware recovery significantly.
     "The main change is that we now publish "firmware ID" for the serio
      dealing with: i8042 will export PS/2 port's PNP IDs as firmware IDs.
      Input: i8042 - add firmware_id support
      Input: serio - add firmware_id sysfs attribute
    fails to detect their firmware version number. This prevents more advanced
    Catherine removes a firmware workaround that is no longer needed with
    the latest firmware for i40e.  She also provides some minor cleanups
    recent changes in the firmware.  Also rearranges the "if netdev" logic
    mwifiex: add firmware dump feature for PCIe
    This option be useful to dump firmware memory for debugging
    purpose. Actual code to dump firmware momory for SDIO and PCIe
    When command timeout occurs due to a firmware/hardware bug,
    firmware.
    Reshuffle prints to consolidate firmware/hardware information
    Reflect recent changes in firmware:
    still can see it installed into /sys/firmware/acpi/tables on Linux boxes.
    Input: i8042 - add firmware_id support
    Fill in the new serio firmware_id sysfs attribute for pnp instantiated
    Input: serio - add firmware_id sysfs attribute
    serio devices exposed via platform firmware interfaces such as ACPI may
    We don't associate the serio devices with the firmware device (we don't
    firmware interface as that would break suspend / resume ordering.
    Therefore this patch adds a new firmware_id sysfs attribute so that
    information the firmware interface may provide.
    "I have new device IDs and a new firmware API. These are the trivial
    Amitkumar Karwar fixes a couple of problems relating to driver/firmware
    when using new firmware.
    in PLT mode in order to work around a firmware bug.
    as runtime EFI firmware may potentially use the FPU.
    as runtime EFI firmware may potentially use the FPU.
    one assembly function to make firmware calls.
    v2: print out mc firmware version used and size
    v2: print out mc firmware version used and size
    is unsupported on some firmware levels. Retry SEI with that mask set
      cxgb4: use the correct max size for firmware flash
    cxgb4: use the correct max size for firmware flash
    Sometimes when command timeout occurs due to a firmware or
    queue. These commands are never downloaded to firmware causing
    is the RGB chip number (as seen by the firmware).
    On Hyper-V, when our legacy firmware presented to the guests, emulates
    the legacy PIC while when our EFI based firmware is presented we do
    not emulate the PIC. To support Hyper-V EFI firmware, we had to set
    calibration in the early boot code. While, on the EFI firmware, we
    Hyper-V EFI firmware.
    Fixes: 028e724 ("wl18xx: move to new firmware (wl18xx-fw-3.bin)")
    Sometimes the firmware sends a dummy packet event while we are in PLT
    mode.  This doesn't make sense, it's a firmware bug.  Fix this by
    values for 82xx adapters. In case of 83xx adapters, use minimum of firmware
    iwlwifi: 7000: bump firmware API version to 9
    Also warn if an older firmware is loaded.
    Calling iwl_send_bt_init_conf for INIT firmware is not a
    All the supported firmwares have this flag set.
    All the supported firmwares have this flag set.
    All the supported firmwares have this flag set.
    All the supported firmwares have this flag set.
    All the supported firmwares have this flag set.
    All the supported firmwares have this flag set.
    All the supported firmwares have this flag set.
    All the supported firmwares have this flag set.
    All the supported firmwares have this flag set.
    All the supported firmwares have this flag set.
    The firmware doesn't handle properly the fragmented scan.
    usec to TUs as expected by firmware API.
    iwlwifi: mvm: deprecate -7 firmware
    This firmware is not supported any more.
    A few code paths specific to old firmware can be removed.
    we won't load firmware that didn't support the corresponding
    The firmware doesn't support broadcast filtering on P2P
    client. Trying to enable it makes the firmware assert.
    iwlwifi: mvm: dump Rx FIFO when the firmware asserts
    iwlwifi: mvm: propagate the beamforming status from firmware
    The firmware tells us if an Rx packet was beamformed or not.
    This define is related to the firmware packaging and is
    This will allow to load the new firmware.
    I forgot to send the new Look Up Table to the firmware and
       firmware was reading random values from the stack because we were
    the proper firmware API for that.
    Because the firmware treats the object as 64-bits regardless it was
      So you'll find here the conversion of the two new firmware sysfs
      change to "kick" the HVC thread when the firmware tells us there is
    Rate controller in firmware may also return the Tx Rate
    populated with various runtime messages produced by the firmware.
    Provide a sysfs interface /sys/firmware/opal/msglog for userspace to
    PState table is obtained from OPAL v3 firmware through device
    The firmware can notify us when new input data is available, so
    Today I investigated the issue and found that the firmware simply does
    double events on non-broken firmware, this is only done if
       MAC only if the firmware supports it (TLV flag is set).
       should be enabled only if the firmware supports this
       (based on the firmware capabilities).
      ERROR: "__vmyield" [sound/sound_firmware.ko] undefined!
      Input: edt-ft5x06 - add support for M09 firmware version
    Fixes: fd335ab04b3f ('Input: edt-ft5x06 - add support for M09 firmware version')
      We have new functionality when running under the OPAL firmware
      (non-virtualized or KVM host), such as access to the firmware error
    with firmware MU05. Update the blacklist so we only disable queued trim
    for older firmware releases.
    firmware is in the pipeline but not ready yet. Until then, blacklist
      firmware: use power efficient workqueue for unloading and aborting fw load
      firmware: give a protection when map page failed
      firmware: google memconsole driver fixes
      firmware: fix google/gsmi duplicate efivars_sysfs_init()
        booted from 32-bit firmware.  This needs a bootloader that supports
      x86/efi: Re-disable interrupts after calling firmware services
    sleep activation fails due to a missing interrupt from firmware.
    CPU cache features, UEFI-like firmware interface (LEFI), HT-linked PCI,
    configuration issue. So, latest firmware has enable the DMA support as
    DMA32 limit), and also to be compatible with old firmware, we keep use
    With LEFI firmware interface, We don't need fixup for PCI irq routing
    MIPS: Loongson: Add UEFI-like firmware interface (LEFI) support
    The new UEFI-like firmware interface (LEFI, i.e. Loongson Unified
    port is programmed to the firmware using a new command we introduce
    CONFIG_DEV firmware command.
    Introduce the CONFIG_DEV firmware command which we will use to
    configure the UDP port assumed by the firmware for the VXLAN offloads.
    When a VF issues a firmware command which is disallowed for them, the PF
    Shannon fixes i40e to verify the eeprom checksum and firmware CRC status
    Input: edt-ft5x06 - add support for M09 firmware version
    There is a new firmware version for the EDT-FT5x06 chip.
    Add support for detecting the firmware version and handle the
    We can not use SMBus to get the actual range because I suspect the firmware
    ath10k: add extra pdev stats on 10.1 firmware
    for 10.1 firmware.
    Tested with firmware 10x firmware.
    ath10k: fix getting stats from firmware
    Tested on 10.x firmware, and others report it at least
    makes older firmware no more broken than it already was.
    since 999.999.0.629 firmware release.
    The driver needs to verify the eeprom checksum and firmware crc status bits,
    device is booted (e.g. due to firmware recovery).
    during firmware recovery.
    ath10k: advertise only firmware API 2 files
    We do not really support older firmware API 1 anymore, so better remove
    ath10k: add otp and firmware boot error messages
    If OTP or firmware fails to load properly, print out some
    ath10k: better firmware loading error messages
    found, and make it easier to determine the firmware
    MFP_CAPABLE flag in the firmware command. This is supported from
     Workqueue: events request_firmware_work_func
     [<c0310748>] (wlcore_nvs_cb+0x10c/0x97c) from [<c02be5e8>] (request_firmware_work_func+0x38/0x58)
     [<c02be5e8>] (request_firmware_work_func+0x38/0x58) from [<c0036394>] (process_one_work+0x1c0/0x4a4)
    emulate BTN_RIGHT events in firmware based on the finger position, as part
    firmware interface is necessary (native or mixed mode), but also allows
      relies on a different firmware download protocal than the C2 one. We
    own contribution. Avri dives deep in the power code - newer firmware
    uAPSD since we identified firmware bugs that cause packet loss. One
    ath10k: update regulatory domain settings for 10.x firmware
    Regulatory domain settings for firmware 10.x has more options
    than main firmware, so handle regulatory domain setup separately
    for both supported firmwares. Fill in additional dfs domain
    for firmware 10.x was found during code review.
    ath10k: add soft/hard firmware crash option to simulate_fw_crash
    Command WMI_FORCE_FW_HANG_CMDID is not supported in firmware 10.1.
    In order to have firmware crash simulation functionality also
    in firmware 10.1 driver can force firmware crash by performing not allowed
    operation. Driver can deliberately crash firmware when setting vdev param for
    'soft' which will cause firmware crash that is recoverable
           by warm firmware reset but supported only in main firmware.
    'hard' which will cause firmware crash recoverable by cold
           firmware reset, this option works for both firmwares.
    Commands to trigger firmware soft/hard crash:
    This exposes a simple way to grab the firmware provided
    Trusted Foundations firmware used on production Tegra SoCs. The changes
      ARM: tegra: cpuidle: use firmware for power down
      ARM: firmware: add prepare_idle() operation
      ARM: firmware: enable Trusted Foundations by default
    Since all the VF interaction with the firmware passes through the PF
    cables where we were not always freeing the firmware/software semaphore
    after grabbing it.  Second stops caching whether the management firmware
    stopping link and to fully check to see if manage firmware is running or
    brcmfmac: fallback to mimo_bw_cap for older firmwares
    in devices that do not support bwcap firmware command a fallback
    identity in some way when it is reset.  It may lose its firmware, its
    iwlmvm firmware.
    staging: rtl8192u: Delete 'fwSendNullPacket' function in r819xU_firmware.c
    drivers/staging/rtl8192u/r819xU_firmware.c:109:1: warning: symbol 'fwSendNullPacket' was not declared. Should it be static?
    staging: rtl8192u: make in r819xU_firmware.c some local functions static
    Make some local functions static (firmware_init_param, fw_download_code,
    CPUcheck_maincodeok_turnonCPU and CPUcheck_firmware_ready) and fix
    Fixed the following sparse warnings in r819xU_firmware.c
      CHECK   drivers/staging/rtl8192u/r819xU_firmware.c
    drivers/staging/rtl8192u/r819xU_firmware.c:20:6: warning: symbol 'firmware_init_param' was not declared. Should it be static?
    drivers/staging/rtl8192u/r819xU_firmware.c:32:6: warning: symbol 'fw_download_code' was not declared. Should it be static?
    drivers/staging/rtl8192u/r819xU_firmware.c:159:6: warning: symbol 'CPUcheck_maincodeok_turnonCPU' was not declared. Should it be static?
    drivers/staging/rtl8192u/r819xU_firmware.c:208:6: warning: symbol 'CPUcheck_firmware_ready' was not declared. Should it be static?
    access whilst debugging their firmware.
    access whilst debugging their firmware.
    in the hardware/firmware interface.  In the current code, some parts
    iwlwifi: mvm: disable uAPSD due to bugs in the firmware
    The current firmware advertises support for uAPSD, but
    When a fixed firmware will be available, we will be able to
    iwlwifi: mvm: remove using max_duration in firmware API
    The firmware decided to not implement this API in this way,
    allow the firmware to change how to use this field later.
    In order to debug the firmware, we need to be able to set
    iwlwifi: mvm: send udev event upon firmware error to dump logs
    When the firmware asserts, the driver will dump the firmware
    staging: nokia_h4p: move firmware macros to firmware part
    As the TODO file suggests, move firmware file macros from the header
    file to the file that deals with firmware. In the process also move
    query_variable_info(). Restore it otherwise the firmware will return
    used in the userland firmware download process.
    supporting the old firmware loading process
    staging: comedi: jr3_pci: tidy up jr3_download_firmware()
    This callback function for comedi_load_firmware() first validates that
    the firmware data is the correct format then it writes the data to each
    New firmware do support scan while connected. Enable it.
      relies on a different firmware download protocal than the C2 one. We
    * 1839c7ebd9 "staging/gdm72xx: usb_boot: replace firmware upgrade API"
    * 3afcb91c41 "staging/gdm72xx: usb_boot: replace firmware upgrade API in
    * 9e412a0a58 "staging/gdm72xx: sdio_boot: replace firmware upgrade API"
    staging: rtl8192u: Added in r819xU_firmware_img.c an include to fix a sparse warning
    Fix the following warnings from sparse in r819xU_firmware_img.c
    due to the missing include of r819xU_firmware_img.h
      CHECK   drivers/staging/rtl8192u/r819xU_firmware_img.c
    drivers/staging/rtl8192u/r819xU_firmware_img.c:4:5: warning: symbol 'Rtl8192UsbPHY_REGArray' was not declared. Should it be static?
    drivers/staging/rtl8192u/r819xU_firmware_img.c:7:5: warning: symbol 'Rtl8192UsbPHY_REG_1T2RArray' was not declared. Should it be static?
    drivers/staging/rtl8192u/r819xU_firmware_img.c:158:5: warning: symbol 'Rtl8192UsbRadioA_Array' was not declared. Should it be static?
    drivers/staging/rtl8192u/r819xU_firmware_img.c:284:5: warning: symbol 'Rtl8192UsbRadioB_Array' was not declared. Should it be static?
    drivers/staging/rtl8192u/r819xU_firmware_img.c:326:5: warning: symbol 'Rtl8192UsbRadioC_Array' was not declared. Should it be static?
    drivers/staging/rtl8192u/r819xU_firmware_img.c:329:5: warning: symbol 'Rtl8192UsbRadioD_Array' was not declared. Should it be static?
    drivers/staging/rtl8192u/r819xU_firmware_img.c:332:5: warning: symbol 'Rtl8192UsbMACPHY_Array' was not declared. Should it be static?
    drivers/staging/rtl8192u/r819xU_firmware_img.c:341:5: warning: symbol 'Rtl8192UsbMACPHY_Array_PG' was not declared. Should it be static?
    drivers/staging/rtl8192u/r819xU_firmware_img.c:354:5: warning: symbol 'Rtl8192UsbAGCTAB_Array' was not declared. Should it be static?
    has the right firmware and is in "hba" mode)
    MFI_INIT and IOCTL frames will have high memory addresses, leads to firmware FAULT.
    Don't wait forever for firmware response for internal DCMDs sent from driver
    firmware. Such DCMDs will be posted to firmware with timeout. Timeout is also
       chip reset, driver owns the IO otherwise it is with firmware and can
    before init_firmware during driver probe
       firmware protocol i.e R2H bit set
    firmware.  As part of that process, controller disables ioaccel mode and later
    the user, regardless of settings in controller firmware
    Underlying firmware cannot handle task abort on accelerated path (SSD Smart Path).
    can bypass the RAID stack firmware and do the i/o to the device
    code in the controller firmware.
    [SCSI] lpfc 8.3.45: Fixed driver error messages after firmware download
    Send aborts to the firmware via the request/response queue mechanism.
    [SCSI] qla2xxx: Read capture firmware dump on mailbox timeout for ISP8044 and ISP82XX.
    Allow for the capture of a firmware dump but have a sysfs node
    [SCSI] qla2xxx: Add changes in the IOCB structures to adjust driver source codes to ISPFX00 firmware spec.
    Now that the 2.4 firmware reports the correct number of MSI-X vectors,
    brcmsmac: fix deadlock on missing firmware
    When brcm80211 firmware is not installed networking hangs.
    ("brcmsmac: request firmware in .start() callback")
    callback to not initiate anything unless firmware is installed.
    aggregation is performed only if AMPDU streams in firmware
    As V15 firmware supports VHT rate configuration, we can use this
    During Tx rate configuration, newer firmware V15 expects bitmap
    mwifiex: extract firmware API version number
    The firmware API version number will be used for future patches
    to support different firmware API specs.
    If p54u_load_firmware() fails, p54u_probe() does not deallocate
    that are normally controlled by the FIMC-IS firmware. The FIMC-IS
    The sensor properties required for the ISP's firmware are parsed from
    by the ISP and its own firmware.
          causes the firmware to shut down the PHY.  Fix from Michael Chan.
    the firmware currently available."
    and sta_rc_update() operation. I enabled firmware "STA quick kickout"
    /proc/device-tree symlinks to /sys/firmware/devicetree/base.
    v5: Rename firmware/ofw to firmware/devicetree
    possible with a newer firmware that allows to define the
    Note that this change is compatible with older firmware
    since older firmware will simply ignore the new bit (11),
    stretching bug. It causes to fail xc5000 firmware loading normally at
    [media] drx-j: propagate returned error from request_firmware()
            drivers/media/dvb-frontends/drx39xyj/drxj.c:11711 drx_ctrl_u_code() info: why not propagate 'rc' from request_firmware() instead of (-2)?
    never brought up.  This can cause the firmware to shutdown the PHY
    The fix is to tell the firmware not to shutdown the PHY if there was
    BGN SKU won't scan on 5.2GHz obviously, but the firmware
    Since the firmware has symmetric constraints on the power
    The current firmware doesn't know how to enable power
    Future firmware will support power save on BSS and P2P client
    As the antenna dependent fields depend on the firmware file and not
    New firmware enforce valid values for the quota in D3.
    The values given to the firmware when suspending and using
    Anjali removes a firmware workaround for newer firmware since the number
    "ST1000LM024 HN-M101MBB" with firmware revision "2AR10001".
    we need to also add firmware revision 2BA30001 as it is broken as well.
    the max_antenna_gain we pass to firmware, with zero value.
    Tested with high-speed TCP and UDP traffic on modified firmware that
    Platform dumps from the service processor (via firmware) through sysfs.
      - We add the /sys/firmware/opal/dump directory
        different dump types) to /sys/firmware/opal/dump/initiate_dump
        in /sys/firmware/opal/dump/ with a name of the dump type and ID (in hex,
    We export each log entry as a directory in /sys/firmware/opal/elog/
    redundant waste of a couple cycles it is harmless since firmware returns the
    The current code makes rtas calls for update-nodes, activate-firmware and then
    It also add rtas_busy delay for the activate-firmware rtas call.
    i40e: fix nvm version and remove firmware report
    The driver was reporting when firmware was less than
    for the product and we print the firmware number at
    ASoC: wm_adsp: Split firmware load into smaller chunks
    The firmware files can be quite large and allocating the whole firmware
    high memory load. Ease the requirements slightly by writing the firmware
    Add a firmware call to request platform to resync timebase
    bad ACPI firmware toggling Vbus off and on in quick succession, the port
    x86/efi: Re-disable interrupts after calling firmware services
    Some firmware appears to enable interrupts during boot service calls,
    Some EFI firmware makes use of the FPU during boottime services and
    clearing X86_CR4_OSFXSR by overwriting %cr4 causes the firmware to
    leaving the rest of the bits as the firmware set them.
    the firmware are below the 4GB boundary so that they can be addressed
    The EFI handover code only works if the "bitness" of the firmware and
    the kernel match, i.e. 64-bit firmware and 64-bit kernel - it is not
    the bitness of the firmware we're running on, without requiring any boot
    However, we do reload the firmware's global descriptor table
    the firmware.
    booting a 64-bit kernel on a 32-bit EFI firmware because the size of
    'unsigned long' does not allow the kernel to interact with firmware
    booted with 32-bit EFI firmware.
    rtlwifi: rtl8723ae: rtl8723-common: Copy common firmware code
    This commit copies the common firmware routines into the shared
    two firmware functions. Remove it.
    [media] drx-j: Remove duplicated firmware upload code
    Remove the duplicated firmware upload code that was commented
    download the firmware from userspace.
    This file contains just the firmware load code, that it is also
    [media] drx-j: Split firmware size check from the main routine
    The firmware upload routine is already complex enough. Split the
    first loop that verifies the firmware size into a separate routine,
    [media] drx-j: dynamically load the firmware
    Instead of hardcoding the firmware files together with the driver,
    use request_firmware() way, loading it from userspace.
    The firmware files are placed at:
            http://linuxtv.org/downloads/firmware/#8
    And they'll be latter submitted to linux-firmware git tree.
    converting the driver to load the firmware from an external
    drivers/firmware/efi/efivars.c:230:66: warning:
    drivers/firmware/efi/efi.c:236:27: warning:
    know firmware) we realloc the next power-of-two pages.
    information from firmware, it merely implements the scaffolding for
    serves to hide a firmware bug, and slows down a cpu boot unnecessarily.
    - Try to preserve the firmware modeset config on driver load. And a bit of prep
       - The firmware_class driver's PM notifier doesn't handle the
    Remove firmware framebuffer before initializing hyperv-fb.  Needed
      ASoC: wm8958-dsp: Fix firmware block loading
    Command timeout happens when firmware goes into bad state.
    Currently default Tx buffer size configured to firmware is 2K
    8897 chipsets as per firmware requirements.
    since firmware may generate events during this call; and events need translation
    As per current algorithm used in the firmware, imply Rx BACK
    As currently hardware/firmware don't support A-MSDU, convert broadcast
    Internal firmware roaming is enabled by default. This patch
    makes it possible to disable internal firmware roaming by
    Adding AP firmware command to access BBP
    one place and fixes some firmware bit handling.
    The OPAL firmware functions opal_xscom_read and opal_xscom_write
    then the firmware will have transmitted them as single frames.)
    PM_RESTORE_PREPARE.  The firmware_class driver handler
    ASoC: Intel: sst-firmware: missing curly braces (harmless)
    ASoC: Intel: sst-acpi: Fix Oops in case of missing firmware
    I swear I tested missing firmware in commit e5161d7987f1 ("ASoC: Intel:
    sst-acpi: Request firmware before SST platform driver probing").
    Some firmware calls return errors indicating allocation failures, for
    a BYE message to the firmware, for example.
    Dropped patch "qlcnic: reset firmware API lock during driver load" for further rework.
    with the DSP firmware.
    firmware loading.
    ASoC: wm8958-dsp: Fix firmware block loading
    staging: dgap: Add in-kernel firmware loading support
    This patch adds in-kernel firmware loading support and removes
    support for the original userland firmware loading process.
    * Re-factored firmware minidump template header handling
    qlcnic: Re-factor firmware minidump template header handling
    Treat firmware minidump template headers for 82xx and 83xx/84xx adapters separately,
    [media] get_dvb_firmware: it913x: Remove it9137 firmware files
    Remove it9137 firmware files it9137.txt and it9137 get_dvb_firmware.
    dvb-usb-it9137-01.fw firmware is no longer in use.
    We use the TLV flags as a handshake between the firmware
    and the driver. These flags allow the firmware to advertise
    These values aren't used as the firmware values should be used,
    SST DSPs. This includes suppoprt for DSP boot and reset, DSP firmware module
      ALSA: usb-audio: work around KEF X300A firmware bug
    is received from firmware during sleep handshake due to which
    host and firmware power states go out of sync causing cmd and
    Newer firmware support a new bit in the policy  that allows
    iwlwifi: pcie: stop the firmware when we restart it
    In case the firmware didn't assert but we want to restart
    Tx queues are stuck, we should stop the firmware by
    firmware in these bad scenarios.
    firmware/hardware records it as being asleep, mac80211 will
    we should complain about a firmware bug.
    with single machine driver and same firmware file per platform. It was known
    This patch also changes that DSP firmware name is machine not platform
    ASoC: Intel: Fix sparse warnings for firmware loader
    Sparse gives us the following warnings on sst-firmware.c
      CHECK   sound/soc/intel/sst-firmware.c
    sound/soc/intel/sst-firmware.c:39:34: warning: incorrect type in argument 1 (different address spaces)
    sound/soc/intel/sst-firmware.c:39:34:    expected void volatile [noderef] <asn:2>*dst
    sound/soc/intel/sst-firmware.c:39:34:    got void *
    sound/soc/intel/sst-firmware.c:417:36: warning: incorrect type in argument 1 (different address spaces)
    sound/soc/intel/sst-firmware.c:417:36:    expected void *dest
    sound/soc/intel/sst-firmware.c:417:36:    got void [noderef] <asn:2>*
    sound/soc/intel/sst-firmware.c:430:5: warning: symbol 'sst_block_module_remove' was not declared. Should it be static?
    ASoC: Intel: sst-acpi: Request firmware before SST platform driver probing
    We originally thought to request SST audio DSP firmware during the SST
    platform driver initialization. However plain request_firmware doesn't
    Implementing asynchronous firmware request in SST platform driver
    firmware is missing.
    This is more simple to handle by requesting firmware asynchronously in
    sst_acpi_probe() and register SST platform only after firmware is loaded.
    clarifying that these are not related to firmware file but for platform
    specific extended firmware area reserved by the BIOS.
    ASoC: Intel: Add GFP_KERNEL flag to firmware DMA buffer.
    Add GFP_KERNEL when allocating firmware DMA buffer.
    Some firmware leaves the Interrupt Disable bit set even if the device uses
    Tx performance, but the firmware is buggy and we can't rely on it.
    cxgb4: Query firmware for T5 ULPTX MEMWRITE DSGL capabilities
    Query firmware to see whether we're allowed to use T5 ULPTX MEMWRITE DSGL
    cxgb4: LE-Workaround is not atomic in firmware
    The LE workaround in firmware is not atomic and fw_ofld_connection_wrs must not interleave.
    ARM: tegra: cpuidle: use firmware for power down
    Attempt to invoke the prepare_idle() and do_idle() firmware calls
    to power down a CPU so an underlying firmware gets informed of
    Support the prepare_idle() firmware call, which is necessary to properly
    ARM: firmware: add prepare_idle() operation
    Some firmwares do not put the CPU into idle mode themselves, but still
    happens. Add a prepare_idle() operation to the firmware_ops structure to
    ARM: firmware: enable Trusted Foundations by default
    of_register_trusted_foundations() and the firmware Kconfig used
    The device found on Asus Z87 Expert motherboard requires firmware to work
    imx25 did not work without a firmware previously.
    Provide services for Intel SST drivers to load SST modular firmware.
    block and firmware module manager that can be used with any SST firmware
    ALSA: usb-audio: work around KEF X300A firmware bug
    speakers' firmware apparently locks up, making even PCM streaming
    This vector definition is used by the platform firmware to export the
    NFC: pn544: i2c: Support PN544 C3 secure firmware download
    PN544 C3 firmwares already contain the command frames to be sent, but as
    NFC: pn544: Pass hardware variant information when downloading firmware
    new firmwares. The C2 does a regular firmware download while the C3 uses
    staging: r8188eu: Make firmware buffer persistent
    The present code reloads the firmware file from the disk every time the interface
    re-inits. Change to hold the firmware in memory, and only download to the
    firmware: use power efficient workqueue for unloading and aborting fw load
    firmware load timeout routine and delayed routine for firmware unload.
    firmware: give a protection when map page failed
    firmware: google memconsole driver fixes
    Tested: booted dbg build, verified I could read /sys/firmware/log
    firmware: fix google/gsmi duplicate efivars_sysfs_init()
    and by drivers/firmware/google/gsmi.c gsmi_init().
    [    5.657699] sysfs: cannot create duplicate filename '/firmware/gsmi/vars'
    Tested: booted, checked that /firmware/gsmi/vars was still present and
    Some firmware leaves the Interrupt Disable bit set even if the device uses
    wcn36xx: Cache nv to avoid request_firmware on resume path
    resume. This causes problems on resume since request_firmware is called
    On some wcnss firmwares the start command can take up to 300ms to
    wl18xx: move to new firmware (wl18xx-fw-3.bin)
    firmware (due to api changes), so use bump
    the firmware name as well.
    detection) and PHYERR events from firmware, when firmware may
    firmware mismatch issues.
    Bluetooth: Add firmware update for Atheros 0cf3:311f
    The device is not functional without firmware.
    The device without firmware:
    The device with firmware:
    Bluetooth: Enable Atheros 0cf3:311e for firmware upload
    The device will bind to btusb without firmware, but with the original
    buggy firmware device discovery does not work. No devices are detected.
    Device descriptor without firmware:
    with firmware:
        This new firmware fixes following bugs:
         1. HW attention appears and traffic stops when iSCSI firmware tries to
    New version of the PCU firmware supports two new commands:
    brcmfmac: enable firmware console logging functionality
    fixed. Later it should be set via the firmware.
    We also check that busses configured by the firmware fit into their parents
     - arm/firmware.txt was added by commit 7366b92a77fc ("ARM: Add
       interface for registering and calling firmware-specific operations")
    responsibility of the bootloader/firmware to set this bit per core - it is
    done here in Linux as last resort in case of bad firmware.
    it was enabled, and the firmware disagreed. We ended up making the
    firmware unhappy. I also fix the station table in AP mode and fix the
    On Gen2 firmware, Hyper-V does not emulate the PCI bus. However, the MMIO
    staging: fpgaboot: Xilinx FPGA firmware download driver
    This driver downloads Xilinx FPGA firmware using gpio pins.
    It loads Xilinx FPGA bitstream format firmware image and
    firmware assert.
    workqueue, because sending firmware command require us to sleep, but
    ath10k:  Print out firmware feature bits from IE.
    Aids in understanding excactly what a firmware is
    provide this from firmware does not yet support any kind of generic card.
    take into account the firmware limitations.
    If the driver detects old firmware, we disable support for
    store the latest command sent to the firmware.
    The firmware doesn't allow per-vif beacon filtering: we can
    in drv->firmware_name by setting a maximal length to the
    iwlwifi: mvm: support multiple firmware sections
    the firmware. This means that we need to add a state to
    firmware - the driver needs to send a list of commands
    to the firmware before entering this state. Wake up from
    d0i3 also requires a few commands to the firmware.
    This happens only when the firmware asserts, and only when
    interface in the firmware, this prevents those bindings from
    As older firmware doesn't do anything with the max_duration field
    and ignores it completely, there's no need for a firmware flag.
    iwlwifi: 7000: warn about old firmware
    iwlwifi: pcie: fix secure section / dual cpu firmware loading
    Newer firmware will support uAPSD clients in AP/GO mode, so complete
    For older firmware, this doesn't change anything as it ignores the
    fields used by the new firmware, and we only advertise uAPSD support
    when the firmware does.
    think that A band is supported while the HW / firmware
      [media] drxk: remove the option to load firmware asynchronously
    the firmware. This led to an firmware assert when we remove
    iwlwifi: mvm: print the version of the firmware when it asserts
    This can be useful to be able to spot the firmware version
      dma: imx-sdma: Assign a default script number for ROM firmware cases
    system will be handled transparently by firmware if they need software
      firmware/google: drop 'select EFI' to avoid recursive dependency
    firmware/google: drop 'select EFI' to avoid recursive dependency
    The other way is using the firmware interface.
    This patch enables dynamic LED MUX configuration when the firmware is loaded.
    used to show the firmware is up and running. Set "timer" trigger for
      firmware, which is what is used on many of the commercial Nvidia Tegra
    fs/proc/proc_devtree.c: remove empty /proc/device-tree when no openfirmware exists.
    openfirmware.  This results in an empty /proc/device-tree existing.
    firmware/dmi_scan: generalize for use by other archs
    firmware still allows) then we may write a descriptor pointer
    ath10k handles UAPSD completly in the firmware.
    ath10k: enable firmware STA quick kickout
    When that happens, the firmware sends WMI_PEER_STA_KICKOUT_EVENTID event to the
    the firmware.
    Match firmware specification.
    Output structs are expected by firmware to be cleared when a command is called.
    Some firmware images may be large (64K), so using kmalloc memory is
    drivers/firmware/memmap.c: use memblock apis for early memory allocations
    PORT_RESET MC command was NOP in the ef10 firmware hence we are using
       - Drop cs46xx DSP blobs, using firmware loader now
     - CPU suspend support on top of PSCI (firmware Power State Coordination
    Jesse provides fixes for a compiler warning, firmware workaround,
    interfaces using Intel XL710 adapter firmware APIs.
    class enabled by firmware for any given PF. The driver would
    query the firmware for the traffic classes that are enabled for
    The driver registers and listens to firmware events that may
    firmware. The firmware runs DCBX in willing mode and configures
    By default in absence of any DCBX; firmware would configure the
    configuring DCB using firmware APIs.
    i40e: Change firmware workaround
    a better understanding of what firmware is returning in the MSI-X
      values are overwriting the firmware ones while other should not be set
    Bartosz added a runtime firmware feature flag to disable P2P. Our 10.1
    firmware branch doesn't support P2P and ath10k can now disable that. He
    And I added firmware debug log to help the firmware engineers."
    There were changes done in firmware to address this.
    In the original HID sensor hub firmwares all Named array enums were
    I think the most likely cause for this is a firmware bug
    details from the firmware. However, the escan uses a dynamically
    brcmfmac: rework firmware download code
    The firmware download code has been restructured so the reset vector
    for downloaded firmware and nvram in debug mode.
    firmware assings it for IBS to 0 too. The kernel needs to reprogram
    cpu-to-node mappings that we got from the firmware during boot, may no longer
    and instead queries the firmware for the cpu-to-numa relationships and uses
    1. During boot, the kernel gets the cpu-to-node mappings from the firmware
       CPU hotplug ignores the new mappings, it queries the firmware and tries to
    Presuming we are running on recent enough firmware that supports the
    traffic from.  We introduce a new firmware command FLOW_STEERING_IB_UC_QP_RANGE
    [media] drxk: remove the option to load firmware asynchronously
    The option to load firmware asynchronously were added due to
    So, we end by only letting the firmware to be loaded syncronously
    b43legacy: Fix unload oops if firmware is not available
    The asyncronous firmware load uses a completion struct to hold firmware
    As a result, unloading the driver when firmware is not available causes an oops.
    b43: Fix unload oops if firmware is not available
    The asyncronous firmware load uses a completion struct to hold firmware
    As a result, unloading the driver when firmware is not available causes an oops.
    It is u64 data received from firmware. Little endian to cpu
      values are overwriting the firmware ones while other should not be set
    of the firmware running on the MegaAVR microcontroller use a different
    [media] em28xx: fix xc3028 demod and firmware setup on DVB
    dma: imx-sdma: Assign a default script number for ROM firmware cases
    i.MX series have inner firmware in its ROM code: when SDMA isn't provided
    any firmware from Kernel or rootfs, the default inner ROM firmware will be
    Thus this patch adds a default script number when no external firmware being
    their platform without any firmware.
    underrun issue, which is only included by SDMA firmware version 2. However,
    there are quite a lot people still using version 1 or default firmware in
    the ROM code of SoC while these two kinds of firmwares do not support the
    version 1/2 or inner ROM firmware.
    On PA-Semi firmware, the instance-to-package callback doesn't seem
    Thus caused the firmware to load values around 0 (physical) internally
      ACPI / IBFT: Fix incorrect <acpi/acpi.h> inclusion in iSCSI boot firmware module
    via I2C, and other I2C operations may be happening (firmware
    In the latest firmware the clear_pxe_mode function will use the
    device structure to represent a subsystem.  However, firmware tends to
    It can be a problem when a pattern is loaded via the firmware interface.
    LP55xx common driver has already locked the mutex in 'lp55xx_firmware_loaded()'.
    hardware / firmware issues that are hard to hit.
    ath10k: add debugfs file to control firmware dbglog
    Send firmware WMI debug logs to user space for further processing.
    10.X firmware support up to 127 peers, non-AP centric firmwares 16.
    Currently ath10k is not using STA KICKOUT firmware functionality.
    [ 3675.930940] xc2028 19-0061: Device is Xceive 3028 version 1.0, firmware version 2.7
    wl1251: add nvs file name to module firmware list
    Add nvs file name to module firmware list
    The firmware doesn't support per packet encryption selection, so disable hw
    firmware, whereas the usual JOIN command seems to transmit some frames at
    firmware level.
    another firmware bug mentioned in the TI WLAN driver, which is described as
    can't send probe requests. I think the firmware somehow also tries to
    cleared, on power-on, or firmware reset.  This should help limit the need for
    rebooting a customer machine if something goes wrong on a firmware update or
    firmware_class: Fix the file size check
    We expect to read firmware blobs with a single call to kernel_read(),
    firmware loader: Add sparse annotation
    drivers/base/firmware_class.c:230:9: warning: context imbalance in '__fw_free_buf' - unexpected unlock
    This fixes a potential deadlock in case of a firmware
    ALSA: hda - Add consistent tag names for firmware patch
    Some tags used in the firmware patch file are inconsistent with hwdep
    sysfs file names, such as, the firmware patch takes [hint] tag while
    ALSA: hda - firmware patch code cleanup
    that the hardware waits to make sure that the firmware is ready as well
    firmware.  Provides a fix while in MFP mode where resources are
    code, so the firmware would process the ring exactly once and then fail.
    as we will trigger firmware to init the AQ again. In this case
    firmware will lose the information about the AQ Rx tail position
    i40e: update firmware api to 1.1
    The firmware's AdminQ interface has matured a little, so update the
    This patch determines support for HT40 using a firmware query that
    is limitation is imposed by the firmware.
            drivers/firmware/efi/Kconfig
    In case of CSR devices, the bcdDevice revision contains the firmware
    Some ACR122 firmwares seem to send 0 length data frames. Before using
    are set by the firmware and should not be modified by the driver. Others
    most user and system mode configurations to the firmware defaults.
    On ASF enabled devices where the mgmt firmware runs on the application
    link change event and the ASF firmware clearing the link changed bit in
    The driver will attempt to load firmware from userspace and compare
    older firmware in the devices ROM.
    The firmware needs to be stopped quickly (100ms) after the
    firmware to access the radio registers which would lead to
    Before this change, we would kill the firmware only when
    This is not relevant if the current firmware is INIT
    firmware since that firmware can run while in RFKILL.
    Under very specific circumstances, the firmware might
    Since the firmware relies on fifo / ac mapping - this led
    to wrong behavior. E.g. the firmware sends beacon with the
    firmware gates the clockby default.
    when trying to use G2D on systems on which firmware gates this clock
    ARM: tegra: Trusted Foundations firmware support
    Add support for the Trusted Foundations secure-mode firmware, as found
      ARM: tegra: set CPU reset handler using firmware
    drm/radeon: re-order firmware loading in preparation for dpm rework
    (meant for allocation by firmware in case of hash collisions) for filter
    Introducing a new directory /sys/firmware/efi/runtime-map just like
    /sys/firmware/memmap. Containing below attribute in each file of that
    /sys/firmware/efi/{fw_vendor,runtime,config_table} because kexec kernels
    We do use memcpy to avoid access alignment issues between firmware and
    Plantronics Gamecom 780 headset has a firmware problem, and when the
    This used to be the default, but at some point the firmware guys
    Use the port GUID read from the firmware to identify the physical port.
    drivers/firmware/efi") results in CONFIG_EFI being enabled even
    firmware version 3.2.3.0
    switch side. Mode is not passed to BFA from firmware when the test is
    enabled, driver can receive PLOGI from the target before firmware
    layer on bfa or firmware initialization failure and subsequently failure
    This patch includes change to enable firmware patch simplication
    independent patch release for firmware. Prior to 3.2.3, releasing a
    patch fix for firmware requires changes to bfa, to use new firmware
    images. But with these changes, if the new firmware is flashed on to the
    firmware after checking the patch release byte in the firmware version.
    [SCSI] qla2xxx: Add changes to obtain ISPFX00 adapters product information in accordance with firmware update.
    [SCSI] qla2xxx: Honor execute firmware failures.
    If the execute firmware command fails we do not stop the rest of the
    # echo disable > /sys/firmware/acpi/interrupts/gpeXXX
    drivers/firmware/dcdbas.c suggests that SMM accesses must
    Code derived from drivers/firmware/dcdbas.c.
      staging: comedi: drivers: fix return value of comedi_load_firmware()
    mwifiex: download per country tx power table to firmware
    in device tree for that country is downloaded to firmware.
    mwifiex: download cal-data from device-tree to firmware
    device tree. Add cal-data downloading from device tree to firmware.
    mwifiex: send regulatory domain info to firmware only if alpha2 changed
    There is no need to send domain info to firmware in case of "00" or
    On suspend/resume, firmware will restart and gpios
    Bfa driver crash is observed while pushing the firmware on to chinook
    initialized only for CT2 ASIC based cards after request_firmware().
    request_firmware and instead bfi_image_cb is initialized as it is the
    This patch includes changes to read the right firmware for quad port chinook.
    multi-buffer RX, firmware patch simplification, enhancements for RX filters,
    RX processing changes, bug fixes and updates the firmware version to v3.2.3.0.
    This patch includes change to enable firmware patch simplication feature.
    release for firmware. Prior to the 3.2.3.0 firmware, releasing a patch fix for
    firmware would require changes to bna driver, to use new firmware images.
    However with these changes, if the new firmware is flashed on to the Adapter,
    the driver will use the new firmware after checking the patch release byte in
    the firmware version.
      qlcnic: Allow firmware dump collection when auto firmware recovery is disabled
    o Added patch to allow capturing of dump, when auto recovery is disabled in firmware.
    qlcnic: Allow firmware dump collection when auto firmware recovery is disabled
    o Allow driver to collect firmware dump, during a forced firmware dump
      operation, when auto firmware recovery is disabled. Also, during this
    staging: comedi: drivers: fix return value of comedi_load_firmware()
    Some of the callback functions that upload the firmware in the comedi
    Current firmware doesn't handle well uAPSD in P2P Client.
    When it will be fixed, the firmware will set a TLV flag to notify
    makes more sense and WARN when we want to run the INIT firmware while
    Send firmware a Smart FIFO Configuration host command to allow
    drm/i915: kick firmware fbs even when i915 fbdev is disabled
    Otherwise we don't kick out firmware framebuffers like vesafb and
    When we insert an filter, the firmware checks that the given RX queue
    implicitly (by calling firmware implementations like PSCI) or explicitly
    This new firmware feature flag allows to turn off P2P interface type.
    the firmware, don't set the pointer to NULL but to -ENOENT
    in SDMA firmware version 2. This script would allow SSI use dual
    dma: imx-sdma: Add sdma firmware version 2 support
    On i.MX5/6 series, SDMA is using new version firmware to support SSI
    7. Log all unexpected errors returned by firmware, from Edward Cree.
    aer_set_firmware_first() searches the HEST for an error source descriptor
    ARM: tegra: set CPU reset handler using firmware
    Use a firmware operation to set the CPU reset handler and only resort to
    up directly and need to ask the firmware to do it.
    Register the firmware operations for Trusted Foundations if the device
    the ARM firmware API. Current features are limited to the ability to
    We are passing pointers to the firmware for reads, we need to properly
    In case of certain hardware and firmware errors it can be useful to
    The EF10 firmware can optionally insert RX timestamps in the packet
    We query the firmware for the clock format and corrections at run-time.
    The MC firmware will return error MC_CMD_ERR_ENOSPC if filter
    done by firmware that runs before the guest.  Also, it only affects AMD
    an enhanced error decoding functionality in the firmware, i.e. eMCA.
    USB: emi62: Provide the correct bitstream firmware
    Commit b8e24bfabb03 ('emi62: use request_firmware()') made
    contained the same bitstream but different firmware).
    firmware, from Robert Stonehouse.
    they're also broken on some 32-bit firmware, including the Dell Venue.
    Sometimes fixing firmware issues feels like plugging holes in a leaky boat.
    Also use the const qualifier on the firmware name strings.
    This is similar to the Terratec H7. It works with the same az6007 firmware as
    the former, however the drx-k firmware of the H7 will NOT work. Hence use
    a different firmware name. The firmware does not need to exist as the one in
    driver couldn't find the h7 drx-k firmware...).
      open-firmware 'dumb' framebuffer"
    devices as they are claimed by the firmware running in the secure mode.
    mwifiex: use little-endian variables in firmware structures
    The firmware expects the command structure members in little
    For now, the firmware doesn't really use the field, but
    firmware: dmi-sysfs: Remove "dmi" directory on module exit
      sysfs: cannot create duplicate filename '/firmware/dmi'
    firmware: dmi-sysfs: Don't remove dmi-sysfs "raw" file explicitly
    "/sys/firmware/dmi/entries/19-0", removes the directory and all its
    firmware: Suppress fallback warnings when CONFIG_FW_LOADER_USER_HELPER=n
    The commit [3e358ac2bb5b: firmware: Be a bit more verbose about direct
    firmware loading failure] introduced a new warning message about
    firmware: Use bit flags instead of boolean combos
    microcode: Use request_firmware_direct()
    Use the new helper, request_firmware_direct(), for avoiding the
    lengthy timeout of non-existing firmware loads.  Especially the Intel
    firmware: Introduce request_firmware_direct()
    When CONFIG_FW_LOADER_USER_HELPER is set, request_firmware() falls
    seconds) for non-existing firmware.  This is unacceptable for the
    drivers like microcode loader where they load firmwares optionally,
    This patch provides a new helper function, request_firmware_direct().
    It behaves as same as request_firmware() except for that it doesn't
    Without CONFIG_FW_LOADER_USER_HELPER=y, request_firmware_direct() is
    just an alias of request_firmware(), due to obvious reason.
    to release_firmware() down a couple lines to fix this.
    We should be able to override firmware-provided parameters with in-kernel
    This is an implementation of the driver access to a new firmware
    ACPI / IBFT: Fix incorrect <acpi/acpi.h> inclusion in iSCSI boot firmware module
    References: http://www.microsoft.com/whdc/system/platform/firmware/ibft.mspx
    The MC firmware is cooperatively multitasking and its scheduler will
    expected maximum time.  This can be useful for firmware development
    a flash firmware update.  Keep using the single operation, but
    firmware on the SFN[56]322F boards may not be able to provide
      about support and then firmware has been choking on the commands).
    i40e: firmware version fields offsets update
    firmware unhappy since the firmware isn't ready for it yet. WE also
    work with the new firmware that will be out soon hopefully.
    rtlwifi: rtl8192cu: Add new firmware
    new firmware for these chips. The code try for the new file, and fall back to
    the original firmware if the new file is not available.
    libertas/sdio: make sure card enters power-off when firmware is loaded.
    Since firmware loading became async it is possible that if_sdio_finish_power_of
    In order to support concurrent adapter firmware download
    the duration of the adapter firmware update, which can take
    register with firmware to handle machine check exception.
    firmware to decode MCE error details and handover the high level info to OS.
    data from host driver to firmware. They do have EEPROM but still
    incorrect firmware version check. This patch series modifies the firmware
    cxgb4: Add new scheme to update T4/T5 firmware
    not defined by the firmware.
    In the original HID sensor hub firmwares all Named array enums were
    brcmfmac: move firmware event related defines to fweh.h
    related to events received from the firmware. Those are
    brcmfmac: move firmware command code definitions
    Move the command codes to the firmware interface module as
    brcmfmac: move firmware related structures to fwil_types.h
    The firmware control interface is provided by fwil source file, but
    a number of structures used to communicate with the firmware still
    brcmfmac: provide firmware version in ethtool driver info
    Knowing the firmware version is pretty useful information when
    brcmfmac: add firmware and nvram file name for bcm4339
    Add firmware/nvram file name for bcm4339 so fmac can actually be functional with
    on firmware features so it is not possible to provide it in the
    firmware and i915 request_symbol() stuff, we just need to enable it
    Windows driver will enable ALDPS function, but linux driver and firmware
    commands on the device's behalf. This can lead to adapter firmware hangs
    If the next seqno returned by the firmware is 0, we return an error
    iwlwifi: pcie: stop sending commands to dead firmware
    firmware is in bad condition and will be reset soon.
    Since the firmware will be reset, there is no good
    iwlwifi: bump required firmware API version for 3160/7260
    A new firmware is coming out soon with new APIs.
    To make sure that this new firmware won't be loaded on old
    in firmware doesn't have a valid ieee80211_sta pointer.
    to the STA in firmware that represent the AP.
    This feature isn't supported by the firmware (yet).
    feature is enabled in the firmware.
    that value back before loading the firmware. Since
    calibrations are notification from firmware and not Rx
    packets, this doesn't change anyway - the firmware will
    /sys/firmware/acpi/tables is of zero size:
    $ LANG=C ls -ld /sys/firmware/acpi/tables/*
    -r-------- 1 root root 0 Nov 19 09:48 /sys/firmware/acpi/tables/APIC
    -r-------- 1 root root 0 Nov 19 09:48 /sys/firmware/acpi/tables/BOOT
    -r-------- 1 root root 0 Nov 19 14:25 /sys/firmware/acpi/tables/DSDT
    -r-------- 1 root root 0 Nov 19 14:25 /sys/firmware/acpi/tables/FACP
    -r-------- 1 root root 0 Nov 19 14:25 /sys/firmware/acpi/tables/FACS
    -r-------- 1 root root 0 Nov 19 14:25 /sys/firmware/acpi/tables/MCFG
    -r-------- 1 root root 0 Nov 19 14:25 /sys/firmware/acpi/tables/SRAT
    drwxr-xr-x 2 root root 0 Nov 19 09:48 /sys/firmware/acpi/tables/dynamic/
    $ acpidump -f /sys/firmware/acpi/tables/SRAT
    Could not get input file size: /sys/firmware/acpi/tables/SRAT
    $ LANG=C ls -hld /sys/firmware/acpi/tables/*
    -r-------- 1 root root  94 Nov 19 16:45 /sys/firmware/acpi/tables/APIC
    -r-------- 1 root root  40 Nov 19 16:45 /sys/firmware/acpi/tables/BOOT
    -r-------- 1 root root 58K Nov 19 16:55 /sys/firmware/acpi/tables/DSDT
    -r-------- 1 root root 244 Nov 19 16:55 /sys/firmware/acpi/tables/FACP
    -r-------- 1 root root  64 Nov 19 16:55 /sys/firmware/acpi/tables/FACS
    -r-------- 1 root root  60 Nov 19 16:55 /sys/firmware/acpi/tables/MCFG
    -r-------- 1 root root 168 Nov 19 16:45 /sys/firmware/acpi/tables/SRAT
    drwxr-xr-x 2 root root   0 Nov 19 16:55 /sys/firmware/acpi/tables/dynamic/
    $ acpidump -f /sys/firmware/acpi/tables/SRAT
    toggle, even for radios not controlled by the hw-switch (yeah firmware bugs).
    ath10k: show hardware and firmware info prints only once
    it's easier to show this information only during first firmware boot
    ... and load from the external firmware files.
    The firmware binary blobs in cs46xx driver have been in a gray zone
    and awaiting to be deleted, cause the firmware to believe that they are being used.
    secondary MAC addresses, the firmware returns a MAC address Collision error.
    The driver currently requests the firmware to enable rx_interface options
    This could cause commands to firmware to fail.
      x86/microcode/amd: Tone down printk(), don't treat a missing firmware file as an error
      [SCSI] esas2r: Cleanup snprinf formatting of firmware version
      DMA-API: firmware/google/gsmi.c: avoid direct access to DMA masks
    x86/microcode/amd: Tone down printk(), don't treat a missing firmware file as an error
    for missing firmware files.
    has been submitted to kernel-firmware repo yet resulting in
    ath10k: guard against CE corruption from firmware
    In case firmware crashes it may report CE
    firmware indication bit to be set. Prerequisite
      Move cper.c from drivers/acpi/apei to drivers/firmware/efi
         drivers/firmware/efi/ and sharing it with ARM.
         Interface) capable firmware
      drm/radeon: update firmware loading for hawaii
    mlx5: Support communicating arbitrary host page size to firmware
    Connect-IB firmware requires 4K pages to be communicated with the
    the command that reports back to firmware that pages can't be
    also a few other fixes that are relevant for the new firmware that has
    drm/radeon: update firmware loading for hawaii
    This just updates the firmware loading functions
    to look for the appropriate firmware files for
    If no mode can be found over DDC or the firmware we just ignore LVDS.
            drivers/media/tuners/tuner-xc2028.c:651:1: warning: 'load_firmware' uses dynamic stack allocation [enabled by default]
    devices, but the firmware load time is already good enough. Anyway,
    the buffer size at load_firmware().
    Some firmware doesn't initialize initial backlight level to a proper
    firmware begins to fill _BCL with values from 0 to 100, now 0 becomes
    When testing if the firmware's initial value is valid, we should use
    firmware.
    Do not load the Intel pstate driver if the platform firmware
    HP BIOS has several power management modes (firmware, OS-control and
    will be loaded. When the customer chooses the firmware power
    have their firmware power management. Vendors should make sure their
    firmware power management works properly, and they can go for adding
    The patch supposes that the underly firmware has built the RID to
    to PE#0. The reserved PE# is being exported by firmware by device
    - some regressions might be possible if there are some unknown firmware
    this driver only works around a nice firmware bug present in E3131, which
     * IBSS support (though due to a small bug it requires new firmware)
    "Bartosz added support to ath10k for our 10.x AP firmware branch, which
    firmware branch as well just like before, ath10k detects runtime what
    firmware is used. Unfortunately the firmware interface in 10.x branch is
      digital layer in firmware, but others have more basic functionalities
    net/mlx4_core: Fix reg/unreg vlan/mac to conform to the firmware spec
    to pass the port number. The firmware spec specifies that the port number
    o 83xx and 84xx firmware is capable of multiple Tx queues.
    Most setup errors are ignored to ensure maximum firmware
    we filter out some of the notifications sent us by the firmware. If
    ASoC: wm_adsp: Print out the firmware version
    ASoC: wm_adsp: Release firmware on memory allocation failure
       handling. Move it to drivers/firmware/efi/cper.c to reflect this
    sfc: Fix DMA unmapping issue with firmware assisted TSO
    When using firmware assisted TSO, we use a single DMA mapping for
    Move cper.c from drivers/acpi/apei to drivers/firmware/efi
    this code is under drivers/firmware/efi/
    If hardware (or firmware) detects palm on the surface of the device it does
    DMA-API: firmware/google/gsmi.c: avoid direct access to DMA masks
      - Create below sysfs files under /sys/firmware/opal
    Create /sys/firmware/opal directory. We wil use this
    interface to fetch opal error logs, firmware update, etc.
    for KSEG0 by the power-on firmware to reliably indicate an MC processor.
    is linked to a cached load address so the firmware has to use the correct
    OTOH if the firmware chooses to use either the non-coherent cached or the
    iwlwifi: warn if firmware image doesn't exist
    If the firmware image that we attempt to load doesn't
    actually exist we have a broken firmware file or other
    in firmware doesn't have a valid ieee80211_sta pointer.
    to the STA in firmware that represent the AP.
    Don't use UAPSD when the firmware doesn't support it.
    parameters to some firmware recommended default values. This enables
    With the new firmware, there are not anymore four register sets,
    - Function to load firmware required by VPDMA. VPDMA requires a firmware
      for it's internal list manager. We add the required request_firmware
      apis to fetch this firmware from user space.
      function will take care of loading VPDMA firmware and returning a
      thread info pointer before calling a firmware function and then to
      are being clobbered by the firmware call, and thus we failed to bring
    CPU, the PDC_PSW firmware function to enable WIDE (=64bit) mode is called.
    It's documented that this firmware function may clobber various registers, and
    turned zero after the firmware call.
    before the firmware call and restoring it afterwards.
    [SCSI] esas2r: Cleanup snprinf formatting of firmware version
    are converted to little endian and the firmware version read from
    Fatal dump in case of firmware failure.
    Somehow older areca firmware versions have issues with
    scsi_get_vpd_page() and a large buffer, the firmware
    firmware versions (<1.49 for my controller).
    Fixes a regression with areca controllers and older firmware versions
    sendtarget ram index as soon as firmware is done with discovery,
    The worse thing is that firmware loader is broken by this patch,
    and user space application can't write to firmware bin file any more
    because both firmware loader and drivers can't know at advance how
    large the firmware file is and have to set its initialized size as
      [media] tda10071: change firmware download condition
    ath10k: early firmware event indicated
    10.1.389 firmware has some differences in
    while main firmware branch was unnaffected.
    If firmware crashes during FW probing it would try
    firmware's byte-swapping would garble the data; clarify this in the
       - fix a next-gen SGI/UV hw/firmware enumeration bug"
    rt2x00: rt2800pci: use separate firmware callbacks for SoC devices
    Use empty firmware callbacks for SoC devices because those
    don't require firmware.
    libertas: move firmware lifetime handling to firmware.c
    Previously, each bus type was responsible for freeing the firmware
    firmware into firmware.c so that it's done once and correctly, instead
      digital layer in firmware, but others have more basic functionalities
    o fixed firmware dump collection logic to skip unknown entries.
    qlcnic: Skip unknown entry type while collecting firmware dump
    o Allow collecting the firmware dump of halted firmware when auto
    The activity grading indication from the firmware should
    The firmware always expects the Coex Mode to be set.
    Moreover, the firmware expects bit 0 is the valid bits to
    a result, the firmware understood that the BT Coex was
    to reuse our intel-mid code for platforms that supports firmware
    operation request by firmware".
    Some APs (notably a Sitecom WL-153 v1 with firmware 1.45) are sending
    QoS parameters are actually uploaded to the firmware.
    the end of the struct after ->firmware_rev.
    Return -EOPNOTSUPP if given parameter is not supported by firmware.
    10.X firmware does not support WMI_VDEV_PARAM_TX_ENCAP_TYPE.
    [media] em28xx: MaxMedia UB425-TC offer firmware for demodulator
    Downloading new firmware for DRX-K demodulator is not obligatory but
    usually it offers important bug fixes compared to default firmware
    the firmware, but in that case it will print warning to system log
    to tip user he should install firmware.
      mlx5: Fix error code translation from firmware to driver
      IB/mlx5: Fix opt param mask according to firmware spec
    staging: r8188eu: Convert driver to use external firmware
    As originally submitted, this driver acquired its firmware from data
    into a binary file that has been accepted into the linux-firmware git
    repo as commit ffc47f1 entitled "rtlwifi: Add new firmware files for
    the firmware data from the source. The TODO list is also updated.
    [media] siano: Use the default firmware for Stellar
    The Stellar firmware load routine is different. Improve it to use
    the default firmware, if no modprobe parameter tells otherwise.
    but after firmware load, they get a different USB ID.
            smsusb1_load_firmware: sent 38144(38144) bytes, rc 0
            smsusb1_load_firmware: read FW dvbt_bda_stellar_usb.inp, size=38144
    iwlwifi: support Signed firmware image and Dual CPUs
    Support Signed firmware based on code signing system (CSS)
    At the firmware level, IBSS support has similar programming
    the firmware should support it though.
    iwlwifi: don't WARN on bad firmware state
    When we restart firmware and it is marked as not alive, we can still get
        iwlwifi: don't WARN on host commands sent when firmware is dead
    In certain corner cases in the firmware implementation, powersave
    transitions can cause the firmware to miss the fact that commands
    the commands really are in the queue, try to poke the firmware in
    connection to the AP because the firmware didn't give
    us the right information. Since the firmware API has
    POWER_SAVE_ENABLE debug option. Send this command when firmware is
    only way to recover since the driver and the firmware might
    which is used to hold the retrieved error log from firmware. The
    log from firmware. It's helpful for debugging.
    net: wireless: wl1251: update firmware path
    TI firmwares are located under ti-connectivity
    find and load firmware blob.
    https://www.codeaurora.org/cgit/external/hisense/platform/vendor/qcom-opensource/wlan/prima/tree/firmware_bin?h=8130_CS
    mlx5: Fix error code translation from firmware to driver
    IB/mlx5: Fix opt param mask according to firmware spec
    The layout of struct health_buffer was not according to firmware
    On a single ported Connect-IB, its possible for the firmware to issue
    1. Make sure wqe_cnt does not exceed the limit published by firmware.
    ath10k: remove unneded semicolon from ath10k_core_fetch_firmware_api_n()
    generated by rbtree cache syncs or firmware downloads and essentially all
    If the firmware is not builtin and userspace is not yet running, we can
    stall the boot process for a minute whilst the firmware loader times
    leaking requested firmware.
    just too much to support it. Michal added support for the new firmware
    * add support for firmware version 999.999.0.636 (Michal)
    * firmware htt statistics support (Kalle)
    firmware doesn't consider us fully trusted.  So, abort probing unless
    ath10k: enable 10.x firmware branch support
    FW IEs what firmware variant we deal with, turn on support
    for 10.x firmware branch in ath10k_wmi_attach().
      [insert standard rant about firmware writers], bAlternateSetting
    These are only provided if the MC firmware has the
    SDIO firmware download routines uses one name for firmware file
    Bus layer need to share sk_buff::cb with firmware signal feature. Reserve
    brcmfmac: sync firmware event list
    Update event list to keep sync with firmware development. Use calculated event
    The firmware API for IPv6 NDP/NS offload has changed again.
    no longer ignored by the firmware.
    from the firmware, we reset the rssi all the time which
    iwlwifi: mvm: BT Coex - use data from firmware
    from the the firmware and not hard coded.
    Add support for scheduled scan according to firmware support.
    Newer firmware don't clean the RFKILL interrupt in APMG, do
    If we forget to do so, we can't send HCMD to firmware while
    iwlwifi: mvm: split ADD_STA and ADD_STA_KEY in firmware API
    Add support for new station management firmware API. The old
    When firmware restart happens, the timers are obviously reset and
    the new firmware has no synchronisation with the AP as we program
    timings to the pre-restart values. The firmware should attempt to
    iwlwifi: mvm: use CTS to Self if firmware allows it
    Newer firmware fixed a bug that prevented to use CTS to
    fixed. Enable the feature for these firmwares only.
    iwlwifi: mvm: query firmware for non-QoS seqno
    query the firmware when suspending, that's more efficient. As
    [media] tda10071: change firmware download condition
    Reading firmware status register to detect whether firmware is
    likely set by firmware itself which means it could not contain
    reasonable values until firmware is up and running. Usually it
    was considered "firmware is up and running" by the driver and
    firmware loading was skipped leaving device to non-working state.
    count whether firmware is loaded or not.
    This is done by sending a host command to the firmware, but
    firmware. The firmware will send SCAN_COMPLETE_NOTIFICATION
    If the scan cannot be aborted, it is because the firmware
    iwlwifi: don't WARN on host commands sent when firmware is dead
    The D3 firmware image doesn't support uAPSD, so disable it.
    /lib/firmware/mrvl/sd8797_caldata.conf
    The data will be downloaded to firmware during initialization.
    ath10k: implement firmware IE container support
    firmware supports. Also it can embed more than one image so updating firmware
    is easy, user just needs to update one file in /lib/firmware/.
    The firmware API 2 or higher will use the IE container format, the current API
    files are named as firmware-2.bin (which contains both firmware and otp images)
    and API 1 files are firmware.bin and otp.bin.
    ath10k: store separate pointers for firmware data
    Needed for firmware IE formatted images.
    net: qmi_wwan: add Telit LE920 newer firmware support
    Newer firmware use a new pid and a different interface.
    request_firmware_nowait fails.
    Amitkumar Karwar fixes a firmware hang caused by too much header data
    firmware timeouts on USB; and a fix for a NULL pointer dereference.
    firmware track, reflact that to not have a mismatch in
    Both firmwares (main and 10.x) have different set of vdev
    ath10k: add TARGET values for 10.x firmware
    Introduce all TARGET specific values for 10.x firmware.
    Some of them are common for both firmwares we will support,
    main and 10.x firmwares we need to split the wmi_init_cmd
    of 10.X firmware.
    10.X firmware can request a memory pool from host to offload
    Since the both firmwares we are going to support,
    ath10k: implement WMI events handling frame for both firmwares
    differences in the new AP firmware.
    host-firmware WMI interface for 10.X FW branch.
    WMI API in order to support new firmware (from so
    each of the firmwares, registered upom wmi init.
    firmware: Be a bit more verbose about direct firmware loading failure
    The direct firmware loading interface is a bit quiet about failures.  Failures
    that occur during loading are masked if firmware exists in multiple locations,
    logged, so in the event that you expect the direct firmware loader to work (like
    of firmware initiated reset
    appended for USB packets. This sometimes leads to a firmware hang,
    handshake between driver and firmware.
    Like SDIO interface, PCIe also needs to go through firmware power
    p54usb: fix leak at failure path in p54u_load_firmware()
    If request_firmware_nowait() fails in p54u_load_firmware(),
    p54u_load_firmware_cb is not called and no one decrements usb_dev refcnt.
    ARM: dts: imx6sl reuses imx6q sdma firmware
    There is no imx6sl specific sdma firmware.  Instead, imx6sl reuses
    imx6q sdma firmware.
    staging: rtl8192u: remove code inside #ifdef RTL8190P in r819xU_firmware.c
    Some systems although they have firmware class 'M', which usually
    [media] tda10071: change firmware download condition
    Reading firmware status register to detect whether firmware is
    likely set by firmware itself which means it could not contain
    reasonable values until firmware is up and running. Usually it
    was considered "firmware is up and running" by the driver and
    firmware loading was skipped leaving device to non-working state.
    count whether firmware is loaded or not.
    Wait until firmware ack is written before unlocking channel
    3. Change soft-TSO to take advantage of firmware assistance on EF10.
    sfc: Implement firmware-assisted TSO for EF10
    The SFC9120 MC firmware often takes longer than 20ms to reboot and
       - Enable ARM_ATAG_DTB_COMPAT to let firmware override command line
         when booting with an appended devicetree on non-DT-enabled firmware
    Hyper-V guest firmware, many legacy devices will not be emulated and this
      1. To workaround the firmware bug described in 916f676f8
    firmware-set bootargs to the kernel.
    3. Reset MAC stats properly after a firmware upgrade.
    4. Re-check the datapath firmware capabilities after the controller is
    o At the time of firmware hang "adapter->need_fw_reset" variable gets
      set but after re-initialization of firmware OR at the time of VF
    to avoid issuing firmware commands on non existing CQs.
      ACPI / hotplug / PCI: Use _OST to notify firmware about notify status
    this so that the proper mode is given to the firmware.
    core.c mostly deals with driver and firmware starting related
     - firmware/dmi-scan
    firmware/dmi_scan: drop OOM messages
    firmware/dmi_scan: constify strings
    firmware/dmi_scan: fix most checkpatch errors and warnings
    drivers/firmware/dmi_scan.c.
    firmware/dmi_scan: drop obsolete comment
    drivers/firmware/google/gsmi.c: replace strict_strtoul() with kstrtoul()
    2. the purpose of doing discard is to improve SSD firmware garbage
       firmware can do something smart.  Sending discard just after swap entry
    aligned, SD firmware can do flash erase more efficiently.
    firmware began to write the "appropriate" value for each controller into
    the code also issues command to fnic firmware to clear vnic stats.
    After an MC reboot, the datapath may be running a different firmware
    don't need to support pre-production firmware.
    the node arrays with the firmware provided nr_node_ids.
      ACPI / hotplug / PCI: Use _OST to notify firmware about notify status
      Provide version number for Debian firmware package
      rpm-pkg: install firmware files in kernel relative directory
    ACPI / hotplug / PCI: Use _OST to notify firmware about notify status
         use the proper accessors, call the firmware with the right endian
      powerpc/powernv: Return secondary CPUs to firmware on kexec
    connected via a special bus and listed in the firmware device tree.
    x86. Move it from arch/x86 to drivers/firmware. Add memmap pointer
    drivers/firmware/efi/efivars.c:567:6: warning: symbol 'efivars_sysfs_exit' was not declared. Should it be static?
      mce: acpi/apei: Soft-offline a page on firmware GHES notification
    offloads, support for a new firmware API and various code cleanups."
      special mode where it's waiting for firmware blobs to replace the
    reducing the number of interface combinations to avoid firmware crashes.
      [SCSI] qla2xxx: Set default critical temperature value in cases when ISPFX00 firmware doesn't provide it
      firmware loader: fix pending_fw_head list corruption
      firmware: dcdbas: use binary attribute groups
      driver core: firmware: use __ATTR_RW()
    [SCSI] qla2xxx: Set default critical temperature value in cases when ISPFX00 firmware doesn't provide it
    [SCSI] qla2xxx: Notify ISPFX00 firmware when driver is unloaded or system is shut down.
    [SCSI] qla2xxx: Perform warm reset every 2 minutes if firmware load fails for ISPFX00.
    [SCSI] bfa: firmware update to 3.2.1.1
    This patch updates the firmware to address the thermal notification issue
    They have no representation in firmware. Clean
    * Enhanced minidump feature by using firmware recommended
      firmware dump state.
      will hold the name of firmware image file name.
    qlcnic: Store firmware dump state in CAMRAM register
    -Use CAMRAM register to store firmware dump state in adapter
    qlcnic: Use firmware recommended dump capture mask as default
    3. Add support for starting or queueing firmware requests from atomic
    drm/radeon: check firmware overrides for mclk/sclk ss
    Check the overrides in the firmware info table before
    firmware loader: fix pending_fw_head list corruption
      _request_firmware_load()
                                           firmware_loading_store(1)
                                           firmware_loading_store(0)
    causing an oops later when walking pending_list after the firmware has
    firmware has changed in which case the device has to be reenumerated.
    in firmware and releases the newly allocated bos descriptor to prevent memory
      ARM: dts: Add secure-firmware boot support for OrigenQaud board
      functions under firmware control
      allowing firmware to implement a vswitch
    firmware release.
    The TX path firmware for EF10 supports 'option descriptors' to control
    On EF10, the firmware will initiate a queue flush in certain
    6. Add support for new events that are generated by EF10 firmware.
    and call the MLX4_QP_FLOW_STEERING_ATTACH/DETACH firmware commands.
    On the ATTACH command completion, the firmware provides a 64-bit
    this reg ID is used for detaching that flow from the firmware.
    firmware: dcdbas: use binary attribute groups
     drivers/firmware/dcdbas.c |   19 ++-----------------
    This field is ignored by Siena firmware but is significant to EF10 firmware.
    bna: firmware update to 3.2.1.1
    This patch updates the firmware to address the thermal notification issue
      virtual instead of physical addresses to the firmware under some
    2. Some bug fixes for firmware completion handling.  (They're not known
    3. Update to the firmware protocol (MCDI) definitions.
    powerpc/powernv: Return secondary CPUs to firmware on kexec
    With OPAL v3 we can return secondary CPUs to firmware on kexec. This
    allows firmware to do various cleanups making things generally more
    all the CPUs are in firmware.
    bootloader and PowerNV firmware.
    (leds-lp5523: use generic firmware interface) causes an application conflict.
    or pattern data is loaded from generic firmware interface.
      in lp5523_firmware_loaded().
    or pattern data is loaded from generic firmware interface.
    command to firmware.
    SDMA driver needed for the driver to work without additional firmware.
    A lot of 64-bit systems supported by Linux/MIPS have boot firmware or
    Probably an error in earlier firmware is never enabled so remove.
     + a3xx or a2xx 3d core, which share a common CP (the firmware
    driver core: firmware: use __ATTR_RW()
    [SCSI] qla4xxx: Export more firmware info in sysfs
    driver but it depends on firmware support.
    While Midway firmware handles L2 smc calls as nops, the custom smc calls
    The filter table(s) on EF10 are managed by firmware and will need
        iwl4965: reset firmware after rfkill off
    - add support secure-firmware for OrigenQuad
      ARM: dts: Add secure-firmware boot support for OrigenQaud board
    efx_fini_eventq() needs to be idempotent but EF10 firmware is
    - The request for MC_CMD_DRV_ATTACH now includes a datapath firmware
    The reason we didn't notice before is that the MC firmware error codes
    o  82xx firmware allows support for multiple Tx queues. This
    On EF10, the firmware is in charge of allocating buffer table entries.
    disconnect if firmware fails to do our bidding. I also have Stanislaw's
    drivers/net: enic: Add an interface for USNIC to interact with firmware
    This patch adds an interface for USNIC to proxy firmware commands
        - Adds new firmware commands for the new Cisco Low Latency NIC
    qlcnic: Add support for 84xx adapters to load firmware from file
    o Use appropriate firmware image file name based on device IDs.
     "Two AMD microcode loader fixes and an OLPC firmware support fix"
    ARM: dts: Add secure-firmware boot support for OrigenQaud board
    OrigenQuad board boots with secure firmware support. Enable support for
    Deferred probe was added in order to avoid udev vs. Kernel firmware
    added due to udev firmware loading problems, but things are fixed after
    [media] s5p-mfc: Update driver for v7 firmware
    Adds variant data and core support for the MFC v7 firmware
    The patch adds the register definition file for new firmware
    version v7 for MFC. New firmware supports VP8 encoding along with
    holds good for v7 firmware also.
      USB: ti_usb_3410_5052: fix big-endian firmware handling
     2) Fix use of *_PAGES interfaces with mlx5 firmware, from Moshe Lazar.
    10) Clear out firmware capability flags the be2net driver isn't ready to
      net/mlx5_core: Support MANAGE_PAGES and QUERY_PAGES firmware command changes
    net/mlx5_core: Support MANAGE_PAGES and QUERY_PAGES firmware command changes
    This patch isn't compatible with firmware versions < 5; however, it  turns out that the
    first GA firmware we will publish will not support previous versions so this should be OK.
    o Load firmware from file before setting up interrupts.
    qlcnic: Reinitialize mailbox data structures after firmware reset
    o After firmware reset VFs were failing to come up because of not
      VFs can come up after firmware reset.
    as interrupt endpoints. Current firmware will try to overwrite
    brcmfmac: ignore IF event if firmware indicates it
    Not every IF event from the firmware needs to result in a
    ignore the firmware event.
    AMPDU session in the correct order from the firmware to the host
    driver. This reduces buffer requirement on the firmware side.
    With firmware-signalling the packet handed to the bus specific driver
    Firmware-signalling needs transmit to firmware to be atomic and
      special mode where it's waiting for firmware blobs to replace the
    Provide version number for Debian firmware package
    Currently the firmware package always gets the same version number
    The paths inside the firmware package depend on the Kernel
    Debian firmware package number.
    New firmware comes with new HTT protocol version.
    ath10k: add support for firmware newer than 636
    both old and new firmware.
    It is possible for some versions of firmware to advertise capabilities that driver
    This patch prevents firmware from reporting
    NFC: pn544: i2c: Add firmware download implementation for pn544
    The pn544 can enter a firmware update mode where firmware blobs can be
    this is what we do for every downloaded firmware blob.
    NFC: pn544: Add firmware operations hci ops
    The firmware operation callback is passed by the physical layer to the
    NFC: netlink: Add result of firmware operation to completion event
    NFC: pn544: i2c: Add firmware download mode power-on support
    This is in preparation for pn544-i2c firmware download feature, where we
    need to know if we're in regular or firmware upload mode.
    It seems that some pn533 firmwares go belly up when being asked to send
    as they can (theorically) handle datas up tu 64kB. PN533 firmware only
    RDMA/cxgb4: Handle newer firmware changes
    video pipeline fails with timeouts reported by the FIMC-IS firmware.
    USB: ti_usb_3410_5052: fix big-endian firmware handling
    Fix endianess bugs in firmware handling introduced by commits cb7a7c6a
    ("ti_usb_3410_5052: support alternate firmware") which made the driver
    use the wrong firmware for certain devices on big-endian machines.
    Since the firmware support is no longer available for hw1.0,
    The time event firmware API will change, add the support for that.
      and a megaraid_sas firmware initialisation problem which causes kdump
    maintain Linux compatibility with old firmware versions. To do that, we just
    Coalesce filters are configured in firmware based on settings
    Packet type which is required by firmware is determined based on
    resets the firmware after turning rfkill off (resolving a bug in the
    Similar to power_down(), except that for a suspend, the firmware
    the firmware is not fully functional yet. This change implements a
    an unexpected notification from the firmware, there isn't
    the firmware.
    fbdev-core uses FBINFO_MISC_FIRMWARE to mark drivers that use firmware
    firmware is downloaded.  We need to check max_iscsi_conn again after
    can hang as the firmware will not respond to the iSCSI init message.
                     "firmware uses non-FIP mode\n");
    Actually this issue needs fix in firmware, but for firmware running in field,
    this driver fix is proposed to resolve the issue.  At firmware initialization
    time, if firmware does not come to ready state, driver will reset the adapter
    and retry for firmware transition to ready state unconditionally(not only
    iwl4965: reset firmware after rfkill off
    Using rfkill switch can make firmware unstable, what cause various
    Microcode errors and kernel warnings. Reseting firmware just after
    Apparently the available firmware has a limit of
    combinations may crash the firmware.
    The patch makes sure we ath10k tells firmware to
      Current driver-firmware mailbox interface was operating in polling mode
      firmware. These issues are resolved now and we are implementing the
    qlcnic: Interrupt based driver firmware mailbox mechanism
    o Driver firmware mailbox interface was operating in polling mode
      because of limitations with the earlier versions of 83xx adapter firmware.
       merge window but the typical terminology for loading a firmware to a
       target is firmware download rather than upload. In order to avoid any
    corner case) and a workaround for a firmware design issue - it only
    release_firmware(adapter->*) is called for success as well
      drm/nouveau/core: xtensa firmware size needs to be 0x40000 no matter what
    is required to allow firmware to complete boot commands and the other
    enforce using supported firmware.
    This patch breaks compatibility with old versions of firmware (< 4);
    however, the first GA firmware we will publish will support version 4
     4) Fix OOPS caused by firmware loading races in ath9k_htc, from Alexey
     7) Fix multicast settings getting dropped by firmware in qlcnic driver,
      merge window but the typical terminology for loading a firmware to a
      target is firmware download rather than upload. In order to avoid any
    Newer firmware supports offloading more IPv6 addresses for NDP,
    firmware capability.
    iwlwifi: mvm: reprobe device on firmware error during restart
    If we get a firmware error during restart, we currently abandon any
    Loading a firmware into a target is typically called firmware
    download, not firmware upload. So we rename the netlink API to
    forced firmware crash write 'crash' to
    ath10k: store firmware files in memory
    It is safe to swap firmware files on disk during
      drm/nouveau/core: xtensa firmware size needs to be 0x40000 no matter what
    firmware.
    drm/nouveau/core: xtensa firmware size needs to be 0x40000 no matter what
    net/mlx4_core: Respond to operation request by firmware
    This commit adds new firmware command and new firmware event.  The firmware
    entries which are used by the firmware for handling NCSI traffic in B0
    EEPROM for an issue with the firmware at 10Mbps when K1 (a power mode of
          For the sdma's firmware limit, we do not support the DMA except
    We will add the DMA support for the imx uart. For the firmware's limit,
    staging: comedi: usbdux: move usbdux_firmware_upload()
    firmware upload.
      Revert "ACPI / video / i915: No ACPI backlight if firmware expects Windows 8"
    mwifiex_fw_dpc() asynchronously takes care of firmware download
    are not handled. So if wrong firmware is downloaded, required
    [media] tlg2300: fix checking firmware in poseidon_probe()
    check_firmware() makes sure firmware is in a device.
    Also it sets down_firmware flag to 1 if downloading occurs.
    The only caller poseidon_probe() checks down_firmware flag and
    That looks very strange, so the patch removes down_firmware argument
    of check_firmware() and returns error code if check_firmware() fails
    [media] coda: update CODA7541 to firmware 1.4.50
    pointer on commands. With the new firmware, there is only a single set of
    Revert "ACPI / video / i915: No ACPI backlight if firmware expects Windows 8"
    Commit 8c5bd7a (ACPI / video / i915: No ACPI backlight if firmware
    If we forget to do so, we can't send HCMD to firmware while
    Until now, we relied on the firmware to do clean the
    interrupt, but new firmwares don't do that any more.
    descriptor. This was fixed with an immediate firmware update from the vendor,
    for example ath9k_htc with stalled firmware, kernel will
    firmware crashes from Emmanuel and a small BT fix for older devices as
    well as a workaround for a firmware problem with APs with very small
    driver and firmware in sync.
    For PCIe cards, when wrong firmware is downloaded, firmware is
    this point. But currently we are sending first command to firmware.
    As expected firmware doesn't respond to this command and command
    It is observed that when wrong firmware is downloaded for
    is used when firmware status is polled.
    mwifiex: reduce firmware poll retries
    After downloading the firmware, firmware status is checked by
    sufficient for firmware to get ready.
    firmware download and second enumeration expects firmware
    deinitialization for first enumeration after firmware download.
    Before sending command to firmware, we need to check the frame type.
    Unfortunately, the firmware only supports replay counters for
    to the dependency on the SigmaDSP firmware loader which was only available on a
    ("ASoC: Move SigmaDSP firmware loader to ASoC") though, so we can add the driver
    rpm-pkg: install firmware files in kernel relative directory
    Prior to this patch, firmware files were being installed
    in /lib/firmware with a potential conflict with already
    firmware files are now installed in /lib/firmware/<release>
    ath9k_htc: reboot firmware if it was loaded
    Currently ath9k_htc will reboot firmware only if interface was
    https://github.com/qca/open-ath9k-htc-firmware/issues/1
    reboot PC without configuring adapter, firmware will freeze.
    Bug: https://github.com/qca/open-ath9k-htc-firmware/issues/1
      over backlight control if the firmware thinks it's dealing with
      the firmware through the _DOS method that it should not carry out
         workaround making i915 take over bakclight control if the firmware
         the firmware through the _DOS method that it should not carry out
      ACPI / video: no automatic brightness changes by win8-compatible firmware
      ACPI / video / i915: No ACPI backlight if firmware expects Windows 8
      drm/radeon: use radeon device for request firmware
    ACPI / video: no automatic brightness changes by win8-compatible firmware
    parameter of control method _DOS, to inform firmware it should not
    firmware may choose to adjust brightness level instead of sending out
    ACPI / video / i915: No ACPI backlight if firmware expects Windows 8
    avoiding to register the ACPI backlight interface if the firmware
    it if the firmware has called _OSI for Windows 8 (or will register
    firmware.
    ath9k_htc: fix data race between request_firmware_nowait() callback and suspend()
    ath9k_hif_usb_probe() requests firmware asynchronically and
    there is some initialization postponed till firmware is ready.
    In particular, ath9k_hif_usb_firmware_cb() callback initializes
    ath9k_hif_usb_dealloc_urbs(). If suspend happens before request_firmware_nowait()
    There seems to be no limit to the amount of gunk the firmware can
    This is harmless since the firmware is most likely to
    Due to a firmware bug, it crashes when the beacon interval
    The firmware / HW can't support more than 16 Rx BA sessions.
    This bug led to firmware assert after 16 BA sessions.
    interrupts to host by buffering these packets in firmware/hardware
    Drivers are supposed to do required firmware/hardware settings based
      drm/radeon: use radeon device for request firmware
    [    4.790943] r600_cp: Failed to load firmware "radeon/CEDAR_smc.bin"
    [    4.791152] [drm:evergreen_startup] *ERROR* Failed to load firmware!
    drm/radeon: use radeon device for request firmware
    the radeon device for requesting firmware.
      [media] exynos4-is: Change fimc-is firmware file names
    the firmware spec), renaming the field to log_uar_pg_size to conform
    The firmware on both Dave's Thinkpad and Maarten's Macbook Pro appear to
    also when mixing kernel and firmware "bitness", e.g. 32-bit kernel with
    64-bit firmware.
    drm: avoid warning in drm_load_edid_firmware()
      drivers/gpu/drm/drm_edid_load.c: In function drm_load_edid_firmware:
    Intel Rapid Start Technology is a firmware-based suspend-to-disk
    to the firmware and copy the contents of RAM to a specialised partition, and
    firmware will copy the contents of the partition back to RAM and then resume
    timeout. It still requires firmware support and an appropriate suspend
    mce: acpi/apei: Soft-offline a page on firmware GHES notification
    If the firmware indicates in GHES error data entry that the error threshold
      drm/nvc0/gr: fix gpc firmware regression
    Hardware timing requirements is updated in order to comply with firmware
      drm/nvc0/gr: fix gpc firmware regression
    Add a boot option to disable firmware first mode for corrected errors.
    set by the firmware to indicate to the OS that it prefers to process the
    monitor for corrected errors (through CMCI/polling). Instead, the firmware
    structure and to disable CMCI/polling if the firmware first flag is set.
    [SCSI] qla2xxx: Do not take a second firmware dump when intentionally generating one.
    When we are intentionally generating a firmware dump by executing the
    course of action when a mailbox command times out is to take a firmware dump.
    MBA_SYSTEM_ERR AEN already generates a firmware dump.
    drm/nvc0/gr: fix gpc firmware regression
      open firmware: "/aliasas" -> "/aliases"
      PCI/AER: Set dev->__aer_firmware_first only for matching devices
      interaction with the EFI firmware, and a cleanup"
      Lots of little things, and larger firmware subsystem updates, all
      firmware loader: fix another compile warning with PM_SLEEP unset
      firmware loader: fix compile warning with PM_SLEEP set
      firmware loader: simplify holding module for request_firmware
      firmware loader: don't export cache_firmware and uncache_firmware
      firmware loader: fix compile warning
      firmware loader: fix build failure with !CONFIG_FW_LOADER_USER_HELPER
      driver core: firmware loader: kill FW_ACTION_NOHOTPLUG requests before suspend
      driver core: firmware loader: don't cache FW_ACTION_NOHOTPLUG firmware
      firmware: move EXPORT_SYMBOL annotations
      firmware: Avoid deadlock of usermodehelper lock at shutdown
    cassini: Make missing firmware non-fatal
    The firmware patch for the Saturn PHY fixes a bug, but is not absolutely
    We could have a firmware passing stuff via the new style map, and
    here, the firmware API version bump for the 7260/3160 devices."
    When the firmware supports the UPDATE_QP command, if the VF link is disabled,
    This requires firmware which supports the UPDATE_QP command.
    MIPS: BCM63XX: recognize Cable Modem firmware format
    Add the firmware header format which is used by Broadcom Cable Modem
    SoCs such as the BCM3368 SoC. We export the bcm_hcs firmware format
    structure because it is used by user-land tools to create firmware
    firmware runs on a dedicated core ("Security Processor", part of the SoC)
    [media] exynos4-is: Change fimc-is firmware file names
    This patch changes the firmware file names of the FIMC-IS subsystem.
    It is needed since there are different firmwares used across various
    FIMC-IS firmware. The driver enables those interrupt only where available,
    brcmfmac: reduce firmware-signalling locking scope in rx path
    feedback from the firmware. Determine the tag in the netdev transmit
    boot_root - holds the name of the /sys/firmware/ibft or iscsi_rootN
    Update bfa to use firmware image versions 3.2.1.0
    [SCSI] bfa: fix endianess issue for firmware stats
    Fix endianess issue on Big-endian architecture for firmware statistics
    Allow processing completions from firmware during IOC_DISABLE request is
    being processed by the firmware, by setting the queue_process flag
    [SCSI] bfa: firmware statistics update
    from firmware.
    1. While FRU VPD data update, inform firmware to send a completion event
       on I2C bus. Without this change, firmware used to send completion
    returned by the firmware is compared with driver/bfa iotag after masking
    Correction (FEC) (enabled at 16Gig speed) status from firmware and to
    firmware loader: fix another compile warning with PM_SLEEP unset
    drivers/base/firmware_class.c:221:29: warning: 'fw_lookup_buf' defined
    is released from reset, and a full reset cycle, including a new firmware
    firmware download is postponed to the first hw_params call, when the
    ASoC: adau1701: move firmware download to adau1701_reset()
    firmware, since it was not supported configuration in old firmware
       capability of handling UnevenSpan PRL11 to the firmware.
    [SCSI] megaraid_sas: Update balance count in driver to be in sync of firmware
    We want the firmware merge fixes, and other bits, in here now.
    [SCSI] mpt2sas: fix firmware failure with wrong task attribute
    Previously it is set to untagged. This causes the firmware to fail the commands.
    rtlwifi: rtl8723ae: Fix typo in firmware names
    The driver loads its firmware from files rtlwifi/rtl8723fw*.bin, but the
    $ echo 0x0123456701234567 > /sys/firmware/reipl/fcp/wwpn
    $ cat /sys/firmware/reipl/fcp/wwpn
    $ echo 0x012345670123456789 > /sys/firmware/reipl/fcp/wwpn
    $ cat /sys/firmware/reipl/fcp/wwpn
      special firmware update mode where applications can push a new
      firmware that will be flashed. We now have a netlink API for providing
    firmware.
    to notify the driver version to the firmware.
     "Here's a single patch for the firmware core that resolves a reported
      oops in the firmware core that people have been hitting."
      firmware loader: fix use-after-free by double abort
    firmware loader: fix compile warning with PM_SLEEP set
    drivers/base/firmware_class.c:1254:12: warning: 'cache_firmware' defined
     static int cache_firmware(const char *fw_name)
    drivers/base/firmware_class.c:1281:12: warning: 'uncache_firmware'
     static int uncache_firmware(const char *fw_name)
    from firmware. If we have pending PCI errors, special EEH event
    powerpc/eeh: Sync OPAL API with firmware
    The patch synchronizes OPAL APIs between kernel and firmware. Also,
    This resolves the merge issues with drivers/base/firmware_class.c
    announcement event from firmware. This happens when AP advertises
    read the firmware revision in the probe function. This leads to the following
    Otherwise, if the firmware does not mask the interrupt and
    This adds ability to bind uio driver to given open firmware device
    The firmware-signalling code used NL80211_NUM_ACS, but it has
    brcmfmac: Only use credits for bcmc when firmware indicates it.
    The firmware will sent an event message when bc/mc traffic should
    firmware loader: fix use-after-free by double abort
    fw_priv->buf is accessed in both request_firmware_load() and
      ALSA: usb-audio: work around Android accessory firmware bug
      [media] exynos4-is: Prevent NULL pointer dereference when firmware isn't loaded
    Pins may be muxed to alternate function instead of gpio by firmware.
    open firmware: "/aliasas" -> "/aliases"
    iwlwifi: mvm: allow firmware crashes to wake system for debug
    When the D3 firmware crashes, it can be helpful for debugging to
    firmware located at:
    using a module argument.  This overrides the firmware regulatory
    iwlwifi: bump required firmware API version for 3160/7260
    As the firmware API has changed significantly and we don't
    able to release the version 7 API firmware. Unfortunately
      ALSA: usb-audio: work around Android accessory firmware bug
    ALSA: usb-audio: work around Android accessory firmware bug
    When the Android firmware enables the audio interfaces in accessory
    This patch makes the firmware setup code assume presence of DT, since it
      special firmware update mode where applications can push a new
      firmware that will be flashed. We now have a netlink API for providing
    NFC: Add firmware upload netlink command
    As several NFC chipsets can have their firmwares upgraded and
    that the driver loads or flashes a new firmware. This will allows
    userspace triggered firmware upgrade through netlink.
    The firmware name or hint is passed as a parameter, and the driver
    will eventually fetch the firmware binary through the request_firmware
    firmware loading/flashing is an asynchronous operation. Result of the
    the op_mode might still get notifications from the firmware
    Ensure release_firmware is called if kmalloc fails.
    DVM opmode due to firmware availability, while newer ones will
    in our case to let the firmware optimise beacon RX.
    the device does not have firmware.
    happen, including drive firmware bugs.
      wl12xx: increase minimum singlerole firmware version required
      wl12xx: fix minimum required firmware version for wl127x multirole
    me, are related to the firmware version checks in our driver.  Without
    them, the firmwares fail to load.  The other one, by Eliad, fixes a typo
    brcmfmac: add debugfs statistics for firmware-signalling
    Currently firmware requested credits do not require fifo credits.
    With "iwl{4965,3495): workaround for firmware frame tx rejection"
    iwl3945: workaround for firmware frame tx rejection
    iwl4965: workaround for firmware frame tx rejection
    information should be sent to firmware. If it can piggy back
    brcmfmac: fix send_pkts statistic counter in firmware-signalling
    During P2P testing it turned out that the firmware sents multiple
    firmware should be processed. Otherwise the firmware-signalled flow
    control can run haywire when it has packets outstanding in firmware.
    brcmfmac: fix invalid ifp lookup in firmware-signalling
    The destination entries for firmware-signalled flow control have
    brcmfmac: reducing debug logging in firmware-signalling code
    The debug logging in firmware-signalling code was rather extensive and
    brcmfmac: allow firmware-signal tlv to be longer than specified
    The firmware-signal API specification defines length for the different
    tlv. During testing on different devices it turned out not all firmware
    firmware download and second enumeration expects firmware
    A major difference from ath9k is that there's now a firmware and
    ASoC: codecs: adau1701: factor out firmware reset
    firmware loading, so the actual download and releasing the device from
    and is used to define the firmware filename. b43_do_request_fw() populates
    ctx->errors[] on error, containing the firmware filename. b43err()
    wl12xx: increase minimum singlerole firmware version required
    The minimum firmware version required for singlerole after recent
    wl12xx: fix minimum required firmware version for wl127x multirole
    multirole firmware for wl127x (WiLink6) to be rejected.  The actual
    The firmware API wasn't being used correctly, fix that.
    vendor specific AT management commands to their firmwares.
    the firmware is often buggy.  Linux is much better off using
    regard.  I recall that it was better with some firmware revisions and
    worse with later firmwares or maybe my test coverage wasn't good
    and soonish the PMPs and their firmwares will improve in quality, so
    QueryVariableInfo() from boot services results in some firmware
    until the firmware triggers a garbage collection run, which they won't do
    Feedback from Samsung indicates that the firmware doesn't need more than
    usb 2-1: dvb_usb_v2: downloading firmware from file 'dvb-usb-it9137-01.fw'
    [media] exynos4-is: Prevent NULL pointer dereference when firmware isn't loaded
    Ensure the firmware isn't accessed in the driver when the firmware loading
    [   96.545000] PC is at fimc_is_start_firmware+0x14/0x94
    [   96.745000] [<c03e0354>] (fimc_is_start_firmware+0x14/0x94) from [<c03e1cc4>] (fimc_isp_subdev_s_power+0x13c/0x1f8)
      PCI/AER: Set dev->__aer_firmware_first only for matching devices
    It is because some firmware will access target address specified in
    PCI/AER: Set dev->__aer_firmware_first only for matching devices
    Previously, we always updated info->firmware_first, even for HEST entries
    dev->__aer_firmware_first.
    firmware loader: simplify holding module for request_firmware
    simply holds the module in the whole life time of request_firmware()
    firmware loader: don't export cache_firmware and uncache_firmware
    firmware loader: fix compile warning
    The commit ddf1f0648e8c("firmware loader: fix build failure
    drivers/base/firmware_class.c:921:13: warning:
    It's pretty harmless.  This information comes from the firmware, if
    firmware bugs, but we shouldn't be passing those regions to
    - Retain firmware defined configuration settings in the absence of
    link up notification is sent to bfa from the firmware. The bfa then send
    an FLOGI to the firmware which is sent out on the wire.
    firmware loader: fix build failure with !CONFIG_FW_LOADER_USER_HELPER
            driver core: firmware loader: kill FW_ACTION_NOHOTPLUG requests
    taking over firmware state. So check for this case and WARN about it.
    driver core: firmware loader: kill FW_ACTION_NOHOTPLUG requests before suspend
    This patch kills the firmware loading requests of FW_ACTION_NOHOTPLUG
    driver core: firmware loader: don't cache FW_ACTION_NOHOTPLUG firmware
    handle firmware loading, so don't cache these firmwares during
    suspend for these drivers since doing that may block firmware
    Both the two drivers are involved in private firmware images, so
    firmware: move EXPORT_SYMBOL annotations
    firmware: Avoid deadlock of usermodehelper lock at shutdown
    when a driver tries to load a firmware beforehand and it's stuck by
    some reason.  For example, dell_rbu driver loads the firmware in
    As a workaround, in this patch, the firmware class driver registers a
    The driver has been extracted from GPL sources of EdgeRouter Lite firmware
    There is no point to check firmware ABI version when the driver
    For such failures, the driver should assume the firmware is not
    At this point driver supports above and greater than above version of firmware.
    If it doesn't find the required firmware version than it forces the adapter to
           - If FW_ON_ADAPTER < /lib/firmware/cxgb4/t*fw.bin we will update the
           - If FW_ON_ADAPTER >= /lib/firmware/cxgb4/t*fw.bin don't upgrade FW.
    this information until after we've tried to kick out the firmware fb.
      efivarfs: Never return ENOENT from firmware again
    * Log driver version information with firmware version information.
    netxen_nic: Log driver version with firmware version
      ALSA: usb-6fire: Modify firmware version check
    staging: comedi: usbduxsigma: move usbduxsigma_firmware_upload()
    FIRMWARE_MAX_LEN define so its with the other firmware constants
    staging: comedi: usbduxsigma: tidy up firmware upload error messages
    For testing the D3 (WoWLAN) firmware, it is useful to be able
    to run the firmware with instrumentation while the host isn't
    sleeping and can poke at the firmware debug logging etc.
    D3 firmware is loaded and all regular commands are blocked.
    While the file is being read, poll the firmware's PME status
    non-wireless reason and when the firmware wants to wake up
    commands to the firmware, they could still be made and cause
    Als note that this requires an upcoming firmware change to
    D3 test will fail if the firmware doesn't report the pointer.
    The only remaining pci_set_drvdata(NULL) is in azx_firmware_cb() in
    The firmware supports periodic keep alive and beacon monitoring,
    HID: elo: add quirks for broken firmware
    "Elo touchscreen firmware M workaround".
      as a workaround for devices with M-level firmware, otherwise these
    The firmware requires that on p2p setup when net interfaces
    the same from be_setup() and/or post firmware download.
    A PF should ack the firmware when receiving unknown messages through the VF's
    It was set to be FORCED because of a firmware bug which
    specific but rather define how the DVM firmware is used.
    The MVM firmware doesn't communicate this way, it instead
    bit thus belongs into the firmware API code, i.e. DVM.
    using the mwifiex driver and firmware from the Marvell git
    The symptom was a timeout after firmware download.
    ape state only needs to be updated to tell the firmware that the driver
    Also, the firmware does not distinguish between SUSPEND and START states
    mwl8k: Fix the firmware hang issue for 8764
    The firmware hang issue is not seen very often,
    ,to interrupt the firmware, are needed when we
    detect that firmware is stuck and when the host
    This is to ensure that the firmware does not
    miss any PPA_RDY interrupts to cause the firmware
      powerpc/pseries: Make 32-bit MSI quirk work on systems lacking firmware support
    16) Fix device startup synchronization with firmware in tg3 driver, from
    powerpc/pseries: Make 32-bit MSI quirk work on systems lacking firmware support
    for a new firmware feature to force an adapter to use 32 bit MSIs.
    However, this firmware is not available for all systems. The hack below
    ASoC: adau1701: refactor firmware loading function
    Pass a struct i2c_client * to adau1701_load_firmware directly to make
    ALSA: usb-6fire: Modify firmware version check
    the version information. Do this because all firmware version tested
    updated to know that firmware has completed initialization. However, the
    contention with firmware.  This logic has existed since day one but is
    Register addresses, firmware name and some macros are specific to
    firmware.
    before they are sent to firmware. When each scan result is back
    firmware may go off-channel to scan the remaining channels.
    staging: comedi: usbduxsigma: use comedi_load_firmware()
    Use comedi_load_firmware() instead of duplicating the code in a
    Also, rename firmwareUpload() to have namespace associated with
    staging: comedi: usbduxsigma: move firmware request/upload into (*auto_attach)
    comedi_driver (*auto_attach) is requesting and uploading the firmware.
    comedi_load_firmware() helper.
    staging: comedi: usbduxsigma: consolidate the firmware upload
    functions into firmwareUpload().
    firmware_upload() so the extra messages are redundant.
    staging: comedi: usbduxsigma: request firmware synchronously
    Change the request_firmware_nowait() to a request_firmware() so
    staging: comedi: usbdux: use comedi_load_firmware()
    Use comedi_load_firmware() instead of duplicating the code in a
    Also, rename firmware_upload() to have namespace associated with
    staging: comedi: usbdux: move firmware request/upload into (*auto_attach)
    comedi_driver (*auto_attach) is requesting and uploading the firmware.
    comedi_load_firmware() helper.
    staging: comedi: usbdux: consolidate the firmware upload
    functions into firmware_upload().
    firmware_upload() so the extra messages are redundant.
    staging: comedi: usbdux: request firmware synchronously
    Change the request_firmware_nowait() to a request_firmware() so
    staging: comedi: usbduxfast: use comedi_load_firmware()
    Use comedi_load_firmware() instead of duplicating the code in a
    [media] smscoreapi: Make Siano firmware load more verbose
    If firmware load fails, report it as an error.
    drivers/built-in.o: In function `pvr2_upload_firmware1':
    drivers/built-in.o: In function `pvr2_upload_firmware2':
    "I have fixes for a firmware crash during resume, multicast RX,
    aggregation and a workaround for a firmware scanning bug."
    staging: comedi: ni_pcidio: use comedi_load_firmware()
    Use comedi_load_firmware() instead of duplicating the code in a
    This driver loads multiple firmware images to the device. Modify
    comedi_load_firmware() to take a 'context' that is passed to the
    firmware upload callback function.
    staging: comedi: me_daq: use comedi_load_firmware()
    Use comedi_load_firmware() instead of duplicating the code in a
    staging: comedi: daqboard2000: use comedi_load_firmware()
    Use comedi_load_firmware() instead of duplicating the code in a
    staging: comedi: drivers: generalize comedi_load_firmware()
    Move comedi_load_firmware() from jr3_pci.c to drivers.c and export
    staging: comedi: jr3_pci: tidy up comedi_load_firmware()
    rtl8192u: fix whitespace around if statements in r819xU_firmware.c
    staging: comedi: usbduxfast: consolidate the firmware upload
    usbduxfastsub_start() functions into usbduxfast_upload_firmware().
    usbduxfast_upload_firmware() so the extra messages are redundant.
    staging: comedi: usbduxfast: move usbduxfast_upload_firmware()
    For aesthetic reasons, move usbduxfast_upload_firmware() near its
    only caller, usbduxfast_request_firmware().
    Also, move the #define for the maximum firmware size so it's with
    the other firmware defines.
    staging: comedi: usbduxfast: tidy up firmwareUpload()
    firmware * directly instead of parsing out the data and size.
    buffer for the firmware when an error is encountered.
    needed. The firmware for the device is then requested and uploaded
    staging: comedi: usbduxfast: request firmware synchronously
    Change the request_firmware_nowait() to a request_firmware() so
    iwlwifi: mvm: adjust firmware D3 configuration API
    The D3 firmware API changed to include a new field, adjust
    While at it, correct the check that firmware is loaded.
    firmware INIT image can now be run to retrieve the NVM
    allow loading the data via request_firmware() and then send it
    As the new MVM firmware files package the DATA section
    Configure power management in the D3 firmware by sending
    iwlwifi: mvm: add a missing define in firmware API
    iwlwifi: mvm: tell firmware to let multicast frames in
    Without this command, the firmware will filter out all the
      [SCSI] qla2xxx: Update firmware link in Kconfig file.
      [SCSI] pm80xx: SPC new firmware changes for device id 0x8081 alone
    query the CPU status from the firmware and decide what to do
    Future firmwares will support that new version
    efivarfs: Never return ENOENT from firmware again
    Previously in 1fa7e69 efi_status_to_err() translated firmware status
      [SCSI] qla2xxx: Update firmware link in Kconfig file.
      [SCSI] pm80xx: SPC new firmware changes for device id 0x8081 alone
    In theory, the firmware format allows changing the data section
       firmware is loaded and up.
    iwlwifi: pcie: prefer to load the firmware in one shot
    the firmware in small chunks (PAGE_SIZE). This makes the
    firmware restart considerably slower.
    STAGING: rtl8192u: fix checkpatch error about pointer position in r819xU_firmware.c
    This patch fixes the pointer position in r819xU_firmware.c
    continuing them blindly (if /sys/firmware/acpi/hotplug/force_remove
    and a corresponding 'firmware_node' is present in the processor
    'force_remove' that will reside under /sys/firmware/acpi/hotplug/.
    o Driver need to read firmware control mailbox register instead
      adapter soft reset. If soft reset fails to resume traffic, firmware
      [SCSI] qla2xxx: Update firmware link in Kconfig file.
      [SCSI] pm80xx: SPC new firmware changes for device id 0x8081 alone
    [SCSI] qla2xxx: Update firmware link in Kconfig file.
    and operation in firmware flash update.
    [SCSI] pm80xx: SPC new firmware changes for device id 0x8081 alone
    Additional bar shift for new SPC firmware, applicable to device
      mlx4: Match DMFS promiscuous field names to firmware spec
                   sleep since there is interrupt from the firmware
    or data from being sent to firmware. Fix it by clearing is_suspended
    After switch to passive channel 4965 firmware drops any TX packet until
    workaround for this firmware issue, will be added to the driver.
    The driver and firmware sync up through SYNC messages, and the
    firmware's affirmative reply to these SYNC messages appears to be the
    sending SYNC messages to the firmware, which crashes about 10 seconds
    custom indications from firmware.  Add functions to refcount
    Remove old YAMON prom code and use common firmware library code.
    Remove old YAMON prom code and use common firmware library code.
    the kernel to the firmware library.
    If the firmware returns an error such as "closed" (or hardware
    Currently we only do that when a firmware compatible with OPAL v2
      remoteproc: support default firmware name in rproc_alloc()
      remoteproc: parse STE-firmware and find resource table address
      remoteproc: add find_loaded_rsc_table firmware ops
    whether there are any machines out there with "wrong" firmware and
      iommu/amd: Don't report firmware bugs with cmd-line ivrs overrides
    fixups are processed. This means that the now-firmware-owned vectors
      be2net: Fix firmware download for Lancer
    Merge tag 'firmware-for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/arm/arm-soc
    Pull ARM platform specific firmware interfaces from Olof Johansson:
     "Two platforms, bcm and exynos have their own firmware interfaces using
    * tag 'firmware-for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/arm/arm-soc:
      ARM: EXYNOS: Add secure firmware support to secondary CPU bring-up
      ARM: EXYNOS: Add support for Exynos secure firmware
      ARM: Add interface for registering and calling firmware-specific operations
      ALSA: emu10k1: Fix dock firmware loading
    be2net: Fix firmware download for Lancer
    [SCSI] lpfc 8.3.39: Fixed VPI allocation issues after firmware dump is performed
    cleanup. Howerver, cleanup timesout as the firmware has no clue about
    Set perf_config to 3 during firmware initialization to enable both
       firmware version
      updates], lpfc, aacraid [dual firmware image support]) and a few bug
     - the cypress firmware load is used outside dvb usb drivers.  So, move
            drivers/firmware/Kconfig
            drivers/firmware/efivars.c
    We use kmem_cache_alloc() to allocate memory to hold the new firmware
    dd if=<fw image> of=/proc/ppc64/rtas/firmware_flash bs=4096
      firmware, memmap: fix firmware_map_entry leak
    firmware, memmap: fix firmware_map_entry leak
    When hot removing memory, a firmware_map_entry which has memory range of
    the memory is released by release_firmware_map_entry().  If the entry is
    allocated by bootmem, release_firmware_map_entry() adds the entry to
    map_entires_bootmem list when firmware_map_find_entry() finds the entry
    from map_entries list.  But firmware_map_find_entry never find the entry
    Here are steps of leaking firmware_map_entry:
    firmware_map_remove()
    -> firmware_map_find_entry()
    -> firmware_map_remove_entry()
       -> release_firmware_map_entry()
          -> firmware_map_find_entry()
    release_firmware_map_entry() should not call firmware_map_find_entry()
    patch delete firmware_map_find_entry() from releae_firmware_map_entry()
    firmware value and dither to get what flimsy panels want.
    Like before we ensure that we don't change the bpp if the firmware
    Newer firmware can post CPL_SGE_EGR_UPDATE message encapsulated in a
    This patch also writes a new parameter to firmware requesting encapsulated
    EGR_UPDATE. This allows firmware with this support to not break older drivers.
    Newer firmware can post CPL_SGE_EGR_UPDATE message encapsulated in a
    This patch also writes a new parameter to firmware requesting encapsulated
    EGR_UPDATE. This allows firmware with this support to not break older drivers.
    Note that this depends on the platform code and/or firmware to boot the
    be2net: Avoid diagnostic test in certain versions of firmware to avoid NIC freeze.
    The Linux kernel and platform firmware negotiate their mutual support
    vector to indicate Linux support for PRRN and will allow the firmware to
    The new PRRN firmware feature provides a more convenient and event-driven
    for some customers to update to the latest firmware. For these customers,
    the VPHN feature supported on previous firmware versions may still be the
    The new PRRN firmware feature allows CPU and memory resources to be
    Platform events such as partition migration or the new PRRN firmware
    powerpc/pseries: Update numa.c to use updated firmware_has_feature()
    Update the numa code to use the updated firmware_has_feature() when checking
    powerpc/pseries: Update firmware_has_feature() to check architecture vector 5 bits
    The firmware_has_feature() function makes it easy to check for supported
    firmware_has_feature() to include checking for specified bits
    for firmware_has_feature much easier.
    powerpc/pseries: Use ARRAY_SIZE to iterate over firmware_features_table array
    When iterating over the entries in firmware_features_table we only need
    handling is enabled. To do this firmware_has_feature() is updated (in a
    Newer firmware on Power systems can transparently reassign platform resources
    The firmware supports a maximum of 4K FCoE exchanges. In 4-port devices,
    efx_mcdi_get_board_cfg() uses a buffer for the firmware response that
    'eth5 sfc_fpga:01'.  This means the firmware update tool (sfupdate)
    towards the firmware.
    mlx4: Match DMFS promiscuous field names to firmware spec
    actual firmware specification.  The patch doesn't introduce any
    functional change or API change towards the firmware.
    assumed by the firmware for IB link layer is zero.
    2) Check if the firmware provides a workaround to prevent this.
    4) If the firmware provides a workaround, insert the VLAN tag in the
    packet and inform the firmware to skip further VLAN insertions.
    a pvid, the driver needs to invoke a special hack in firmware to avoid
    We need to check the runtime sys_table for the EFI version the firmware
    This is apparently the case with several Apple firmwares that support EFI
    + arm-linux-gnu-ld -EL -p --no-undefined -X --build-id -X -o .tmp_vmlinux1 -T /root/linux-next/arch/arm/kernel/vmlinux.lds arch/arm/kernel/head.o init/built-in.o --start-group usr/built-in.o arch/arm/nwfpe/built-in.o arch/arm/vfp/built-in.o arch/arm/kernel/built-in.o arch/arm/mm/built-in.o arch/arm/common/built-in.o arch/arm/net/built-in.o arch/arm/crypto/built-in.o arch/arm/mach-s5pv210/built-in.o arch/arm/plat-samsung/built-in.o kernel/built-in.o mm/built-in.o fs/built-in.o ipc/built-in.o security/built-in.o crypto/built-in.o block/built-in.o arch/arm/lib/lib.a lib/lib.a arch/arm/lib/built-in.o lib/built-in.o drivers/built-in.o sound/built-in.o firmware/built-in.o net/built-in.o --end-group
    ALSA: emu10k1: Fix dock firmware loading
    The commit [b209c4df: ALSA: emu10k1: cache emu1010 firmware] broke the
    firmware loading of the dock, just (mistakenly) ignoring a different
    firmware for docks on some models.  This patch revives them again.
    Add new return code to rtas_flash to indicate firmware entitlement
    [  235.752799] Bluetooth: Downloading firmware failed!
    hardware/firmware does the rest. In such cases we need to read the info
    The firmware provides credits to the driver per WMM-AC. When
    only AC_BE are to be transmitted to the firmware the driver
    towards the firmware.
    firmware as the feature is not supported on all devices.
    brcmfmac: flush queue upon MACDESC_DEL firmware signal
    When firmware signals the driver to remove a destination entry
    driver and firmware.
    Send P2P_MODE_CFG cmd to firmware when p2p interface is created.
    Without proper p2p configuration firmware may behave incorrectly
    When deleting an interface in firmware-signalling module it will
    brcmfmac: schedule dequeue upon firmware-signal reception
    Several firmware signals should be considered as opportunity to
    send packets to the firmware. This patch adds conditional scheduling
      x86, efivars: firmware bug workarounds should be in platform code
    10) In bnx2x the kernel driver and UNDI firmware can try to program the
    11) Fix corruption of status block in firmware ram in bxn2x, from Ariel
    15) Add workarounds for firmware bugs in LTE qmi_wwan devices, wherein
      net: qmi_wwan: prevent duplicate mac address on link (firmware bug workaround)
      net: qmi_wwan: fixup destination address (firmware bug workaround)
      net: qmi_wwan: fixup missing ethernet header (firmware bug workaround)
            drivers/firmware/efivars.c
          x86, efivars: firmware bug workarounds should be in platform
    This series adds workarounds for 3 different firmware bugs, each
    exact distribution of the buggy firmwares. All we know is that the
    net: qmi_wwan: prevent duplicate mac address on link (firmware bug workaround)
    net: qmi_wwan: fixup destination address (firmware bug workaround)
    instead of the address the device firmware should have learned
    hardcoded firmware default.
    net: qmi_wwan: fixup missing ethernet header (firmware bug workaround)
    same firmware bug: Most of the packets received from the device while
    It is believed that the bug depend on firmware revision, which means
    affected if we consider all available firmware revisions.
    iommu/amd: Don't report firmware bugs with cmd-line ivrs overrides
    function might not be a firmware bug anymore. So disable
    the firmware bug reporting if the user provided valid
    code to request firmware at IFF_UP to play more nicely with being
    open source firmware, and an ath9k_hw initvals fix to improve device
    access the MNG firmware while the port was in a down state.  The other
    * Tx timeout and subsequent firmware reset by removing check for
    firmware reset.
    even if firmware did not initialize it. If more than one graphics
    adapter is present, ensure the one initialized by firmware is set
    This patch sets the facilities Linux knows about incase the firmware doesn't.
    Memory allocated to rtas_firmware_flash_list in rtas_flash_write
    unload rtas_flash module after loading new firmware image and
    This patch frees rtas_firmware_flash_list during module exit.
    This issue is seen with the Chromebook Pixel due to a firmware bug in
    path in order to work around this issue.  A future firmware update
    This registers /sys/firmware/efi/{,systab,efivars/} whenever EFI is enabled
     *) userspace to check for the existence of /sys/firmware/efi as a way
     *) 'mount -t efivarfs none /sys/firmware/efi/efivars' without manually
      variable code, into the firmware/efi directory. Note that the efivars.c
        mount -t efivarfs none /sys/firmware/efi/efivars
    information on the BIOS boot device available in /sys/firmware/edd/.
    "x86, efivars: firmware bug workarounds should be in platform code".
    Chain noise is done in the firmware and Bluetooth Coexistence
    it just ignores the new channel width for lack of firmware
    device firmware crashing since it checks regulatory as well.
    ERROR: "usb_control_msg" [drivers/media/common/cypress_firmware.ko] undefined!
    [media] hdpvr: recognize firmware version 0x1e
    This is the latest firmware version and - it seems - the most reliable.
    are addressed in the firmware.
      [SCSI] qla2xxx: Fix crash during firmware dump procedure.
    brcmfmac: obtain iftype for firmware-signal descriptor lookup
    associated with a sk_buff for firmware-signalling. It needs the
    brcmfmac: support save&restore firmware feature
    Support for it is hardware and firmware dependent.
    repair misbehaving monitor firmware.
    disk firmware version but the code overwrites the driver version with the disk
    ASoC: wm_adsp: Add support for firmware wide coefficient blocks
    Firmwares may provide some firmware wide configuration regions which can
    be configured by the coefficient files using the firmware ID as the
    Merge tag 'fw-for-3.10' of git://github.com/broadcom/bcm11351 into next/firmware
    the firmware information from the info client and then disconnect from it.
    [SCSI] aacraid: Dual firmware image support
    This patch adds dual flash firmware support for Series 7 and above controllers.
    [SCSI] qla4xxx: Pass correct LUN address to firmware in case of lun_reset
    [SCSI] qla4xxx: Fix double reset in case of firmware hung for ISP83XX
    In case of firmware hung we need to call "mailbox_premature_completion" to
    complete any pending mbox command as firmware is not alive.
    Merge tag 'secure-exynos-for-v3.10' of git://git.kernel.org/pub/scm/linux/kernel/git/kgene/linux-samsung into next/firmware
    add support secure firmware for exynos
      ARM: EXYNOS: Add secure firmware support to secondary CPU bring-up
      ARM: EXYNOS: Add support for Exynos secure firmware
      ARM: Add interface for registering and calling firmware-specific operations
    Merge branch 'exynos/clk' into next/firmware
    sound_firmware: don't bother with filp_close()
    x86, efivars: firmware bug workarounds should be in platform code
    firmware bug, plain and simple.
    Franky Lin gives us a brcmfmac fix to fail at the firmware loading
    brcmfmac: wait for firmware event when creating P2P_DEVICE interface
    The firmware sends a IF event to notify the host driver that the
    brcmfmac: firmware shared data version fix
    brcmfmac: read firmware console without trap indication
    brcmfmac: handle firmware signals requesting for packets
    The firmware can request the host driver for packets, by sending
    brcmfmac: handle firmware signalling destination entry state
    brcmsmac: request firmware in .start() callback
    The firmware is requested from user-space. To assure the request
    ath9k_htc: accept 1.x firmware newer than 1.3
    Since the firmware has been open sourced, the minor version has been
    ARM: EXYNOS: Add secure firmware support to secondary CPU bring-up
    Boards using secure firmware must use different CPU boot registers and
    call secure firmware to boot the CPU.
    ARM: EXYNOS: Add support for Exynos secure firmware
    Some Exynos-based boards contain secure firmware and must use firmware
    This patch adds firmware operations for Exynos secure firmware and a way
              .init_early   = exynos_firmware_init,
              firmware@0203F000 {
                      compatible = "samsung,secure-firmware";
    firmware.
    ARM: Add interface for registering and calling firmware-specific operations
    Some boards are running with secure firmware running in TrustZone secure
    This patch adds an interface for platforms to specify available firmware
    A wrapper macro, call_firmware_op(), checks if the operation is provided
    In code using firmware ops:
      if (call_firmware_op(cpu_boot, cpu) == -ENOSYS)
              /* tell platformX firmware to enter idle */
              /* tell platformX firmware to boot CPU i */
      static const struct firmware_ops platformX_firmware_ops = {
              register_firmware_ops(&platformX_firmware_ops);
    enic: be less verbose about non-critical firmware errors
    If a feature is not supported by firmware no need to print an error message.
    net/mlx4_en: Enable DCB ETS ops only when supported by the firmware
    Enable the DCB ETS ops only when supported by the firmware. For older firmware/cards
    r8169: Modify the method for setting firmware
    firmware could support setting mac ocp.
    r8169: Remove firmware code
    remoteproc: support default firmware name in rproc_alloc()
    If rproc_alloc isn't given a firmware name, look for a default
    Copy resource table from first to second firmware loading.
    After firmware is loaded to memory, update the vdevs resource
    [SCSI] qla2xxx: Fix crash during firmware dump procedure.
    qla2xxx_copy_atioqueues() in stack trace when firmware dump is
    The original patch was not covering all the adapters and firmwares.
    firmware,IB/qib: revert firmware file move
    Commit e2eed58b4fbf ("IB/qib: change QLogic to Intel") moved a firmware
    firmware name as used in qib.
    remoteproc: parse STE-firmware and find resource table address
    Parse the STE firmware and scan the TOC-table to find the address
    remoteproc: add find_loaded_rsc_table firmware ops
    Add function find_loaded_rsc_table to firmware ops. This function
    prepare for loading firmware once.
    firmware image chunk.
    it is handled by the ISP's firmware.
    controlled by the ISP firmware running on the Cortex-A5, allows
    internal FIMC-IS ARM CPU firmware. The image sensor driver could
    memory, loading the firmware, FIMC-IS register interface and
    "The only fix here is to the passive-no-RX firmware regulatory
    practice, as it would require the siano's firmware to return
    The firmware API changed to differentiate between event and
    iwlwifi: print opmode when firmware is loaded
    firmware is loaded.
    The firmware starts sending nulldata frames for keepalive immediately
    handled differently in the firmware. If a P2P device is added power
    existing firmware, change the API in the driver back
    to the API used in the current firmware.
    to the firmware. When credits run out the packets should be queued
    and dequeued when receiving creditback signals from the firmware.
    brcmfmac: only allocate firmware-signalling resources if required
    Bail out of brcmf_fws_init() when no firmware-signalling is asked
    If iovar to the firmware fails the firmware-signalling module
    During SDIO layer flow control signalling firmware can issue
    When firmware-signalling is active the brcmf_txcomplete() does
    a free of the sk_buff when transfer to firmware fails in the
    before sending to the firmware and handling the tx status signal.
    brcmfmac: add flow-control mode to firmware signalling
    Upcoming patches will add firmware signalled flow control. Prepare
    used to cleanup packet buffers from firmware-signalling code.
    brcmfmac: add firmware-signalling hanger functions
    The hanger for firmware-signalling is used to retain information for
    brcmfmac: perform filtered firmware-signalling cleanup upon DEL_IF
    associated information. In brcmfmac it is used to hold firmware
    brcmfmac: add firmware-signalling cleanup function
    brcmfmac: add handler for credit map firmware events
    The firmware signalling functionality needs the credit map firmware
    brcmfmac: handle firmware signal for updating mac descriptor info
    brcmfmac: hookup firmware signalling to firmware interface events
    to firmware freeing up the original packet. However, that packet is
    still referenced in firmware-signalling so this would result in a
    Nvram contains critical initialization parameter for firmware to run. Host
    chip and implement asynchronous firmware reading in the callback routine
      patterns. LP5562 driver supports the firmware interface and the predefined
      And 'engine_mux' is updated with the firmware interface is activated.
    Since the FIMC-IS firmware communicates with an image sensor directly
    Since the FIMC-IS firmware communicates with an image sensor directly
    Found problem on system that firmware that could handle pci aer.
    But after os boots, firmware can not get report anymore, even pci=noaer
    Current kernel code is using _OSC query to notify firmware about support
    That will have problem when pci=noaer or aer firmware_first is used.
    As firmware have that control set for os aer already in query support stage,
    ASoC: wm_adsp: Split ADSP1 and ADSP2 firmware controls
    ASoC: wm_adsp: Provide defines for firmwares
    For future work to have specific handling for some firmwares.
    [media] media: move dvb-usb-v2/cypress_firmware.c to media/common
    Loading the cypress firmware is not dvb specific and should be common
    ASoC: wm0010: Report filename when we fail to load firmware
    ASoC: wm0010: Constify usage of firmware filenames
    by the firmware as it hasn't heard a beacon yet. Before,
    firmware reject it again.
    v9: Reinstate the fix to properly ignore the firmware edp bpp ... this
    tg3: fix length overflow in VPD firmware parsing
    Limit the hardware's reported firmware string length (max 255 bytes) to
    stay inside the driver's firmware string length (32 bytes). On overflow,
    truncate the formatted firmware string instead of potentially overwriting
    driver/firmware (both from 1.9.4 to 1.9.7)"
    Fix settings not being applied when the device is idle and the firmware
    firmware; however, all versions of the firmware are affected.
    Currently, default VHT configuration from the firmware is used
    firmware based on input received from cfg.
    [media] au0828: improve firmware loading & locking
      to 0 since the tuner loses the firmware at that time.
    We retested with this AP and later firmware doesn't have this
    [media] go7007: don't continue if firmware can't be loaded
    The go7007 driver would continue during probe if no firmware could be
    loaded. Without firmware the probe() should return an error, so do that.
    by firmware for roaming statistics instead of the
    [media] go7007: drop firmware name in board config, make configs const
    The firmware is always the same, so drop it from the board configs. Also make
    Add support for the other devices that need to load the boot firmware.
    All firmware files are now placed in a single go7007 directory.
    firmware loader for any go7007 device, not just for the s2250/1.
    [media] go7007: remember boot firmware
    [media] s2250-loader: use usbv2_cypress_load_firmware
    [media] cypress_firmware: make checkpatch.pl happy
    [media] af9035: select firmware loader according to firmware
    AF9035 and IT9135 supports two different firmware format. Select
    correct loader according to first byte of firmware file.
    set up by the platform firmware and managed by hardware.  Software
    there's also a workaround to reset USB devices when the firmware upload
      PCI: Use ROM images from firmware only if no other ROM source available
    Some firmware exhibits a bug where the same VariableName and
    [    0.587123] sysfs: cannot create duplicate filename '/firmware/efi/vars/SbAslBufferPtrVar-01f33c25-764d-43ea-aeea-6b5a41f3f3e8'
    variable list once we hit this firmware bug. Our only solution is to
    VariableName, as not all firmware updates VariableNameSize in the same
      > On HP z220 system (firmware version 1.54), some EFI variables are
      > ls -d /sys/firmware/efi/vars/*8be4d* | grep -v -- -8be returns
      > /sys/firmware/efi/vars/dbxDefault-pport8be4df61-93ca-11d2-aa0d-00e098032b8c
      > /sys/firmware/efi/vars/KEKDefault-pport8be4df61-93ca-11d2-aa0d-00e098032b8c
      > /sys/firmware/efi/vars/SecureBoot-pport8be4df61-93ca-11d2-aa0d-00e098032b8c
      > /sys/firmware/efi/vars/SetupMode-Information8be4df61-93ca-11d2-aa0d-00e098032b8c
    We know that with some firmware implementations writing too much data to
    This driver can use several firmwares. Provide such info at
    module firmware metadata.
    [media] siano: use defines for firmware names
    There are too many firmwares there. As we need to add
    [media] siano: remove the bogus firmware lookup code
    [media] siano: simplify firmware lookup logic
    There are two ways to specify firmware for siano devices: a
    [media] siano: fix status report with old firmware and ISDB-T
    payload (this is what happens with sms2270 and firmware 8.1),
    Newer firmwares seem to require an init device message. Apply
    [media] siano: use the newer stats message for recent firmwares
    The old statistics request don't work with newer firmwares.
    Add a logic to use the newer stats if firmware major is 8.
    Note that I have only 2 devices here, one with firmware 2.1
    firmware 8.1. We may need to adjust the firmware minimal
    firmware versions between 2.x and 8.x.
            [   61.869415] smscore_load_firmware_family2: rc=0, postload=0x          (null)
            [ 1348.441160] smscore_load_firmware_family2: rc=0
    [media] siano: report the choosed firmware in debug
    Don't keep in the dark: report the firmware file name after
    lookup. That helps to debug what's happening when a firmware is not
    [media] siano: make load firmware logic to work with newer firmwares
    There are new firmwares for sms2xxx devices. Change the firmware
    load logic to handle those newer firmwares and devices.
    [media] siano: store firmware version
    As there are some changes that seem to be firmware-dependent,
    we need to store the firmware version, as we don't want to break
    custom) firmware.
    wakeup trigger code -- the firmware was changed to look at
    In firmware "listener" (monitor) mode, we still need to
    This feature is not implemented yet in firmware.
    PCI: Use ROM images from firmware only if no other ROM source available
    expects. There is no need to parse the vht cap from the firmware
    for its command response from firmware. If the function shutdown
    sent to firmware. Firmware expcets only FUNC_INIT once WLAN
    firmware errors like showed below and make 3945 device non usable.
    iwl3945 0000:02:00.0: Loaded firmware version: 15.32.2.9
    ath6kl: print firmware capabilities
    Printin the  firmware capabilities during the first firmware boot makes it easier to find out what
    features firmware supports.
    [21025.678667] ath6kl: firmware supports: sched-scan,sta-p2pdev-duplex,rsn-cap-override
    bluetooth: btmrvl_sdio: look for sd8688 firmware in proper location
    The firmware images are shared with libertas_sdio WiFi chip and used to be
    in libertas/ subtree in linux-firmware. As btmrvl_sdio used to look into
    the linux-firmware root, it ended up being unsuccessful. Since the
    firmware files are not specific to the libertas hardware, they're being
    netxen: write IP address to firmware when using bonding
    wil6210: sync with new firmware
    as previous firmware, no new features.
    New firmware allows for shorter SW reset procedure.
    [  207.272378]        [<ffffffff8135c76e>] _request_firmware+0x52e/0xb20
    [  207.272389]        [<ffffffff8135cdd6>] request_firmware+0x16/0x20
    [  207.272575]        [<ffffffff8135c7dd>] _request_firmware+0x59d/0xb20
    [  207.272587]        [<ffffffff8135cdd6>] request_firmware+0x16/0x20
    powerpc/85xx: Reserve a partition of NOR flash for QE ucode firmware
    Due to the partition of JFFS2 overlaps with QE ucode firmware, So JFFS2
    QE ucode firmware.
    Currently the caps are parsed on every firmware reload, causing any
    When there is a firmware to interface mode mismatch, the triggered
    firmware reload causes a reset of the regulatory settings, causing all
    To prevent this, only parse the caps on the first firmware load during
    orinoco_usb: don't release nonexistent firmware
    bogus pointer to release_firmware() when priv allocation fails.
    The me-2600i needs to have firmware uploaded to the board. Add a new
    field to the boardinfo, 'needs_firmware', to indicate this.
    Staging: bcm: potential forever loop verifying firmware
    There is an ioctl() to write data to the firmware.  After the data
    is written, it reads the databack from the firmware and compares
    firmware size is not a multiple of 4.  I've fixed it by replacing
    18) Fix various issues in benet driver wrt waiting for firmware to
    Commit 9f9c9cbb6057 ("drivers/firmware/dmi_scan.c: fetch dmi version
    a service patch firmware to the scratchpad for the boot code to execute. This
    A major portion of this patchset is refactoring the existing firmware download
    section to allow a cleaner merge of the 57766 download. The 57766 firmware
    differs from previous firmware in that it's not written to a contiguous area in
    The patchset makes an attempt to make the new firmware format to be an
    tg3: Download 57766 EEE service patch firmware
    This patch downloads the EEE service patch firmware and enables the necessary
    tg3: Enhance firmware download code to support fragmented firmware
    This lays the ground work to download the 57766 fragmented firmware. We
    tg3: Cleanup firmware parsing code
    The current firmware header parsing is complicated due to interpreting it as a
    u32 array and accessing header members via array offsets. Add tg3_firmware_hdr
    structure to access the firmware fields instead of hardcoding offsets. The same
    header format will be used for individual firmware fragments in the 57766.
    The 57766 rxcpu needs to be paused/resumed when we download the firmware just
    like we do for existing firmware. Refactor the pause/resume code to be
    tg3 used the fw_needed member loosely as a synonym for firmware TSO. Now
    that the 57766 needs firmware download support, fw_needed can no longer be
    The current MC firmware and driver discard the first two bytes of this
    older version of the firmware and driver.
    will try to enable PTP in the firmware using the enhanced mode
    (above). If the firmware returns an error, the driver will enable PTP
    in the firmware using the old mode.
    firmware upgrade. Resume to normal state once scm_blk_set_available is
      firmware bug, but still a regression because the device work as
    Appropriate packet filters for wowlan are configured in firmware
    start of data. This will be used for firmware signalling.
    brcmfmac: add support for TLV based firmware signalling
    The firmware and host can exchange signals which are carried within
    RSSI signals from firmware.
    brcmfmac: increase required skbuff headroom for firmware signalling
    In preparation of firmware signalling feature additional headroom is
    firmware.
    firmware:       brcm/brcmfmac-sdio.txt
    firmware:       brcm/brcmfmac-sdio.bin
    firmware:       brcm/brcmfmac43236b.bin
    mwl8k: Load 8764 firmware image
    a 8764 loads firmware image without a helper image
    b Add firmware support with API versioning
    brcmsmac: export firmware version to ethtool
    This exports the firmware version in use to userspace through ethtool.
    firmware-version: 610.812
    iwlwifi: move firmware restart debugfs hook to op_mode
    iwlwifi: mvm: update firmware API - MAC ID in RX
    The firmware tells the driver to what MACs the received frame
    is taken as a base to calculate TBTT. The firmware doesn't use
    When a station is added, we need to tell the firmware what
    the initial data, the firmware will track future changes
    With remote wake, the firmware creates a TCP connection
      $ sudo mount -v /sys/firmware/efi/efivars mount: Cannot allocate memory
      $ sudo mount -v /sys/firmware/efi/efivars mount: Cannot allocate memory
    the firmware to complete POST successfully. The original code would
    The patch forces the driver (be_eeh_reset) to wait the firmware
    available for the new virtual interface in the firmware.
    in the FSCR (Facility Status & Control Register) incase some firmwares don't
    /sys/firmware/acpi/hotplug/, one for each hotplug profile, containing
      ARM: dts: imx6q: Remove silicon version from SDMA firmware
      [SCSI] qla4xxx: Added support for force firmware dump
      [SCSI] qla4xxx: Throttle active IOCBs to firmware limits
    apparently fails to push the firmware to the device:
    Bluetooth: Downloading firmware failed!
    Bluetooth: Downloading firmware failed!
    ipmi: add options to disable openfirmware and PCI scanning
    Add try...  parameters to disable pci and platform (openfirmware) device
     - Cleanup code duplication in the EFI mixed kernel/firmware code - from
    garbage instead of being zeroed or something equivalent (firmware
      such as emu1010 firmware loading fixes, M-Audio AP192 SPDIF fix, and
      ALSA: emu10k1: Load firmware when it was already cached
      ALSA: emu10k1: Fix regression in emu1010 firmware loading
    to a multiple of 4 bytes by the firmware for transfer
    the MAC context might be removed from the firmware before
      leds-lp5523: use generic firmware interface
      leds-lp5521: use generic firmware interface
      leds-lp55xx: support firmware interface
      leds-lp55xx: add new lp55xx_register_sysfs() for the firmware interface
       - open firmware videomode and hdmi common code helpers
      ((&wl->firmware_load)){+.+.+.}, at: [<ffffffff81062160>] flush_work+0x0/0x2a0
    To summarize, commit 6b6fa58 added a 'cancel_work_sync(&wl->firmware_load)'
    ALSA: emu10k1: Load firmware when it was already cached
    The firmware also needs to be loaded when it was already cached.
    However, we can do better in some cases if the firmware help us.  This
    By using the firmware-provided maximum number of nodes instead of
    memory-hotplug: remove /sys/firmware/memmap/X sysfs
    When (hot)adding memory into system, /sys/firmware/memmap/X/{end, start,
    We cannot free firmware_map_entry which is allocated by bootmem because
          separately in firmware_map_find_entry() and
          firmware_map_remove_entry().  Hold the map_entries_lock across find
          and remove /sys/firmware/memmap/X operation.
    [tangchen@cn.fujitsu.com: reuse the storage of /sys/firmware/memmap/X/ allocated by bootmem]
    [tangchen@cn.fujitsu.com: fix the doc format in drivers/firmware/memmap.c]
         firmware trampoline (prom_init.c) on 64-bit by Anton Blanchard
    aer_acpi_firmware_first().
    fnic driver issues LUN RESET to firmware. On successful completion of device
    [SCSI] fnic: fixing issues in device and firmware reset code
    1. Handling overlapped firmware resets
         This fix serialize multiple firmware resets to avoid situation where fnic
         device fails to come up for link up event, when firmware resets are issued
         back to back. If there are overlapped firmware resets are issued,
         the firmware reset operation checks whether there is any firmware reset in
    4. Preventing IOs during firmware reset.
         Current fnic implementation allows IO submissions during firmware reset.
         This fix synchronizes IO submissions and firmware reset operations.
         firmware before firmware reset.
    increases, this causes a lot of traffic and busies the firmware.
    NULL.  In this context, if the firmware were to return an
    ALSA: emu10k1: Fix regression in emu1010 firmware loading
    This patch fix regression in emu1010 firmware loading after
    loop-reset and firmware's completion of link re-negotiation.  The
    original code incorrectly assumes that firmware AENs would arrive
    Avoid firmware glitch in Cypress PS/2 Trackpad firmware version 11
      firmware: Ignore abort check when no user-helper is used
      firmware: Reduce ifdef CONFIG_FW_LOADER_USER_HELPER
      firmware: Make user-mode helper optional
      firmware: Refactoring for splitting user-mode helper code
    Fix up trivial conflict in drivers/firmware/efivars.c
    completely hidden. This is the case of firmware-driven error
    IPoIB: Add version and firmware info to ethtool reporting
    Implement version info as well as report firmware version and bus info
    At this time, the only documentation for the device is the firmware
    It also fixes the missing audit for the return value of firmware download
    the wlconf structure to support newer firmwares."
       firmware, and is handled by the notification wait handler
    For the firmware to know when DTIM beacons arrive
    Work requests are passed between the host and the firmware with a
    firmware and back to host endianness on return.  This swapping seems
    But byte swapping isn't needed as the firmware doesn't actually touch
    With newer firmware, we can get streaming data due to connection
    With later firmware, the chances of getting streaming mode data after
      ARM: dts: imx6q: Remove silicon version from SDMA firmware
    the firmware to associated only after having received a
    Note that this is tricky: a firmware bug (that has
    efivarfs_file_write(), which means we can't rely on the firmware to
    handles base addresses and firmware detection.
    This patch updates the firmware version detection to pass
    Further it updates the firmware version detection, since the
    location of the firmware ID bytes in the designated memory
    hold the firmware information and a separate function to
    registers, firmware name, FW download block size, etc. from
    qlcnic: fix firmware based IDC participation
    Driver needs to stop participating in firmware based Inter Driver
    Register for firmware based Inter Driver Communication (IDC) using initialize
    ARM: dts: imx6q: Remove silicon version from SDMA firmware
    Remove silicon version from SDMA firmware.
    This makes it consistent with other i.MX SoCs firmware names.
    Base the DSP firmware transfer and communication timeouts on jiffy values.
    between firmware and driver. This was hidden because the
    the IF_ADD event from firmware.
    Upon receiving an IF event from the firmware the interface
    With upcoming P2P feature the firmware will send a IF event
    bit and WPA-PSK (TKIP) with firmware 2.13.1.0.lm87.arm (md5sum:
    firmware doesn't support changing the rates after the STA is started,
    affect backwards-compatibility with older firmwares.
    wlcore: use single-role version when verifying the PLT firmware
    The PLT firmware used by wl12xx for calibration always has the same
    version number as the single-role firmware.
    Currntly the driver rejects the PLT firmware since anything that is
    This core does not use a firmware or an eeprom.
    are removing the generic firmware driver (vesa/efi/offb), that a new driver
     Add leds-lp55xx.txt which includes the firmware interface description.
    leds-lp5523: use generic firmware interface
     LP55xx common driver provides generic firmware interface
     'firmware_cb' and 'run_engine'.
    leds-lp5521: use generic firmware interface
     LP55xx common driver provides generic firmware interface
     'firmware_cb' and 'run_engine'.
    leds-lp55xx: support firmware interface
     loading the firmware. ('select_engine' and 'run_engine')
     Register addresses for loading firmware data
     This sequence is almost same as the firmware interface.
     (2) Mode change to load                   : 'loading' of firmware class
     (3) Write pattern data into selected area : 'data' of firmware class
     echo 1 > /sys/class/firmware/lp5521/loading
     echo "4000600040FF6000" > /sys/class/firmware/lp5521/data
     echo 0 > /sys/class/firmware/lp5521/loading
     o 'engine_idx' and firmware data, 'fw'
    leds-lp55xx: add new lp55xx_register_sysfs() for the firmware interface
     This patch is the initial step for adding the firmware interface.
    it means downloading firmware into each one of them to execute
    [media] staging: media: go7007: firmware protection Protection for unfirmware load
    If no firmware was loaded (no exists,wrong or some error) then rmmod
    Fixed wrong condition in firmware reload function used by the watchdog.
    (dev_cap->flags holds the firmware capabilities).
    This is not needed with MVM firmware.
    for its bus interface after loading firmware into it. A driver
    ASoC: wm_adsp: Use asynchronous I/O to write firmware and coefficients
    the delay between transfers, reducing firmware download times.
    mtd: bcm47xxpart: register extra "firmware" partition
    checksum) and for writing a new firmware.
    firmware: Ignore abort check when no user-helper is used
    firmware: Reduce ifdef CONFIG_FW_LOADER_USER_HELPER
    By shuffling the code, reduce a few ifdefs in firmware_class.c.
    Also, firmware_buf fmt field is changed to is_pages_buf boolean for
    firmware: Make user-mode helper optional
    guards the user-helper codes in firmware_class.c with ifdefs.
    firmware: Refactoring for splitting user-mode helper code
    Since 3.7 kernel, the firmware loader can read the firmware files
    Without this patch, the /sys/bus/pci/devices/.../firmware_node symlink
    mwifiex: do not reconfigure tx buffer size in firmware while associating
    association can cause data path failure in firmware after
    The tx buffer reconfiguration is not really useful in firmware.
    Since the firmware will give us an A-MPDU bit and
    Newer firmware revisions have a completely new
    firmware API. This is the new driver for this
    net/mlx4_en: Don't reassign port mac address on firmware that supports it
    Mac reassignments should only be done when not supported by the firmware. To
    accomplish that, checking firmware capability bit to know whether we should
    net/mlx4_core: Use firmware driven flow steering hash mode
    to set hard coded hash configuration which is changed by the firmware from L2
    used to put obnoxious firmware into check on lid reopening.
      efivarfs: Never return ENOENT from firmware
    The new MVM (multi-virtual MAC) firmware driver
    The firmware TLV for calibration data isn't
    In case vring setup with the firmware failed,
    wil6210: Never delete Rx chain with firmware
    as reset is the only flow that removes Rx chain in the firmware.
    Strictly say, it is firmware issue - it should issue "disconnect"
    In the firmware, added is ability to report internal errors using IRQ.
    While using STA mode in the AP firmware, avoid
    calling some firmware commands which are not
    supported by the AP firmware.
    firmware types.
    Add and delete self entry in the firmware sta database
    firmware.
    Set mac type for station interface on AP firmware
    as secondary. This allows the firmware to set specific
    mwl8k: Allow adding station interface on AP firmware
    AP firmware is loaded & in-use, allow creating
    rt2x00: print chip and firmware version by default
    EFI firmware. Over time its semantics have changed, and it now
    bit-native firmware, e.g. 64-bit kernel with 64-bit firmware.
    scan_pending_q. Each scan command will be sent to firmware and
    next scan command in scan_pending_q to firmware.
    ASoC: wm_adsp: Fix support for firmware switching on DSP2 and higher
      ASoC: wm_adsp: Release firmware on error
    staging/fwserial: Assume firmware is OHCI-complaint
    [SCSI] qla4xxx: Added support for force firmware dump
    This patch force driver to collect firmware dump using following command:-
    [SCSI] qla4xxx: Throttle active IOCBs to firmware limits
    QLA4xxx firmware may assert if given more IOCBs than it can handle.
    on the total number of IOCB buffers received from get_firmware_status
    Removed unnecessary calls to qla4xxx_get_firmware_status from
    [SCSI] csiostor: Don't leak mem or fail to release firmware in csio_hw_flash_config()
    firmware. This should take care of the leaks.
    operations from firmware implementing the PSCI protocol.
    Some use cases like firmware download can transfer a lot of data in quick
    Maximise robustness for the widest range of firmwares by ensuring the DSP
    performance testing. The EFI firmware on my test box unfortunately no
    Performing the DUMP_ETH_STATS firmware command outside the lock leads to kernel
    qlcnic: set driver version in firmware
    ASoC: wm_adsp: Add speaker Tx as a firmware option
    vendor's firmware revision instead of that of the implemented EFI
    on the revision of the vendor's firmware since the version scheme is
      ACPI, APEI: Fixup incorrect 64-bit access width firmware bug
    response from AP, our firmware uses proprietary status codes.
    ASoC: wm_adsp: Release firmware on error
    This patch correctly releases the firmware if the magic string in the
    firmware header does not match.
    ASoC: wm_adsp: Release firmware on error
    This patch correctly releases the firmware if the magic string in the
    firmware header does not match.
    Some firmware releases of Gigaset M105 do not accept AT+VLS=0 command
    required for other Qualcomm firmware based MBIM devices.
    Some Sierra Wireless firmwares support CDC MBIM but have no CDC
    Windows uses too, which explains how the firmware bug has gone
    the firmware fb. The new code seems like a bugfix to me.
    drm: Load EDID: Explain better how to write your own EDID firmware
    A description was lacking how to write an EDID firmware file that
    ACPI, APEI: Fixup incorrect 64-bit access width firmware bug
    (ACPI, APEI: Fixup common access width firmware bug). Now there
    net/mlx4_core: Set number of msix vectors under SRIOV mode to firmware defaults
    mode to two can be removed completely, since the firmware sets num_eqs and
    efivarfs: Never return ENOENT from firmware
    is created in the firmware. This leads to users being able to
    firmware. Reading a non-existent variable currently returns -ENOENT,
    while interacting with firmware", and should hopefully indicate to the
    ASoC: wm5102: Add controls for firmware selection
    ASoC: wm2200: Add controls for firmware enumeration
    staging: comedi: deprecate loading firmware with comedi_config
    All the comedi drivers have been converted to use the request_firmware()
    firmware blob as 'aux_data' is no longer required.
    The name of the firmware (drv_datap->base_img) could potentially
    $ echo 1 > /sys/class/firmware/spi0.0/loading
    $ cat fpga_a4m2k.bit > /sys/class/firmware/spi0.0/data
    $ echo 0 > /sys/class/firmware/spi0.0/loading
    firmware: make sure the fw file size is not 0
    If the requested firmware file size is 0 bytes in the filesytem, we
        _request_firmware_load+0x220/0x6b0
        request_firmware+0x64/0xc8
        request_firmware_work_func+0x94/0x100
    iwlwifi: enable communication with WoWLAN firmware
    to the WoWLAN/D3 firmware in order to query it about
    82572, this can take too long and cause the firmware to take ownership of
    ALSA: hda/ca0132 - Declare firmware only when really built
    Revert "ALSA: hda - Add firmware caching to CA0132 codec"
    Since the recent firmware loader code supports caching at S3/S4 by
    for a similar firmware bug.
    SCP buffer transfer to the firmware.
    Finally, add verb tables for configuring DSP firmware.
    filesystems; MSDOS/VFAT for the SoC-required firmware partition, ext2/3/4
    RAM used by the VideoCore is dynamic at boot-time; a firmware config
    basic firmware does if it boots the kernel directly; users may need to
    This patch just skips the clearing of any ASPM setup that the firmware has
    "firmware_node" and "physical_node" files for them, but currently
    ASoC: wm_adsp: Add basic firmware selection support
    There are many firmwares available for ADSP devices. Add basic support
    set of available firmware to start off with.
    Some touchscreens have buggy firmware which claims
    This case may happen if a firmware has a bug and
    it returns without accessing to a firmware to avoid the deadlock.
    This case may happen if a firmware has a bug and
     - cpuA grabs psinfo->buf_lock and stucks in a firmware
    operations from firmware implementing the PSCI protocol.
    ARM: psci: add devicetree binding for describing PSCI firmware
    This patch adds a new devicetree binding for describing PSCI firmware
    With Hard-Wired firmware configuration it was incorrectly provisioning the VFs
    IBM Blue Gene/Q comes with some very strange firmware that I'm trying to get out
    (using the firmware) and have them enter the kexec stub, pre-translated at the
    virtual "linear" address, never touching firmware again.
    this to using the firmware_feature_table.
    powerpc/pseries: Allow firmware features to match partial strings
    This allows firmware_features_table names to add a '*' at the end so that only
    When a '*' is added, only upto the '*' is matched when setting firmware feature
      PCI/ACPI: Reserve firmware-allocated resources for hot-added root buses
      x86/PCI: Don't track firmware-assigned BAR values for hot-added devices
    functionality on firmware load, however it does affect other clocks
    PCI/ACPI: Reserve firmware-allocated resources for hot-added root buses
    x86/PCI: Don't track firmware-assigned BAR values for hot-added devices
    mwl8k: bump firmware API to 3
    New firmware is required to support
    Bumping firmware API version by one.
    are empty. Whenever watchdog event is raised, firmware
    We know 'firmware' is non-NULL from the beginning of mwifiex_prog_fw_w_helper,
    remove all !firmware paths from the rest of the function.
    identifiers to event names. With redesign of firmware event
    brcmfmac: assure USB dongle firmware is reset upon module unload
    Upon unloading the brcmfmac module the USB firmware should be reset
    Set bitrate_mask is not desired anymore. The firmware will
    Power save support was removed from iwlegacy due to possible firmware
    the carl9170 firmware. The default number of
    supported interfaces for all current firmwares is 2.
    custom firmwares.
    carl9170: import 1.9.7 firmware headers
    Import new headers from my firmware branch:
    b43: Fix firmware loading when driver is built into the kernel
    Recent versions of udev cause synchronous firmware loading from the
    out. The original fix for b43 (commit 6b6fa58) moved the firmware
    firmware loading. This method is OK when b43 is built as a module;
    This version changes the code to load the initial firmware file
    using request_firmware_nowait(). A completion event is used to
    reads several firmware files - the remainder can be read synchronously.
    staging: vt6656: channel/control/firmware/int/usbpipe to new structures
      MAINTAINERS: remove firmware/isci/
    Detect NVRAM types for 5762 and read OTP firmware version.
    [media] s5p-mfc: Move firmware allocation point to avoid allocation problems
    Move firmware allocation from open to probe to avoid problems
    [media] af9035: print warning when firmware is bad
    MAINTAINERS: remove firmware/isci/
    This directory was removed by commit 7d99b3abaf84 ("isci, firmware:
    firmware, QCA maintains the device driver.
    - Monitor: due to a hardware/firmware limitation
    firmware, the cards comes pre-flashed and no firmware
    added to both the interrupt based aer path and the firmware first path.
    There's a bug in the currently released firmware version,
    with PS3 since firmware 3.50, as they decided to prevent those
    whereas WL-682 is a ISL3887 (LM87 firmware)]
    NL80211_IFTYPE_MESH_POINT support if the firmware has Content
    qlcnic: flash template based firmware reset recovery
    firmware. These instructions are abstracted as a series of read, write and
    Template based firmware reset recovery and initialization mechanism minimize
    driver changes as firmware evolves.
    firmware error recovery.
    address in the parsing BD. This is used for firmware validation
    [media] get_dvb_firmware: Fix the location of firmware for Terratec HTC
    Fix firmware download for the Terratec Cinergy HTC Stick HD. The file
    [media] ds3000: bail out early on i2c failures during firmware load
       upload the remaining bytes of the firmware.
    The firmware can be downloaded with:
    $ ./Documentation/dvb/get_dvb_firmware vp7049
    [media] get_dvb_firmware: add entry for the vp7049 firmware
    Add an entry to download the dvb-usb-vp7049-0.95.fw firmware for the
    drivers/firmware/dmi_scan.c: fetch dmi version from SMBIOS if it exists
    drivers/firmware/dmi_scan.c: check dmi version when get system uuid
    It establishes passive open connection through firmware work request. Passive
    firmware work request.
    Sets ntuple bits in active open requests. For T4 firmware greater than 1.4.10.0
      solos-pci: add firmware upgrade support for new models
    solos-pci: add firmware upgrade support for new models
    the wrong firmware command to be called, fix it.
    It supports establishing passive open connection through firmware filter work
    Note that this fixes a NULL deref at BIOS takeover when the firmware
       CC      drivers/firmware/efivars.o
      drivers/firmware/efivars.c: In function efivarfs_get_inode:
      drivers/firmware/efivars.c:886:31: error: incompatible types when assigning to type kgid_t from type int
      make[2]: *** [drivers/firmware/efivars.o] Error 1
      make[1]: *** [drivers/firmware/efivars.o] Error 2
       - Clean ups in many drivers regarding firmware loading
    MIPS: Kconfig: Rename several firmware related config symbols.
    MIPS: Kconfig: Enable drivers/firmware/Kconfig
    This allows the use of /sys/firmware/memmap for MIPS platforms.
    kexec-tools may use /sys/firmware/memmap though current versions parse
     -      Modified the firmware naming convention to contain the firmware image
            <firmware-image>-<firmware-version>.bin The change will enforce loading
            only compatible firmware with this driver and also avoid over-writing
            the old firmware image in-order to load new version driver as the
            firmware names used to be the same.
      also deleted some unused firmware files, and got rid of the very old
      iio:imu: adis16480: show_firmware() buffer too small
      some firmware loading updates and other minor things in the driver
    content via firmware API) smatch complains about that
    ath9k: allow to load EEPROM content via firmware API
    data via the firmware API to avoid this limitation.
    b43legacy: Fix firmware loading when driver is built into the kernel
    Recent versions of udev cause synchronous firmware loading from the
    The original fix for b43legacy (commit a3ea2c7) moved the firmware
    firmware loading. This method is OK when b43legacy is built as a module;
    This version changes the code to load the initial firmware file
    using request_firmware_nowait(). A completion event is used to
    firmware files are read synchronously.
    BCM4716/4717/4718 SoCs. The firmware version 610.812 for brcmsmac found
    in linux-firmware does not support these cores, but a firmware
    firmware file.
    OPAL firmware patches the machine check interrupt vector so that it
    deleting the Connection ID.  This will prevent the firmware assert.
    all the current firmwares support elp, so
    wl18xx: ignore irrelevant firmware version fields
    Previously we were only checking the single-role firmware version.
    Now add code to check for the firmware versions separately for each
    firmware type.
    wl12xx: ignore some of the firmware version fields
    The firmware type and the project number fields in the firmware
    because the former is the firmware type and the latter is an internal
    wlcore: change way of checking the firmware version
    The firmwares version string contain 5 integers.  We used to consider
    some of the integers indicate type of firmware (eg. single-role
    firmware version checks more flexible (eg. allow the lower driver to
    We don't distinguish between STA and AP firmwares anymore, so the
    firmware version checking and quirks setting in wl12xx isn't needed
    wlcore: gather information about firmware stability
    It's sometimes useful to gather information about the firmware
    devices based on the OXUF936QSE chip but having different firmwares,
    and did not encounter any apparent firmware bugs with it.  All devices
    2. Fix spurious failure of a firmware request running during a system
    3. Fix inconsistent statistics after a firmware upgrade.
    only happen immediately after a firmware upgrade it's not really worth
    CLP instructions are used to query the firmware about detected PCI
    iio:imu: adis16480: show_firmware() buffer too small
    firmware reset").
    without OpRegion support, where the firmware changes the display hw
       7) Ambassador ATM driver loops forever while loading firmware, fix
      atm: forever loop loading ambassador firmware
    Will allow use of the engine if firmware (nvXX_fuc086) provided.
    Will allow use of the engine if firmware (nvXX_fuc086) provided.
    Will allow use of the engine if firmware (nvXX_fuc085) provided.
    Will allow use of the engine if firmware (nvXX_fuc084) provided.
    Will allow use of the engine if firmware (nvXX_fuc085) provided.
    Will allow use of the engine if firmware (nvXX_fuc084) provided.
    we have a number of cleanups, message reduction, firmware error
    "Major changes this time are firmware recover support to gracefully
    handle if firmware crashes, support for changing regulatory domain and
    atm: forever loop loading ambassador firmware
    request_firmware() back in 2008.
    ALSA: hda - Add firmware caching to CA0132 codec
    ALSA: hda - Update CA0132 codec to load DSP firmware binary
    firmware install location and transfer it over to the chip using the new DSP
    - Add calls to new DSP loader system to transfer firmware to the hardware.
    1) If DSP firmware loader is enabled, ca0132_download_dsp() is called
    2) Driver requests DSP image using request_firmware().
    ALSA: hda - Add DSP firmware enums and defs to CA0132 codec
    Add new DSP loader switch to Kconfig to turn off DSP firmware.
    firmware. Incase the firmware does not
    firmware will shutdown the system.
    The firmware version of the Kvaser device was 2.5.205.
    This patch contains updates to firmware/hardware header files shared
    The request_firmware interface can induce delays while looking
    for firmware files, even if no fw file is present. In some situations
    Change request_firmware use to be module paramater driven. Default is to
    not attempt firmware download on boot. Add sysfs parameter to invoke
    firmware update.
    And we wouldn't expect all firmware to handle it gracefully.
    The info record at the start of the dsp firmware file has been
    ds3000_firmware_ondemand() is called only once during init. This
    locking scheme may have been useful when the firmware was loaded at
    ALSA: emu10k1: don't update firmware during suspend/resume
    Add a flag to suppress the update in emu1010_firmware_thread() during
    ALSA: emu10k1: cache emu1010 firmware
    Instead of calling request_firmware() at each time, keep the obtained
    firmware internally and reuse it.
    ALSA: hdsp: improve firmware caching
    As the recent firmware code tries to reread and cache the firmware by
    itself, it's even better to keep the struct firmware data instead of
    Last, but not least, allocate the firmware data loaded via ioctl in
    vmalloc'ed buffer instead, as the firmware size isn't that small.
    ALSA: hda - Don't release firmware when CONFIG_PM is set
    The new firmware code tries to re-read the formerly read firmware
    files before suspend.  Thus it's wiser to keep the "patch" firmware in
    firmware code from vx driver (snd-vxpocket and snd-vx222).
    It makes no longer sense to keep the old hwdep user-space firmware
    firmware has provided us a way to power off the device during runtime.
    firmware: remove last vestiges of dabusb
    obsolete driver"), so remove the last vestiges of firmware and
    the "sniffer" firmware mode."
    drm/radeon: check alloc_apertures() success in radeon_kick_out_firmware_fb()
    drm/cirrus: check alloc_apertures() success in cirrus_kick_out_firmware_fb()
    to enable MFP since the firmware interprets some
    for the primary interface. When handling IF ADD events the firmware
    brcmfmac: correct handling IF firmware event
    brcmfmac: cleanup of usb firmware download routines
    Clean code related to firmware download routines. Remove obsolete
    brcmfmac: rework firmware event handling code
    Handling of firmware event has been reworked into a seperate
    code file. The change is needed as firmware event can be received
    mwl8k: Send BASTREAM firmware commands per vif
    The firmware supports 8 macid's corresponding to 8 BSS that can be
    As ath6kl firmware can't do intersections the driver should only listen
    OPAL provides the firmware base/entry in registers at boot time
    firmware loader: document firmware cache mechanism
    This patch documents the firmware cache mechanism so that
    users of request_firmware() know that it can be called
    the device's firmware needn't be cached any more by individual
    driver itself to deal with firmware loss during system resume.
    firmware loader: introduce module parameter to customize(v4) fw search path
    This patch introduces one module parameter of 'path' in firmware_class
    to support customizing firmware image search path, so that people can
    use its own firmware path if the default built-in paths can't meet their
    parameter when 'firmware_class' is built in kernel:
            firmware_class.path=$CUSTOMIZED_PATH
    firmware: use noinline_for_stack
    firmware loader: Fix the concurrent request_firmware() race for kref_get/put
    There is one race that both request_firmware() with the same
    firmware name.
    request_firmware() -->
    _request_firmware_load() return err                   another request_firmware() is coming -->
    _request_firmware_cleanup is called -->               _request_firmware_prepare -->
    release_firmware --->                                 fw_lookup_and_allocate_buf -->
    firmware loader: Fix the race FW_STATUS_DONE is followed by class_timeout
    There is a race as below when calling request_firmware():
    and request_firmware() will return failure due to condition in
    _request_firmware_load():
    In STA mode, this field is unused in the firmware. In AP
    brcmfmac: use struct brcmf_if parameter in firmware event callbacks
    then firmware would return error. Checking was added to
    firmware, it should just pass the data buffer instead.
    the refactored firmware interface layer made this function obsolete.
    all information needed for interfacing with firmware. As
    refactored firmware interface layer. Remove obsolete brcmf_proto_dcmd
    When command timeout happens due to a bug in firmware/hardware,
    firmware will be re-downloaded.
    libertas_sdio: failed to load firmware
    When the firmware is in SNIFFER mode, it leaves
    Interface 5 is for firmware updates and I'm not sure how to get
    "firmware_version" attribute.
    MIPS: lantiq: adds GPHY firmware loader
    The internal GPHYs need a firmware blob to function properly. This patch adds
    firmware is supporting. The table is then provided through to the
    Make the wanxl firmware array const
    Make the wanxl firmware array const so that it goes in the read-only section.
    Fix the wanxl firmware to include missing constants
    Fix the wanxl firmware to include missing constants such as PARITY_NONE.  It
    UAPI: Fix compilation of the wanxl firmware blob.
    The wanxl firmware needs access to some bits of UAPI stuff, so the -I flag in
    When a firmware error occurs, don't just abort synchronous
    Blocking is done until a new firmware image is loaded.
    On resume or firmware recovery, mac80211 sends a null
    ASoC: wm0010: Split out the firmware file parsing from the boot
    Move the firmware load and record parsing functionality out into
    firmware API in the flush control.
    Added binary attribute info for this purpose, which obsoletes firmware_version
    If T4 configuration file gets loaded from the /lib/firmware/cxgb4/ directory
    Also, in the instructions indicating where to put the firmware file,
    firmware file by name.
        ASUS machines no longer booting due to a firmware bug, and so was
        firmware was merged in 03a1c254975e ("x86, efi: 1:1 pagetable
    Some firmware still needs a 1:1 (virt->phys) mapping even after we've
    This bug was discovered on ASUS machines where the firmware
    informed the firmware via SetVirtualAddressMap() that the boottime
    time. Some broken implementations of EFI firmware require these
    efivars kobject to efi_kobj for create a /sys/firmware/efi/efivars
    This change re-reads the updated variable from firmware, to check for
    igb: Update firmware version info for ethtool output.
    modify the setup code to use the refactored firmware interface layer.
    firmware related interfaces will be associated with a net_device. To
    accomodate provisioning firmware for such interfaces the struct
    The firmware carries channel information in a different format
    The firmware interface has functions to send bsscfg specific commands
    this functions are used that bypass the common firmware interface.
    When the firmware notifies the driver about adding a new interface
    of firmware interface layer.
    brcmfmac: change testmode command to use new firmware interface layer
    switch to new firmware interface layer and remove redundant code.
    brcmfmac: refactor firmware interface layer.
    data to and and from the firmware.
    to firmware.
    firmware will turn off the filtering of scan responses from
    BT firmware will send a new profile A2DP_Voice in this case. So WLAN
    causes BT firmware to busy with security key calculation. At this
    Thus it solves BT firmware panic issue reported in AR9565.
    based on its firmware/hardware limitation, cfg80211
    drivers/media/tuners/xc4000.c: In function check_firmware:
    firmware: use noinline_for_stack
    drivers/media/pci/cx88/cx88-blackbird.c: In function 'blackbird_load_firmware':
    drivers/media/usb/dvb-usb-v2/lmedm04.c:802:13: warning: no previous prototype for 'lme_firmware_switch' [-Wmissing-prototypes]
    drivers/media/pci/ivtv/ivtv-firmware.c:279:5: warning: no previous prototype for 'ivtv_firmware_restart' [-Wmissing-prototypes]
      b43: Fix oops on unload when firmware not found
     "Here are a number of firmware core fixes for 3.7, and some other minor
      firmware loader: document kernel direct loading
      firmware loader: sync firmware cache by async_synchronize_full_domain
      firmware loader: let direct loading back on 'firmware_buf'
      firmware loader: fix one reqeust_firmware race
      firmware loader: cancel uncache work before caching firmware
        drm/i915: kick any firmware framebuffers before claiming the gtt
     "Fix oops with EFI variables on mixed 32/64-bit firmware/kernels and
    feature should be set after the other PHY settings. And the firmware
    is necessary. Don't enable it without loading the firmware.
    None of the firmware-free chipsets support ALDPS. Neither do the
    firmware. For 8168 series, the ALDPS would be disabled automatically
    when loading firmware. You must not disable it directly.
    firmware loader: document kernel direct loading
    This patch adds description on recently introduced direct firmware
    - the "HTC USB XS HD" uses the same firmware as the "HTC Stick HD";
    b43: Fix oops on unload when firmware not found
    When b43 fails to find firmware when loaded, a subsequent unload will
    AR6004(UB134) firmware supports only LP Endpoint, So map
    mapped in sync with the firmware.
    to the firmware in minutes. For now we will cleanup the
    firmware results in connection failures after recovery
    from firmware error is disabled by default to debug
    of firmware recovery configuration. This would help to have
    periodic message (heart beat challenge) to firmware. Upon reception
    This patch reflects changes in the firmware scheduled scan
    To maintain graceful failure with old firmwares, a new firmware
    Since firmwares from here on out won't support the previous implicit API
    for scheduled scan (set WoW filters and host sleep), bump the firmware
    Unfortunately, due to firmware RAM constraints ath6kl still cannot
    If the firmware decides to initiate a channel switch on an AP vif
    mismatch after a channel switch, since the firmware apparently clears
    When an ath6kl STA vif is issued a connect command, the firmware will
    Starting WoW in firmware and setting host sleep mode is still handled on
    No firmware capability bits or API bump is needed for this patch, as
    and used that also in the firmware WMI interface definitions. But after
    The ath6kl firmware can monitor a connection and report when a certain
    reporting on compatible firmwares.
    firmware and driver individually generate the MAC addresses, introduce a new
    firmware capability bit to keep them compatible.
    The ath6kl firmware can filter scan results based on rssi. This is
    if the firmware doesn't support MFP then the user shouldn't
    net: cdc_ncm: workaround NTB input size firmware bug
    functionality.  This works around the known firmware bug, and
    staging: slicoss: fail out if we dont have a valid firmware file
    fail instead calling request_firmware with filename as a null string
    staging: vt6656: Keep firmware loading local and release firware.
    When done release firmware and if the need be request firmware again.
    stuff.  However, Openfirmware has already done this for us, so there's no
    firmware loader: sync firmware cache by async_synchronize_full_domain
    so use async_synchronize_full_domain to sync caching firmware instead
    firmware loader: let direct loading back on 'firmware_buf'
    Firstly 'firmware_buf' is introduced to make all loading requests
    to share one firmware kernel buffer, so firmware_buf should
    be used in direct loading for saving memory and speedup firmware
            abb139e75c2cdbb955e840d6331cb5863e409d0e(firmware:teach
            the kernel to load firmware files directly from the filesystem)
    bypasses the firmware cache meachnism, so this patch enables
    caching firmware for direct loading case since it is still needed
    firmware loader: fix one reqeust_firmware race
    firmware buf, and this patch moves fw_map_pages_buf()
    firmware loader: cancel uncache work before caching firmware
    before caching firmware during next suspend.
    This patch cancels the uncache work before caching firmware to
    Also this patch optimizes the cacheing firmware mechanism a bit by
    only storing one firmware cache entry for one firmware image.
    So if the firmware is still cached during suspend, it doesn't need
    staging/gdm72xx: sdio_boot: replace firmware upgrade API
    Replace firmware upgrade API in download_image().
    Buggy firmware leads to bad things happening otherwise..
      firmware/memmap: avoid type conflicts with the generic memmap_init()
    firmware/memmap: avoid type conflicts with the generic memmap_init()
      drivers/firmware/memmap.c:240:19: error: conflicting types for 'memmap_init'
    carl9170: handle traps from firmware loader
    While the carl9170 firmware does not use this
    firmware loader on the device does. It uses it
    in case the firmware/hardware has crashed.
    other devices); iwlwifi firmware would assert if
    archscripts depends on scripts_basic") and c1c1a59e37da ("firmware: fix
    ASoC: wm8958: Load firmwares simultaneously
    As of commit 99c2aa (firmware loader: fix creation failure of fw loader
    device) we can have more than one firmware request outstanding at once so
      [media] ds3000: add module parameter to force firmware upload
      [media] ds3000: add module parameter to force firmware upload
         firmware no longer sets up all pin states before starting the
    firmware/cis/PCMLM28.cis.gen.S:1:0: warning: target CPU does not support THUMB instructions [enabled by default]
    Load io_request->DataLength in bytes for newer firmware that supports high
         firmware loading code.  Other than that, most of changes in
    from firmware when connection is lost in different scenarios.
    firmware event body and send it to cfg80211.
    firmware when association attempt fails. Also, the error message
    [SCSI] lpfc 8.3.35: Correct request_firmware use that was increasing boot times
    [SCSI] lpfc 8.3.35: Fixed Linux generic firmware download on SLI4 devices with longer module names
    firmware is now loaded asyncrousnly there.
    [media] ds3000: add module parameter to force firmware upload
    Note that the firmware already disables the receiver before transmit,
    - Modified the firmware naming convention to contain the
      firmware image version (3.1.0.0).
    - The new convention is <firmware-image>-<firmware-version>.bin
    - The change will enforce loading only compatible firmware with this driver
      and also avoid over-writing the old firmware image in-order to load new
      version driver as the firmware names used to be the same.
    [SCSI] bfa: Fix to handle firmware tskim abort request response
    - Handle the tskim abort response from firmware in the
          without your firmware fix patch.  This way, Greg doesn't need to
          rush backporting your patch (as there are still the firmware cache
          and firmware path customization issues to be addressed there).
          reverting the rest of the DRX-K async firmware request, fully
      em28xx: regression fix: use DRX-K sync firmware requests on em28xx
      drxk: allow loading firmware synchrousnously
    /sys/device/<bus>/<bridge path>/<device path>.../firmware_node/description
    /sys/devices/pci0000:00/0000:00.07.0/0000:0e:00.0/firmware_node/description
    Adds register definitions for MFC v6.x firmware
    firmware v6. Also the shared memory management files are removed
    be provided along with the firmware files. Currently only coefficient
    Support download and execution of firmwares to the DSPs on the WM2200.
      em28xx: regression fix: use DRX-K sync firmware requests on em28xx
      drxk: allow loading firmware synchrousnously
    firmware: use 'kernel_read()' to read firmware into kernel buffer
    Fengguang correctly points out that the firmware reading should not use
    and could fail for other users of the firmware loading.
       reset the remote processor and reload the firmware (resulting in the
    firmware: teach the kernel to load firmware files directly from the filesystem
    device firmware.  Current versions of udev will deadlock (causing us to
    firmware is loaded as part of the module initialization path, and this
    The current patch hardcodes the firmware path that udev uses by default,
    and will fall back to the legacy udev mode if the firmware cannot be
    em28xx: regression fix: use DRX-K sync firmware requests on em28xx
    no need anymore for a separate thread to load the DRX-K firmware.
    and asynchronous DRX-K firmware load.
    drxk: allow loading firmware synchrousnously
    Due to udev-182, the firmware load was changed to be async, as
    otherwise udev would give up of loading a firmware.
    Add an option to return to the previous behaviour, async firmware
    having all DVB firmwares loaded synchronously with udev-182.
    2. Fix firmware structure field lookup bug that resulted in missing
    which was recently submitted into the linux-firmware tree.
    in the linux-firmware git repository.
      removing a firmware file and adding a staging tty driver (it depended
      A number of firmware_class.c updates (as you saw a month or so ago),
      x86, microcode: Add a refresh firmware flag to ->request_microcode_fw
      x86, EFI: Calculate the EFI framebuffer size instead of trusting the firmware
    tda1004x: Lock I2C bus during firmware load
    tda1004x doesn't allow firmware loads while it is busy with something
    else. Avoid it to happen by locking the I2C bus during firmware transfer.
    In the current driver, the SENSE_PORT firmware command is issued as a
    The latest ConnectX-3 2.11.500 firmware reports the SENSE_PORT
    The MAD_IFC firmware command fulfills two functions.
    get_dvb_firmware: fix download site for tda10046 firmware
    firmware control packets over usb are async acked. This is
    b43legacy: Fix crash on unload when firmware not available
    When b43legacy is loaded without the firmware being available, a following
    The firmware has support for this feature, so we offload it to
    firmware. In start_ap, driver passes the inactivity timeout
    value to firmware via TLVs and firmware will report STA_DEAUTH
    P2P mode config commands to firmware and set bss role and bss
    send P2P mode config commands to firmware.
    Due to firmware design, driver needs to add a default P2P interface
    mwifiex: send firmware initialization commands synchronously
    The driver will send some commands to firmware during the
    Process the management frames received from firmware and report
    a wrapped-around negative value. It turns out that some firmware uses
    information is correct and print out a firmware bug message
    cxgb4: Don't attempt to upgrade T4 firmware when cxgb4 will end up as a slave
    firmware.  This routine handles all of the complexities of working with the
    the existing adapter firmware in order to quiesce the adapter and uP, etc.
    want/can upgrade firmware, i.e. if cxgb4 is MASTER and has newer firmware
    Note that it should not issue a RESET command after a successful firmware
    cxgb4: Inform caller if driver didn't upgrade firmware
    If a card had already been initialized, on reloading cxgb4 driver firmware
    caller know the firmware was not upgraded so a reset would be issued before
    In case if user defined configuration file at /lib/firmware/cxgb4/t4-config.txt
    Starting with T4 firmware version 1.3.11.0 the firmware now supports device
    1) User defined configuration file: /lib/firmware/cxgb4/t4-config.txt
    [media] cypress_firmware: refactor firmware downloading
    Refactor firmware download function. It also should fix one bug
    [media] cypress_firmware: use Kernel dev_foo() logging
    request_firmware(). Since request_firmware() relies on udevd, the
    initialization only after the firmware request is over.
    op. By doing this, wlcore_probe will be the first to request a firmware
    Declare any firmware that might be used by this driver.
    If all drivers declare their firmware usage, then a sufficiently
    complete list of firmware files can then be used to pare down
    the external linux-firmware package to just the files in actual use.
    [media] media: coda: firmware loading for 64-bit AXI bus width
    Add support for loading a raw firmware with 16-bit chars ordered in
      in firmware. So for now we have an SHDLC and a NOP LLC layers.
    /sys/firmware/acpi/tables/dynamic
    As all current (and old) firmwares corrupt
    For suspend/resume it is necessary to store firmware in memory.
    list of firmwares was created.
    command. Hence the command is downloaded to firmware only after
    brcmfmac: simplify handling e-scan result firmware event
    Upon handling an e-scan result event from the firmware in
    firmware.
    Inside ath9k_hif_usb_firmware_fail(), the instance of
    ath9k_hif_usb_firmware_fail().
    If such bit exists on a given CPU, it must be set by the firmware or
    while processing the stop firmware mailbox command on driver unload,
     [<f98c0f70>] qla4xxx_init_firmware+0x40/0xf0 [qla4xxx]
    [SCSI] qla2xxx: Dont call nic restart firmware if it is already active and running.
      previous attempt at fixing make firmware_install with make 3.82.
      firmware: fix directory creation rule matching with make 3.80
    /sys/firmware/acpi/tables/dynamic
    The qla2xxx firmware actually expects the task management response
    This driver adds custom firmware handlers, because
    STE modem uses a custom firmware layout.
    staging: comedi: me_daq: use request_firmware()
    This driver requires loading a firmware file for the fpga. This
    is currently being done by passing the firmware data using the
    firmware loading options not being set in the comedi_devconfig
    Change the driver so it gets the firmware using request_firmware()
    and ignore any firmware options passed in the comedi_devconfig.
    the firmware for the device from the comedi_config utility. It
    now uses request_firmware_nowait() in the usb_driver probe to
    get this firmware.
    the firmware for the device from the comedi_config utility. It
    now uses request_firmware_nowait() in the usb_driver probe to
    get this firmware.
    the firmware for the device from the comedi_config utility. It
    now uses request_firmware_nowait() in the usb_driver probe to
    get this firmware.
    firmware: fix directory creation rule matching with make 3.80
    rule to create firmware directories which is matched after primary
    6c7080a61fc7 [firmware: fix directory creation rule matching with make
    firmware directory (ie. $(dir %) gives './'). Versions of make prior
    $(dir %) when % is in the base firmware directory and as such continue
    4. Fix for potential over-length requests to firmware.
    v2: use firmware flags
    v2: store all the firmware flags, not just BL control
    As such, the ask-reply way to checking picoLCD firmware version during
    to firmware data within a designated element (or two elements for 64-bit
    value.  It needs to be treated as a `__user` pointer so the firmware
    staging: comedi: daqboard2000: use request_firmware()
    This driver requires loading a firmware file for the cpld. This
    is currently being done by passing the firmware data using the
    firmware loading options not being set in the comedi_devconfig
    Change the driver so it gets the firmware using request_firmware()
    and ignore any firmware options passed in the comedi_devconfig.
    sfc: Convert firmware subtypes to native byte order in efx_mcdi_get_board_cfg()
    subtype numbers and are not recognised by the firmware update tool
    USB: ezusb: add functions for firmware download
    This patch adds new functions to upload firmware to the controller. The
    This also fixes a bug occuring during firmware loading in the
    The driver iterates over an ihex-formatted firmware using ++ on a "const
    cooperatively with the firmware, without the firmware clobbering the
    But in case that there are really firmwares out there that clobber the
    staging/gdm72xx: usb_boot: replace firmware upgrade API in em_download
    Replace firmware upgrade API in em_download_image().
    and it should ideally be pushed to firmware.
    firmware to control overflow packets.  When this control bit gets enabled
    x86, EFI: Calculate the EFI framebuffer size instead of trusting the firmware
    staging: comedi: ni_pcidio: use request_firmware()
    The PCI-6534 needs three firmware files loading to work with the driver.
    That is currently done by passing the firmware data using the
    firmware-loading options set in the `struct comedi_devconfig *`
    Change the driver to request the firmware files using
    `request_firmware()`, ignoring any firmware-loading options set in the
    "scarabs".  Scarab A is loaded with firmware to support digital input
    mode, and scarab B is loaded with firmware to support digital output
    I don't think the order of loading the scarab firmwares matters as long
    as they are loaded with the correct firmware files.  This update loads
    firmware files are loaded in the following order:
    The required firmware files can be found in the
    "comedi-nonfree-firmware" tar-ball at
    <http://www.comedi.org/download/comedi-nonfree-firmware-2007.06.22.tar.gz>.
    to loading the wrong firmware for RTL8188CE devices.
    firmware bootstrap sequence.  Likewise its calendar manipulation commands
    staging/gdm72xx: usb_boot: replace firmware upgrade API
    Replace file I/O of reading firmware usb_boot()
    by request_firmware().
    brcmfmac: Add extra data support to firmware event queueing.
    include selection of the wrong firmware, and system lockup. A full
    fixes the problem with loading the wrong firmware, and logs a message
      module because of the firmware loader.
    CMD_MAC_CONTROL is currently sent async to the firmware, and is sent
    from the lbs_setup_firmware() path during device init.
    lbs_setup_firmware() path.
    AP's country ie is parsed and 11d information is updated in firmware
    firmware: Add missing attributes to EFI variable attribute print out from sysfs
    /sys/firmware/efi/vars/*/attributes. This patch adds those in. It also
    firmware loader: fix compile warning when CONFIG_PM=n
    CONFIG_PM_SLEEP becasue firmware cache is only used in
            drivers/base/firmware_class.c:1147: warning: 'device_cache_fw_images'
            drivers/base/firmware_class.c:1212: warning:
    firmware to use native EEE instead of auto-greeen.
    the firmware attribute check assumes the system is little endian and
    demo firmware application.  This is a device with a single
    the intention of demonstrating CDC ACM class firmware and
    firmware, emulating FTDI chips. Attempting to continue to
    iwlwifi: load firmware in chunks
    memory for the firmware and keeping it around, only
    vmalloc() the firmware and copy it into a single
    the firmware image that is stored while the driver
    field to figure out special workarounds for a given firmware revision.
       number, or unified PE address assigned by firmware or
    firmware.
    for testing and debugging purposes with driver and firmware.
    wireless: ath9k-htc: only load firmware in need
    It is not necessary to hold the firmware memory during the whole
    4*50KBytes RAM to cache firmware for all dongles. After applying the
    patch, kernel only caches one single firmware image in RAM for
    When system is ready for loading firmware, ath9k-htc can request
    can load the firmware which was cached in kernel memory before
    device firmware does not handle fragmented messages
    The pseries firmware currently refuses any non power of two MSI-X
    This patch rounds up the firmware request to the next power of two
    firmware with non-zero size. That leads to space waste.
    Recently firmware loader code has been cleaned up much and
    cache/uncache firmware mechanism is introduced, so later
    of firmware lost during suspend/resume cycle.
    firmware loader: let caching firmware piggyback on loading firmware
    After starting caching firmware, there is still some time left
    before devices are suspended, during the period, request_firmware
    to load firmware images which can't be cached during suspend/resume
    This patch utilizes the piggyback trick to cache firmware for
    this kind of situation: just increase the firmware buf's reference
    caching firmware and before syscore_suspend() is called.
    firmware loader: fix firmware -ENOENT situations
    If the requested firmware image doesn't exist, firmware->priv
    warning and oops will be triggered inside firmware_free_data().
      The other one fixes make firmware_install with certain configurations,
      where a file in the toplevel firmware tree gets installed first, and
      $(INSTALL_FW_PATH)/$$(dir <file>) results in /lib/firmware/./, which
      firmware: fix directory creation rule matching with make 3.82
     - a firmware bug on several Samsung MoviNAND eMMC models causes
    staging: slicoss: remove default case after we done with request_firmware
    we are returning -ENOENT when there is no firmware file for a matching
    device id. then we start calling request_firmware,
    after this we do checks on the firmware length of corresponding
    there is no need of a default case at the firmware length checks
    before sending the request to firmware. Otherwise the request
    mwifiex: fix skb length issue when send a command to firmware
    When we send a command to firmware, we assumed that cmd_size
    Since the firmware will give us an A-MPDU bit and
    firmware console at boot time, not if it's detected later on, for
    example because the firmware is using a graphics card.
    console currently used by the firmware, so if you have your firmware
    staging: slicoss: release firmware before returning
    we request_firmware in slic_card_download_gbrcv and we return out
    with out calling release_firmware, where we compare against a
    firmware lengths of certain device ids.
    staging: slicoss: return early before calling request_firmware with empty firmware filename
    i.e an empty name, and we try calling request_firmware with that name,
    actually we can just fail out at default case before even calling request_firmware
    staging: rtl8192u: use kzalloc to allocate firmware pointer
    the firmware pointer is allocated with kmalloc and memset,
    Specifically, there is a bug in the eMMC firmware that causes
    firmware: fix directory creation rule matching with make 3.82
    Attempting to run 'firmware_install' with CONFIG_USB_SERIAL_TI=y when
    make[2]: *** No rule to make target `/lib/firmware/./', needed by
    `/lib/firmware/ti_3410.fw'.  Stop.
    The './' seen in the error is added by $(dir) for firmware which
    resides in the base firmware src directory, such as
    ARM: dts: imx: Move SDMA firmware to SoC dtsi file
    x86, microcode: Add a refresh firmware flag to ->request_microcode_fw
    * boot machine, no new microcode in /lib/firmware
    /lib/firmware and reloads it by doing
    initialize the timers. The voice firmware needs these timers as a reference.
    boards. This DTB will be used if the firmware does not pass in a
    partition with firmware release 740 or higher.  With vTPM
    firmware sends the interrupt to each CPU in the irq affinity
    the init firmware.
    Newer firmware versions for the Pantech UML290 use a different
    - Since these UUIDs are used in the firmware to reference section
      names, the firmware doesn't follow the standard uuid delimiter '-'
      expected by the firmware. E.g.:
      firmware expects: .24BC8D90_BB45_11D4_B756_006008BDB66F
    firmware loader: fix build failure if FW_LOADER is m
    firmware loader need to cache firmware images for devices
    firmware loader: fix compile failure if !PM
    firmware loader: cache devices firmware during suspend/resume cycle
    This patch implements caching devices' firmware automatically
    call request_firmware or request_firmware_nowait inside resume
    path to get the cached firmware if they have loaded firmwares
    firmware loader: use small timeout for cache device firmware
    Because device_cache_fw_images only cache the firmware which has been
    firmware: introduce device_cache/uncache_fw_images
    so we can use device_cache_fw_images() to cache firmware for
    all devices which need firmware to work, and the device driver
    can get the firmware easily from kernel memory when system isn't
    ready for completing requests of loading firmware.
    After system is ready for completing firmware loading, driver core
    the cached firmware.
    The above helpers will be used to cache device firmware during
    The firmware loader will use the API to get each firmware name
    firmware loader: store firmware name into devres list
    This patch will store firmware name into devres list of the device
    which is requesting firmware loading, so that we can implement
    auto cache and uncache firmware for devices in need.
    firmware loader: fix comments on request_firmware_nowait
    request_firmware_nowait is allowed to be called in atomic
    firmware loader: fix device lifetime
    Callers of request_firmware* must hold the reference count of
    @device, otherwise it is easy to trigger oops since the firmware
    call request_firmware* in its probe() or open(), so the constraint
    schedule_work() in request_firmware_nowait() to avoid that
    the @device is released after request_firmware_nowait returns
    firmware loader: introduce cache_firmware and uncache_firmware
    This patches introduce two kernel APIs of cache_firmware and
    uncache_firmware, both of which take the firmware file name
    So any drivers can call cache_firmware to cache the specified
    firmware file into kernel memory, and can use the cached firmware
    in situations which can't request firmware from user space.
    firmware loader: always let firmware_buf own the pages buffer
    This patch always let firmware_buf own the pages buffer allocated
    inside firmware_data_write, and add all instances of firmware_buf
    into the firmware cache global list. Also introduce one private field
    in 'struct firmware', so release_firmware will see the instance of
    firmware_buf associated with the current firmware instance, then just
    'free' the instance of firmware_buf.
    The firmware_buf instance represents one pages buffer for one
    firmware image, so lots of firmware loading requests can share
    the same firmware_buf instance if they request the same firmware
    This patch will make implementation of the following cache_firmware/
    uncache_firmware very easy and simple.
    In fact, the patch improves request_formware/release_firmware:
            - only request userspace to write firmware image once if
            several devices share one same firmware image and its drivers
            call request_firmware concurrently.
    firmware loader: introduce firmware_buf
    This patch introduces struct firmware_buf to describe the buffer
    which holds the firmware data, which will make the following
    cache_firmware/uncache_firmware implemented easily.
    firmware loader: fix creation failure of fw loader device
    If one device driver calls request_firmware_nowait() to request
    several different firmwares' loading, device_add() will return
    failure since all firmware loader device use same name of the
    device who is requesting firmware.
    This patch always use the name of firmware image as the firmware
    for caching firmware will make sure only one loading for same
    firmware is alllowd at the same time.
    firmware loader: remove unnecessary wmb()
    firmware loader: fix races during loading firmware
    This patch fixes two races in loading firmware:
    on _request_firmware_load, otherwise FW_STATUS_ABORT may be
    2, Inside _request_firmware_load(), there is a small window between
    to prevent pages' buffer completed from being freed in firmware_loading_store.
    firmware loader: simplify pages ownership transfer
    instance of firmware until the firmware loading is completed,
    which will simplify firmware_loading_store a lot, so help
    to introduce the following cache_firmware and uncache_firmware
    firmware loader device is bypassed between writting 1 and 0 to
    firmware: remove computone driver firmware and documentation
    option.  Therefore, remove firmware, documentation, and the last vestiges
    If the read firmware version response from the chip is split into multiple
    USB: storage: ene_ub6250: Use macros for firmware names
    Advertise firmware files using MODULE_FIRMWARE macros.
    verified to work on interface #19 (a firmware bug is
    by the firmware somehow.
    v3: The Apple firmware seems to switch off the panel on it's own, hence
    staging/csr: remove firmware pointer check before giving to release_firmware
    we do a check of firmware pointer against the NULL value before we give
    it to the release_firmware.
    as release_firmware is actually having a check against NULL, its not needed
    > drivers/media/dvb/dvb-usb-v2/lmedm04.c:769 lme2510_download_firmware()
    [  446.892309] Modules linked in: tcp_lp fuse sunrpc cpufreq_ondemand acpi_cpufreq mperf ip6t_REJECT nf_conntrack_ipv6 nf_defrag_ipv6 nf_conntrack_ipv4 ip6table_filter nf_defrag_ipv4 xt_state nf_conntrack ip6_tables ext2 arc4 btusb bluetooth snd_hda_codec_idt snd_hda_intel carl9170 snd_hda_codec coretemp joydev ath5k snd_hwdep snd_seq isight_firmware ath snd_seq_device snd_pcm applesmc appletouch mac80211 input_polldev snd_timer microcode cfg80211 snd lpc_ich pcspkr i2c_i801 mfd_core soundcore rfkill snd_page_alloc sky2 tpm_infineon virtio_net kvm_intel kvm i915 drm_kms_helper drm i2c_algo_bit i2c_core video
    [media] iguanair: ignore unsupported firmware versions
    supported. Also report the firmware version in the standard format.
    [media] dvb_usb_lmedm04: don't crash if firmware is not loaded
    There is a missing error handling when no firmware file found.
    brcmsmac: document firmware dependencies
    The brcmsmac driver requests firmware but doesn't document the
    determine if firmware is needed won't detect it.
    Specifically, (at least) openSUSE won't install the kernel-firmware
    event from firmware.
    [media] xc5000: change filename to production/redistributable xc5000c firmware
    firmware, and there were no redistribution rights.  Change over to using
    the release version, for which freely redistributable firmware can be
    http://kernellabs.com/firmware/xc5000/README.xc5000c
    http://kernellabs.com/firmware/xc5000/dvb-fe-xc5000c-4.1.30.7.fw
    Thanks to Ramon Cazares from Cresta Technology for making the firmware
    [media] au0828: make xc5000 firmware speedup apply to the xc5000c as well
    Make the firmware speedup work for the 5000c as well as the original
    xc5000.  This cuts firmware load time in half.
    result, the version doesn't visibly match the filename for the firmware,
    Change the firmware printout to be in decimal.
    The problem manifested itself as the xc5000 firmware version and PLL
    [media] xc5000: add support for firmware load check and init status
    The xc5000c and newer versions of the xc5000a firmware need minor revisions
    to their initialization process.  Add support for validating the firmware
    tuner and reload the firmware.  This problem was detected after several days
    Reset the firmware in the event that the PLL is in an unlocked state.  This
    firmware download.  With this change it goes from 4.2 seconds to 2.9.
    [media] au0828: speed up i2c clock when doing xc5000 firmware load
    Put a hack in place to speed up the firmware load in the case that the
    This reduces the firmware load time from 6.9 seconds to 4.2.
    did reset the device and reload the firmware.
    Rework the routine to only do calibration if reset and firmware load was
    firmware is already loaded, the caller no longer needs to invoke
    is_firmware_loaded().
    will cause a firmware load (which is very time consuming on the 950q).
    The firmware callback must be protected by that ifdef.
    the specified "patch" firmware doesn't exist.  It's basically a long-
    firmware loader base code.
    ALSA: hda - Deferred probing with request_firmware_nowait()
    For processing the firmware handling properly for built-in kernels,
    implement an asynchronous firmware loading with
    request_firmware_nowait().  This means that the codec probing is
    ALSA: hda - Load firmware in hda_intel.c
    request_firmware() errors at init.
    This patch moves the call of request_firmware() to hda_intel.c, and
    The sequence counter will be sent to firmware via key_material
    p54pci: convert driver to use asynchronous firmware loading
    Drivers that load firmware from their probe routine have problems with the
    space to start. The problem is fixed by using request_firmware_nowait()
    and delaying the start of mac80211 until the firmware is loaded.
    To prevent the possibility of the driver being unloaded while the firmware
    This driver needs the cypress firmware load, so, auto-selects it.
    [media] dvb-usb-v2: Don't ask user to select Cypress firmware module
    The dvb-usb-v2 cypress firmware module is not optional, as drivers
    [media] dvb-usb-v2: Fix cypress firmware compilation
    ERROR: "usbv2_cypress_load_firmware" [drivers/media/dvb/dvb-usb-v2/dvb-usb-az6007.ko] undefined!
    [media] dvb_usbv2: rename dvb_usb_firmware to cypress_firmware
    [media] dvb_usb_v2: use identify_state() to resolve firmware name
    Merge get_firmware_name() to identify_state().
    It is wise to resolve firmware name in that routine as it does
    decision wether or not to load firmware at all. It is one very
    device but it is warm and no firmware loading needed.
    [media] dvb_usb_v2: return the download ret in dvb_usb_download_firmware
    The first being this patch, no return value from dvb_usb_download_firmware
    [media] ec168: re-implement firmware loading
    [media] dvb_usb_v2: Cypress firmware download module
    [media] dvb_usb_v2: clean firmware downloading routines
    Remove Cypress USB-interface firmware downloading routines.
    Move single function out from the dvb_usb_firmware.c and
    [media] dvb_usb_v2: delay firmware download as it blocks module init
    Delay firmware download and whole driver initialization using
    workqueue. udev causes problems when blocking firmware download
    DVB USB firmware downloading issues we have had during recent years.
    (struct dvb_usb_device *) to the firmware download
    [media] dvb_usb_v2: restore .firmware - pointer to name
    Most commonly only one firmware is used by the driver
    old functionality but allow .get_firmware_name() callback
    Call is done after the possible firmware is downloaded to the device,
    [media] dvb_usb_v2: implement .get_firmware_name()
    Use callback to return firmware name instead of static firmware name.
    There is some chips that needs to select firmware name according to
    for .identify_state() and .download_firmware() callbacks.
    firmware: Remove obsolete Chelsio cxgb3 firmware
    The current firmware version used by the device driver
    to discovering necessary firmware files.
    firmware_map: make firmware_map_add_early() argument consistent with firmware_map_add_hotplug()
    There are two ways to create /sys/firmware/memmap/X sysfs:
      - firmware_map_add_early
      - firmware_map_add_hotplug
      - end argument of firmware_map_add_early()   : start + size - 1
      - end argument of firmware_map_add_hogplug() : start + size
    /sys/firmware/memmap/X/end file content does not change.
    [media] radio-si470x: Lower firmware version requirements
    Testing with a firmware version 12 usb radio stick has shown version 12
    [media] radio-si470x: Lower firmware version requirements
    With the changes from the previous patches device firmware version 14 +
    firmware from the silabs reference boardto fix this, but:
       firmware flashing
       firmware, if at all possible
      deb-pkg: Install linux-firmware-image in versioned dir
    to prevent PHY access conflict with APE firmware.
    sound_firmware: don't pass crap to filp_close()
      powerpc: Lack of firmware flash support is not an error
    These devices are set to 640x480 by firmware, switch them to 800x600@60
    powerpc: Lack of firmware flash support is not an error
    Reduce the severity of the warning given when firmware flash is
    from the firmware offb by nouveau doesn't work properly (and leads to
      remoteproc: Support custom firmware handlers
      ACPICA: Table manager: deploy new firmware error/warning interfaces
      ACPICA: Add new interfaces for BIOS(firmware) errors and warnings
      Input: synaptics - print firmware ID and board number at init
    callback called when the ASYNC call to request_firmware
    the firmware.) requires byteswapping of num_modes and num_modules.
    that the EFI firmware doesn't natively understand, such as ext4, etc.
    can: janz-ican3: avoid firmware lockup caused by infinite bus error quota
    up, the Janz VMOD-ICAN3 firmware will stop responding to control
    The firmware will automatically stop sending bus error messages when the
    error message is received. By doing this, the firmware never stops
    The Janz VMOD-ICAN3 firmware does not support any sort of TX-done
    - Driver converts s/g list to a firmware suitable list for best performance on
    commit 9ac32e1b firmware: convert e100 driver to request_firmware()
    libertas: firmware.c: remove duplicated include
    soon and get out-of-sync with the firmware.
    In some cases, the firmware may not send the event, so we wait for the
    wl12xx fetches fem number from firmware and stores it in wl->fem_manuf
    auto fem detection where driver asks firmware to detect
    b43 with open firmware crashes mac80211 because
    This patch configures data rates to firmware using bitrate mask
    3. ath6kl sets regdomain in firmware
    4. firmware sends regdomain event to notify about the new regdomain (FI)
    The reason why ath6kl calls regulatory_hint() is that firmware can change
    Some tg3 devices have management firmware that can export sensor data.
    firmware version string.  We fix this by separating the probing of NCSI
    ACPICA: Table manager: deploy new firmware error/warning interfaces
    Emit firmware error/warning messages where appropriate for table
    ACPICA: Add new interfaces for BIOS(firmware) errors and warnings
    was left running by the firmware) before setting up the ehci_hcd data
    remoteproc: Support custom firmware handlers
    firmware functions that depends on a particular firmware
    unless the HW driver explicitly injects another firmware
    firmware handlers may need to use this function.
    Prepare for introduction of custom firmware loaders by
    Prepare for introduction of custom firmware loaders by
    Prepare for introduction of custom firmware loaders by changing
    to use struct firmware as parameter.
    the firmware specific function must use struct firmware as
    ACPI, APEI: Fixup common access width firmware bug
    Many firmwares have a common register definition bug where 8-bit
    With recent enough motherboard firmware, core tile can be fitted
    carl9170: import 1.9.6 firmware headers
    Import new headers from my firmware branch:
    The BCM4716 is working for me with an other firmware and I am working
    We have some API changes and new features in the new firmwares that
    The driver configures the firmware template for probe requests during
    This fix works only on firmwares later than X.3.9.2.112 for single
    New wl12xx firmware supports scheduled scans also while connected.
    For RTL8111G, the settings of phy and firmware are replaced with
    the firmware of the device and not on the host CPU.
    beacon, probe response, association response WPS IEs to firmware.
    And firmware is responsible for constructing these frames.
    Input: synaptics - print firmware ID and board number at init
    Device behavior is very board and firmware dependent.
    Use these modes with the flow_attach and flow_detach firmware commands
    {NET, IB}/mlx4: Add device managed flow steering firmware API
    If supported by firmware use the device managed flow steering
    the firmware supports the B0 steering mode use it, and finally,
    the firmware returns a 64 bit registration id, which is to be
    Currently the firmware is always programmed during HCA initialization
    net/mlx4_core: Add firmware commands to support device managed flow steering
    Add support for firmware commands to attach/detach a new device managed
    L2/L3/L4 flow specification to the firmware and have the device to steer
    Instead of checking the firmware supported steering mode in various
    if the firmware supports both unicast and multicast B0 steering,
    a load of firmware commands and second, there is period of time where
    Currently there are two different implementations (in the firmware) for
    4-parameter command with firmware that implements the 2-parameter
    updated because this firmware is the only loadable firmware where the
    QAM demodulator command takes 4 parameters. Some firmwares in the ROM
    [media] tuner-xc2028: tag the usual firmwares to help dracut
    need to copy the firmware inside the initfs image.
    [media] get_dvb_firmware: add logic to get sms1xx-hcw* firmware
    The firmwares are there at the same place for a long time. However,
      when it realizes that they are supported by the firmware
    Remoteproc requires user space firmware loading support, so
      drm/i915: kick any firmware framebuffers before claiming the gtt
    drm/i915: kick any firmware framebuffers before claiming the gtt
    The form affinity for NUMA is set to 1 if the firmware supports
    An upcoming release of firmware will add DDW extensions, in particular
    window, increasing the resources available to firmware for creation of
    Further, this same release of firmware will make it a hard requirement
    [media] tuner-xc2028: use request_firmware_nowait()
    Change the firmware logic to use request_firmware_nowait(), and
    to preserve the loaded firmwares in memory, to reduce the risk
    With this change, while the firmware is being loaded, the driver
    will return -EAGAIN to any calls. If, for some reason, firmware
    If firmware is not loaded for some reason, or if it is not ready
    firmware or because there's an error during init_drxk, returns
    [media] drxk: Lock I2C bus during firmware load
    firmware load, in order to prevent using the device while it is
    firmware loads, make sure that the priv state routine will be
    will implement an exclusive lock mode to be used during firmware
    [media] drxk: change it to use request_firmware_nowait()
    The firmware blob may not be available when the driver probes.
    Instead of blocking the whole kernel use request_firmware_nowait() and
    continue without firmware.
    internal firmware. So, only the firmware update will take a little longer
    firmware update, the old object table is destroyed and all cached object
    the new firmware does not have the old objects.
      3) Just after a firmware update, when a new object table is
    Make firmware and hardware version strings available to userspace.
    Also, parse and print the firmware version in its canonical format, as
    netxen_nic: restrict force firmware dump when dump is disabled.
    "chan->max_power" to set max_power in firmware.
    mwifiex: use correct firmware command to get power limits
    hardware by sending correct firmware command.
    from firmware. This adds worst case delay of 50msec.
        iwl4965 0000:03:00.0: On demand firmware reload
    deb-pkg: Install linux-firmware-image in versioned dir
    That way they don't file conflict with official firmware package:
     trying to overwrite '/lib/firmware/qlogic/1040.bin', which is
                   also in package firmware-qlogic 0.35
    Did this to illustrate my understanding of the firmware generations:
    If firmware returns error status, proceed to close the iSCSI connection.
    brcmfmac: use firmware data buffer directly for nvram
    firmware structure passed by request_firmware function. This patch
    txglomming is a firmware feature for sdio bus interface. For SDIO
    firmware should be used instead of disabling it from the host side.
      [media] cx88: fix firmware load on big-endian systems
    (firmware?).
    could lead to bad firmware behavior.
      [media] cx88: fix firmware load on big-endian systems
    wlcore: access the firmware memory via debugfs
    - access to firmware log
    - dump memory after firmware panic event
    For some cards (SD8797, for example), firmware will send SLEEP event
    For other cards, such as USB8797, firmware won't send SLEEP event.
    events from firmware. While handling events, we perform
    [media] Add support for downloading the firmware of the Terratec Cinergy HTC Stick HD's firmware
    As of June 2012 it uses the same firmware as the Hauppauge WinTV HVR 930C.
    New PG2 firmwares have additional Rx descriptors.
    caused issues as the firmware checks the active
    wl1251: send filters to firmware as they are set
    This seems to be triggering a firmware bug where it stops reporting any
    firmware crashes. By exposing this information to a debugfs file users
    igb: Update firmware info output
    comedi_driver to auto-configure probed USB devices after the firmware is
    comedi_driver to auto-configure probed USB devices after the firmware is
    comedi_driver to auto-configure probed USB devices after the firmware is
    firmware when it's looking for a bootloader - it wants the catalog ID of
    bnx2: Dump additional BC_STATE during firmware sync timeout.
      ASoC: wm2000: Always use a 4s timeout for the firmware
    of firmware capability bits translate into fewer bytes than the host has
    reported by the firmware.
    power state.  Presumably this is a firmware bug, but there's nothing
    passed to firmware using TEST_CMD_INI_FILE_RADIO_PARAM. Still,
    drm/i915: kick any firmware framebuffers before claiming the gtt
    here since we're running in the firmware request
    d2c8b15d0cb ("iwlwifi: use correct supported firmware
    Later firmwares for this device now have proper subclass and
    This is caused by a firmware bug checking (checking generic address
    register provided by firmware) in runtime.  The checking should be
    [media] cx88: fix firmware load on big-endian systems
    Also fix a few endian issues related to mailboxes and firmware loading.
    commands to firmware when scan is requested by user. Now we will
    ath6kl: use firmware version from FW IE
    This is handled by appending different meta data in firmware
    this patch fixes kernel Oops on "rmmod b43" if firmware was not loaded:
    iwlwifi: use correct supported firmware for 6035 and 6000g2
    did not correctly report supported firmware
    minimum supported firmware version for 6035
    Also correct the minimum supported firmware
    from a "firmware" file called wl18xx-conf.bin.  If the file doesn't
    Instead of parsing all the binary data returned by the firmware, we
    This patch calls ACX_CLEAR_STATISTICS to clear the firmware
    ASoC: wm2000: Always use a 4s timeout for the firmware
    and ensures compatibility with current calibration firmwares.
    drop in performance. Hence we need to set gso_size to MSS obtained from firmware.
    o This is fixed recently in firmware hence the MSS is obtained based on
    Some UEFI firmware will not load a .efi with a .reloc section
    Due to a need by the firmware when working in multirole
    by the system firmware, and drivers modifying this value can cause
    iwlwifi: fix double free/complete in firmware loading
    we double-freed the vmalloc() firmware area. His patch
    be 0xff to match the firmware's implementation.
    The polarity should be set before the firmware is loaded
    since the firmware touches the same register. Access
    of the firmware and driver to the same register will
    The firmware uses the indexing as defined in the ieee80211
    Modify default parameters to reduce firmware BSS lose
    as tcp check sum is going to be removed from firmware, and as
    Now the firmware can support TX block ack sessions with 64 frames.
    during iperf.  This is the optimal for the firmware.  Thus, increase
    Yet another temporary module parameter requested by the firmware team.
    With more recent PHY firmware versions (>8.1.0.0.116), we need to use
    wl18xx: print the PHY firmware version from the private static data
    The wl18xx firmware writes the PHY firmware version in the static
    firmware version when booting.
    The wl18xx firmware has more information in the static_data than
    rates have been properly set.  To avoid problems with the firmware not
    firmware.
    in different firmware versions.  Unfortunately, the array that
    firmware) and implement the plt_init operation.
    given to the firmware as part of the RX path.  Move this from core to
    The firmware uses the SCR_PAD2 register to read the board type passed
    The wl18xx chip passes extra information in the firmware status to the
    firmware and acknowledge when an event has been fully received.
    the correct firmware name.
    bcm_firmware_info. In addition, any calls to
    getting reset or there is a firmware upgrade happening, retrying right
      - firmware version (added QUERY_FW paravirtualization for that)
      [SCSI] qla4xxx: Capture minidump for ISP82XX on firmware failure
    implemenation, the AML code wrote value to EC register but firmware didn't
    [SCSI] qla4xxx: Capture minidump for ISP82XX on firmware failure
    catpure a snapshot of the firmware/hardware states at the time
    of firmware failure
    wait un-necessarily during a firmware recovery and prevent
    brcmfmac: use vmalloc to allocate mem for the firmware
    The firmware is more than 300KB big and you should not use kmalloc for
    sent down to the firmware. This needs to
    commands to be sent to the firmware. Fix
                external firmware rip), async buffer moves on nv84+ hw.
      Input: atmel_mxt_ts - only allow root to update firmware
    drm/nouveau/bios: allow loading alternate vbios image as firmware
    Completely dependent on firmware blobs from NVIDIA binary driver currently.
      qla1280: Remove redundant NULL check before release_firmware() call
      remoteproc: remove redundant NULL check before release_firmware()
      qla2xxx: Remove redundant NULL check before release_firmware() call.
      aic94xx: Get rid of redundant NULL check before release_firmware() call
      tehuti: delete redundant NULL check before release_firmware()
      qlogic: get rid of a redundant test for NULL before call to release_firmware()
      bna: remove redundant NULL test before release_firmware()
      tg3: remove redundant NULL test before release_firmware() call
      typhoon: get rid of redundant conditional before all to release_firmware()
    (arun: Capture ATIO queue during firmware dump + Send SCR in target mode +
    [SCSI] qla2xxx: Display proper firmware version when new minidump template is gathered for ISP82xx.
      - STATUS_SHUTDOWN was placed in incorrect place, so if firmware wasn`t loaded, we
    be2net: Fix to allow get/set of debug levels in the firmware.
       only be triggered with a device that has a firmware that
    second disconnect firmware event.
    6) The rtlwifi conversion to asynchronous firmware loading is racy, fix
      rtlwifi: fix for race condition when firmware is cached
    load the firmware in Kernel 3.3.4
    The firmware inverts the order of ssid list of scan command, we
    mwifiex: retrieve IEs from cfg80211_beacon_data and send to firmware
    RSN IE is also retrieved from tail IE buffer and sent to firmware.
    by the firmware. As MLME/SME is implemented in the
    firmware, events such as station association and
    firmware
    mwifiex: append peer mac address TLV in key material command to firmware
    Enable enhanced bmiss detection if the firmware supports it. This
    feature is only enabled on some firmwares since it comes with a power
    The rtlwifi fix addresses a regression related to firmware loading,
      - the firmware associated with the tokenring drivers.
    qlcnic-ethtool: set the ethtool_dump flag by ETH_FW_DUMP_DISABLE value that is zero, if firmware dump is disabled.
    value that is zero, if the firmware dump is disabled.
    by this we can get the firmware dump capability [enable/disable] via ethtool
    [media] get_dvb_firmware: add dvb-demod-drxk-pctv.fw
    Use the partition scheme of the original firmware by default.
    rtlwifi: fix for race condition when firmware is cached
    asynchronous firmware loading. Unfortumately, the implementation was
    with more advanced ISP firmware. The V4L2_CID_SCENE_MODE menu
    Not used anymore since new firmware downloader. I forget to remove
    those earlier when changed firmware downloader.
    Move ts78xx_fpga from /sys/power to /sys/firmware so that
    ath6kl: Add wow multicast firmware capability support
    firmware capability added to the driver.This enables
    on firmware capability.
    The currently used firmware images support 16 SSIDs in the scan
    Input: atmel_mxt_ts - only allow root to update firmware
    [SCSI] hpsa: dial down lockup detection during firmware flash
    also snoop the ioctl path and if a firmware flash command is detected,
    dial it back further to 4 minutes until the firmware flash command
    completes.  The reason for this is that during the firmware flash
    of Smart Array firmware we're dealing with is not obvious.
    drop in performance. Hence we need to set gso_size to MSS obtained from firmware.
    o This is fixed recently in firmware hence the MSS is obtained based on
    Driver queries DIMM information from firmware and accordingly
    netxen_nic: Allow only useful and recommended firmware dump capture mask values
    Bluetooth: btmrvl_sdio: remove pointless conditional before release_firmware()
    release_firmware() deals gracefullt with NULL pointers so there's no
    the interrupt register function must be called after firmware is
    of the iwlwifi firmware for all
            - add to switch for firmware load
            - add definition of default firmware name
    libertas: include sched.h on firmware.c
    tracks features whose support bits are advertised by the firmware in
    isdn/gigaset: improve error handling querying firmware version
    An out-of-place "OK" response to the "AT+GMR" (get firmware version)
      baseband processor running its own firmware, or a kernel-related
    It's actually an integer handle on the actual firmware, and 0 has no
    It is up to the prcmu firmware to recouple the gic automatically
    reflashing their firmware with an external hardware device. While this is
    obviously a firmware bug, the serious nature of the outcome suggests that
    qla1280: Remove redundant NULL check before release_firmware() call
    release_firmware() checks for NULL pointers internally so checking
    remoteproc: remove redundant NULL check before release_firmware()
    release_firmware deals gracefully with NULL pointers, so checking
    qla2xxx: Remove redundant NULL check before release_firmware() call.
    release_firmware() checks for NULL pointers internally so checking
    aic94xx: Get rid of redundant NULL check before release_firmware() call
    release_firmware() checks for NULL pointers internally, so checking
    tehuti: delete redundant NULL check before release_firmware()
    release_firmware() checks for NULL pointers - no need to test before
    qlogic: get rid of a redundant test for NULL before call to release_firmware()
    Since release_firmware() deals gracefully with being passed a NULL
    bna: remove redundant NULL test before release_firmware()
    release_firmware() does its own NULL test so explicit test before call
    tg3: remove redundant NULL test before release_firmware() call
    release_firmware - the function does that on its own.
    typhoon: get rid of redundant conditional before all to release_firmware()
    release_firmware() since the function does that check itself, so
    radeon_cp: Remove unneeded tests for NULL before calling release_firmware()
    release_firmware() does its own tests for NULL pointers so there's no
    b43_op_start(). When firmware fails to load this can wedge the system.
    ath6kl: Don't advertise HT capability for incapable firmware
    With firmwares which do not support rsn capability override
    packets, which was wrong assumption, because firmware will
    works with both firmware and userland agents.
    sync userland agents, firmware agents, and kernel notifier consumers.
    [SCSI] bfa: Fix to defer vport delete handler invocation till firmware logo response.
    before we get the response from firmware.
    firmware the ability to disable certain wiphy supported bands. Check if
    power state.  Presumably this is a firmware bug, but there's nothing
    of the iwlwifi firmware for all
    1. Configure vif parameters in firmware (default vlan, vif id, default
    The corresponding firmware image file is located at:
    libertas CS: convert to asynchronous firmware loading
    This patch doesn't fix the delay issue during firmware load.
    firmware reset is performed.
    Following the host reset, the firmware discovery is reassigning another hard
    interface This is because the firmware behavour changed where it would read
    bands / HT capabilities in firmware when stopping AP.
     - xc5000: don't require an special firmware (that won't be provided by
      [media] xc5000: support 32MHz & 31.875MHz xtal using the 41.024.5 firmware
    [media] xc5000: support 32MHz & 31.875MHz xtal using the 41.024.5 firmware
    Rather than loading firmware specific for the xtal frequency, just use
    the standard firmware and set the xtal frequency after firmware upload.
    The modified firmware will never be released, so we're better off
    [media] xc5000: log firmware upload failures in xc5000_fwupload
    [media] xc5000: support 32MHz & 31.875MHz xtal using the 41.024.5 firmware
    Rather than loading firmware specific for the xtal frequency, just use
    the standard firmware and set the xtal frequency after firmware upload.
    [media] s2255drv: Remove redundant NULL test before release_firmware()
    release_firmware() tests for NULL pointers on its own - there's no
    [media] staging: as102: Remove redundant NULL check before release_firmware() and pointless comments
    release_firmware() deals gracefullt with NULL pointers - it's
    code that kfree() free's a buffer and that release_firmware() releases
    firmware - comments just stating that add no value.
    staging: as102: Remove redundant NULL check before release_firmware() and pointless comments
    release_firmware() deals gracefullt with NULL pointers - it's
    code that kfree() free's a buffer and that release_firmware() releases
    firmware - comments just stating that add no value.
    staging: vt6656: Don't needlessly test for NULL before release_firmware()
    Checking for a NULL pointer before calling release_firmware() is
    quirk is similarly housed in of_serial.c.  Once the open firmware
    usb/atm/ueagle-atm: Don't test for NULL ptr before calling release_firmware()
    release_firmware() deals gracefullt w/ NULL pointers, no need to check
    usb/storage/ene_ub6250: Remove redundant NULL check before release_firmware() and pointless assignment
    release_firmware() tests for a NULL pointer, so it's redundant to do
    consistently (i.e., start with 0 similarly to sched_scan; firmware
    We get two timing related fields for each bss from firmware in scan
    2) network_tsf - firmware's TSF value at the time the beacon or probe
    Both are needed while associating by firmware.
    libertas USB: convert to asynchronous firmware loading
    libertas SDIO: convert to asynchronous firmware loading
    libertas: add asynchronous firmware loading capability
    libertas is taking a long time to load because it loads firmware
    Add a new API for interface drivers to load their firmware
    asynchronously. The same semantics of the firmware table are followed
    remove the old, synchronous firmware loading function.
    moving to asynchronous firmware loading (which means the device may fail to
    Remove the ability to pass module parameters with firmware filenames
    Remove the ability to pass custom "user" filenames to lbs_get_firmware().
    firmware from the USB driver (we don't know of any users), and simplify
    the OLPC firmware loading quirk to simply placing the OLPC firmware
    Move lbs_get_firmware() into its own file.
    upcoming transition to asynchronous firmware loading considerably less
    Set size of firmware section in mvm bundle format.
    We've never released firmware using the alternatives
    firmware files that actually do use the alternatives
    The method used to work out whether we were booted by EFI firmware or
    new entry point that is only used when booting from EFI firmware, when
    The mixer units from the firmware are corrupt, and even where they
    This allows the Electrix Ebox-44 with earlier firmware to be
    BRCMF_C_UP is the command that asks the firmware to enable RF of
    dongle. Some firmware initialization steps must be performed during
    called to ensure firmware have enough time to finish
    rt2800: add disabling of DMA before loading firmware
    Legacy driver disables DMA before loading firmware.
      staging/media/as102: Don't call release_firmware() on uninitialized variable
      rtlwifi: rtl8192de: Fix firmware initialization
    mwifiex: use asynchronous firmware loading
    Make use of request_firmware_nowait instead of request_firmware
     * fw_restart triggers a firmware restart when
    This cleans up all sources of firmware restart
    ipw2100: remove a redundant NULL check before calling release_firmware()
    The release_firmware() function does its own NULL test so a test
    wireless, orinoco: release_firmware() tests for NULL, remove explicit tests before calls
    release_firmware() since the function does its own NULL test.
    wireless, mwifiex: drop redundant NULL test before call to release_firmware()
    Since release_firmware() does its own test for NULL it is redundant to
    wireless, libertas: remove redundant NULL tests before calling release_firmware()
    release_firmware() tests for, and deals gracefully with, NULL
    ipw2200: remove a redundant NULL check before calling release_firmware()
    The release_firmware() function does its own NULL test, so testing
    wireless, atmel: remove pointless test for NULL before release_firmware() call
    release_firmware() does its own test. Explicitly checking before the
    wireless, at76c50x:: Don't needlessly test for NULL before calling release_firmware()
    The release_firmware() function deals gracefully with being passed a
    firmware update, but I am unsure if it is required for E-CUT chips to
    rsn IE. Set it to 0 in firmware when it is not there in the ie to
    wlcore/wl12xx: move identify firmware function to a lower driver op
    Different chip families have different firmware versions, so we need
    to identify the firmware to enable quirks, reject the used version
    ELP is a very complicated process in the firmware.  Due to its
    complexity, in some early firmware revisions, the ELP feature is
    firmware to an operation implemented by the lower driver.  Also move
    The firmware may decide to switch channels while already beaconing, e.g.
     - it913x: fixes firmware loading
      [media] it913x: fix firmware loading errors
    [media] staging/media/as102: Don't call release_firmware() on uninitialized variable
    then we'll end up calling 'release_firmware(firmware);' with
    'firmware' still uninitialized - not good.
    The easy fix is to just initialize 'firmware' to NULL when we declare
    it, since release_firmware() deals gracefully with being passed NULL
    it is not guaranteed to be always 4. The firmware
    comedi_driver to auto-configure probed USB devices after the firmware is
    auto-configure a freshly probed device (maybe after loading firmware).
    staging/media/as102: Don't call release_firmware() on uninitialized variable
    then we'll end up calling 'release_firmware(firmware);' with
    'firmware' still uninitialized - not good.
    The easy fix is to just initialize 'firmware' to NULL when we declare
    it, since release_firmware() deals gracefully with being passed NULL
    ASoC: wm8994: Don't test for NULL before release_firmware()
    release_firmware() does its own NULL ptr testing, it's redundant to
    firmware when touchpad is in relative mode. So remove BTN_RIGHT
    implemented in system firmware, and the EC chip has to receive
    ALSA: riptide: remove redundant NULL test before release_firmware()
    release_firmware() deals gracefully with NULL pointers, no need to check first.
    iwlwifi: remove firmware info from iwl_shared
    firmware.
    p54usb: Load firmware asynchronously
    Drivers that load firmware from their probe routine have problems with
    space to start. The problem is fixed by using request_firmware_nowait()
    and delaying the start of mac80211 until the firmware is loaded.
    firmware loading callback is still active, a completion queue entry
    Also, to simplify the firmware loading procedure, this patch removes
    the old, unofficial and confusing fallback firmware names. However,
    is hereby advised to link/rename their old firmware filenames:
    rtlwifi: rtl8192de: Fix firmware initialization
    Before the switch to asynchronous firmware loading (mainline commit b0302ab),
    it was necessary to load firmware when initializing the first of the units
    in a dual-mac system. After the change, it is necessary to load firmware in
    upcoming changes to the FRI2 firmware.
    address bytes to firmware.
    af9035.c: In function 'af9035_download_firmware':
    [media] af9035: reimplement firmware downloader
    revealing firmware structure on Linux Media mailing
    in firmware using a new wmi command, WMI_SET_IE_CMDID. There is a bit
    [media] it913x: fix firmware loading errors
    warm or firmware reboot.
     6) Link handling and firmware fixes in bnx2x driver from Yaniv Rosner
    The boot firmware might leave the registers configured causing interrupts
    Adding QoS firmware commands:
    In old firmware that force UP is not supported, untagged traffic will not subject to
    code. Added bfa_ioc_fwver_clear() function to clear the firmware header if
       request_firmware() and request_firmware_nowait() for good, with two
      firmware_class: Move request_firmware_nowait() to workqueues
      firmware_class: Reorganize fw_create_instance()
      PM / Sleep: Mitigate race between the freezer and request_firmware()
      firmware_class: Do not warn that system is not ready from async loads
      firmware_class: Split _request_firmware() into three functions, v2
      firmware_class: Rework usermodehelper check
    bnx2x: correction to firmware interface
    a commit to a header file with changes to the firmware's interface.
    updated firmware.
    which do not result in a change in its size will be missed. If a firmware update
        don't OOPS when providing firmware string.  From Phil Sutter.
      [SCSI] bfa: Move service parameter programming logic into firmware.
    ACPI 5.0 adds the BGRT, a table that contains a pointer to the firmware
    /sys/firmware/acpi in order to allow bootsplash applications to draw their
    splash around the firmware image and reduce the number of jarring graphical
    Drivers may wish to add entries to /sys/firmware/acpi, so export acpi_kobj
    Some APEI firmware implementation will access injected address
    always be set, causing the firmware to generate a message on boot
      dma: imx-sdma: Treat firmware messages as warnings instead of erros
    firmware_class: Move request_firmware_nowait() to workqueues
    Oddly enough a work_struct was already part of the firmware_work
    kthread for each request_firmware_nowait() call just schedule the
    firmware_class: Reorganize fw_create_instance()
    Recent patches to split up the three phases of request_firmware()
    Make _request_firmware_setup() return a struct fw_priv and use
    that struct instead of passing struct firmware to
    _request_firmware(). Move the uevent and device file creation
    _request_firmware_load() to better reflect its purpose.
    PM / Sleep: Mitigate race between the freezer and request_firmware()
    There is a race condition between the freezer and request_firmware()
    such that if request_firmware() is run on one CPU and
    usermodehelper_read_trylock() called from request_firmware()
    acquires it for reading, the request_firmware() will fail and
    to call request_firmware() right before freeze_processes() is
    request_firmware() the race for umhelper_sem against
    firmware_class: Do not warn that system is not ready from async loads
    If firmware is requested asynchronously, by calling
    request_firmware_nowait(), there is no reason to fail the request
    a timeout) and make request_firmware_work_func() use it instead of
    Accordingly, modify request_firmware() so that it uses
    the code related to that lock from _request_firmware().
    firmware_class: Split _request_firmware() into three functions, v2
    Split _request_firmware() into three functions,
    _request_firmware_prepare() doing preparatory work that need not be
    done under umhelper_sem, _request_firmware_cleanup() doing the
    post-error cleanup and _request_firmware() carrying out the remaining
    from _request_firmware() to the callers, which is going to be done
    firmware_class: Rework usermodehelper check
    otherwise) and make _request_firmware() use it.
    Add information about LVT offset assignments to better debug firmware
    (0x400). In the firmware bug message the format is the same as of the
    after sending SCAN request to the firmware in ath6kl_cfg80211_scan().
    In some corner cases, firmware sends SCAN_COMPLETE event immediately
    [SCSI] bfa: Move service parameter programming logic into firmware.
    Programming of the service parameters Tx credits etc., is now done in firmware.
    Remove the logic of sending the service parameters to firmware from driver.
    probably due to slow firmware loading. At the time nameif uses ethtool
    by firmware.
    reported by firmware and that the RTAS error log will have more
            Ambient temperature too high reported by firmware.
      remoteproc: make sure we're parsing a 32bit firmware
      remoteproc: bail out if firmware has different endianess
    though the firmware loader doesn't seem to mind, when we come to sign
    will be loaded by the UEFI firmware, but a zero-length
    code wrote value to EC register but firmware didn't change brighenss.
    firmware. This capability is advertised only when fw supports
    in firmware capability ie for driver to learn fw's capability.
         firmware interface - allows user to load a firmware for a broken
      drm: allow loading an EDID as firmware to override broken monitor
      [SCSI] qla2xxx: handle default case in qla2x00_request_firmware()
    firmware assert.  We need to fix this with new error codes that are
    of AMS in firmware, all of that memory shows up in node 0.  So, we end
    dma: imx-sdma: Treat firmware messages as warnings instead of erros
    As the SDMA controller can operate without an external firmware being loaded,
    treat the firmware related messages as warnings rather than errors.
    don't use the SCU interfaces or the SCU firmware interfaces.
    drm: allow loading an EDID as firmware to override broken monitor
    provided in the /lib/firmware directory and loaded via the firmware
      options drm_kms_helper edid_firmware=edid/1280x1024.bin
      drm_kms_helper.edid_firmware=edid/1280x1024.bin
      edid_firmware=[<connector>:]<edid>
      edid_firmware=DVI-I-1:edid/1920x1080.bin
    /lib/firmware directory.
    echo edid/myedid.bin >/sys/module/drm_kms_helper/parameters/edid_firmware
    IEs are filled in by the firmware). That was done based on the nw_type ==
    Only DVB-C supported currently since missing firmware.
    According to my tests, DRX 3913KA2 demodulator requires firmware
      bnx2x: fix memory leak in bnx2x_init_firmware()
      bnx2x: fix a crash on corrupt firmware file
      7) Fix a memory leak and a crash on corrupt firmware files in bnx2x,
      bnx2x: fix memory leak in bnx2x_init_firmware()
      bnx2x: fix a crash on corrupt firmware file
    mfd: Make use of the ab8500 firmware read-modify-write service
    read-modify-write service in the PRCMU firmware.
    service in the U8500 PRCMU firmware.
    bnx2x: fix memory leak in bnx2x_init_firmware()
    When cycling the interface down and up, bnx2x_init_firmware() knows that
    the firmware is already loaded, but nevertheless it allocates certain
    Fix the leaks by returning early if the firmware was already loaded.
    Because if the firmware is loaded, so are the arrays.
    bnx2x: fix a crash on corrupt firmware file
    If the requested firmware is deemed corrupt and then released, reset the
    bnx2x_release_firmware() or dereferencing it in bnx2x_init_firmware().
    b43: Load firmware from a work queue and not from the probe routine
    Recent changes in udev are causing problems for drivers that load firmware
    As this driver loads more than 1 firmware file, changing to the asynchronous routine
    request_firmware_nowait() would be complicated. In this implementation, the probe
    routine starts a queue that calls the firmware loading routines.
    b43legacy: Load firmware from work queue instead of from probe routine
    Recent changes in udev are causing problems for drivers that load firmware
    As this driver loads 3 or 4 firmware files, changing to the asynchronous routine
    request_firmware_nowait() would be complicated. In this implementation, the probe
    routine starts a work queue that calls the firmware loading routines.
    Commit 7504a3e1 ("ath6kl: add padding to firmware log records") accidentally
    Set the MTU for IB ports in the driver instead of using the firmware
    using the firmware return status to know whether the requested number
    of the MAD_IFC command, since MAD_IFC attempts to query the firmware
    Changed iwl_firmware_pieces structure to support an array of
    Portion of the commit id 080eec4fb4 ("ath6kl: Clear the IE in firmware
    quirk handling mechanism. Depending on the firmware installed on the device, the
    8) mlx4 device erroneously invokes the queue resize firmware operation
    In that case, the firmware will return the corresponding wait time.
    is PE address that should be enquired from firmware through RTAS
    if the firmware file doesn't advertise it.
    the code flow changed and the firmware is now
    firmware.
    and requires a firmware to be uploaded before it's usable.
      remoteproc: make sure we're parsing a 32bit firmware
    firmware, that will have to be removed
    but the implementation of firmware requests
    iwlwifi: split out firmware store
    store the firmware. Split this out into
    Since I wanted to constify the firmware
    to fix the firmware crash during wow suspend/resume.
    vendor-specific attribute MADs to firmware") we realized that the
    firmware would respond on all sorts of vendor-specific MADs.
    iwlwifi: move firmware completion wait
    iwlwifi: move firmware request into drv
    one part that deals with interaction with the PRCMU firmware
    not related to the PRCMU firmware.
    mfd: Remove check for db8500 firmware bug
    In prcmu firmware version 3.4.4 the issue with longer
    backing firmware in the PRCMU.
    mfd: Function for obtaining the db8500 prcmu firmware version
    version of the DB8500 PRCMU firmware is available, and revamps the
    firmware detection code a bit.
    in a single resource entry, firmware images can start supporting
    framework so multi-vdev firmwares can be leveraged: VDEV resource
    published by the firmware of the remote processor).
       existing firmware images (and we already want to: we can't introduce the
       existing firmware images.
    On the device tree case the code bails out when the firmware name cannot be found
    or if the firmware fails to be requested.
    device so don't use the SCU interfaces or the SCU firmware
    brcm80211: smac: remove firmware requests from init_module syscall
    brcm80211: fmac: remove firmware requests from init_module syscall
    and used by the drivers which have AP MLME in firmware but
    missing firmware.
    b43: prevent firmware on bcm5354 from taking over wrong GPIO pins
    firmware >= 478.104 it runs out of memory after a very short time in
    send. This was cased by a gpio misconfiguration, the firmware triggered
    work with firmware 666.2. Now the firmware just uses LED GPIO pin
    1. Driver and firmware do not support 22Mbps and 72Mbps bitrates.
    ath6kl: Collect residue firmware logs
    Collect residue firmware logs following firmware assert.
    logs lying in the firmware. This patch pulls those residue
    logs. This would give the full picture of the firmware.
    ath6kl: add padding to firmware log records
    firmware debug utility expects firmware log record size
    firmware record will be exactly 1500 bytes.
    ath6kl: Clear the IE in firmware if not set
    Remove check so that IE in firmware is cleared if not set. Without this fix, any
    received from firmware after uploading the firmware. Also it fixes
    any message from firmware.
    In commit 8c213fa "staging: r8712u: Use asynchronous firmware loading",
    the command to release the firmware was placed in the wrong routine.
    Interface-state not fully tracked", the driver attempts to upload firmware
    Note: Commit 8c213fa, which introdued asynchronous firmware loading
    [SCSI] qla2xxx: handle default case in qla2x00_request_firmware()
    types of firmware, so it might fix a bug in real life some day.
    [  955.108510] zd1211rw 1-3:1.0: firmware version 4725
    remoteproc: make sure we're parsing a 32bit firmware
    data communication to the firmware in some of the platform.
    for example, scan request issued to the firmware doesn't
    is now set by the iwl_parse_*_firmware.
    brcm80211: fmac: use correct firmware filename
    firmwares in the future.
      [SCSI] qla2xxx: Proper detection of firmware abort error code for ISP82xx.
      [SCSI] qla2xxx: Clear options-flags while issuing stop-firmware mbx command.
      [SCSI] isci: Fix NULL ptr dereference when no firmware is being loaded
      [media] hdpvr: update picture controls to support firmware versions > 0.15
    operating modes to call between kernel and firmware for thise cases. So
    kernel memdesc structure differ in size from what firmware specifies
      remoteproc: bail out if firmware has different endianess
      remoteproc: look for truncated firmware images
    and add to ath3k.c for firmware loading.
    With the firmware-assisted dump support we don't require a reboot when we
    fadump: Convert firmware-assisted cpu state dump data into elf notes.
    When registered for firmware assisted dump on powerpc, firmware preserves
    the first kernel before we register for firmware-assisted dump. After the
    the firmware preserves the entire partition memory at the time of crash the
    fadump: Register for firmware assisted dump.
    fadump: Reserve the memory for firmware assisted dump.
    crash, powerpc firmware will store CPU state data, HPTE region data and move
    If the firmware-assisted dump fails to reserve the memory, then fallback
    This patch also introduces a config option CONFIG_FA_DUMP for firmware
    fadump: Add documentation for firmware-assisted dump.
    Documentation for firmware-assisted dump. This document is based on the
    rtlwifi: rtl8192se firmware load can overflow target buffer
    maximimum possible firmware file size. Use it in the definition
    of the buffer which receives the firmware file data.
    the firmware file, e.g., 90000 (down from hard coded 164000). The current
    brcm80211: fmac: make sdio firmware filename specific
    The sdio driver part uses firmware name brcmfmac.bin. With addition
    the bcm43235, bcm43236, and bcm43238 for which firmware has been
    firmware download failure. However, also when enabling SDIO function 2
    remoteproc: bail out if firmware has different endianess
       Fix firmware data-in flow.
    firmware devcmd CMD_MAC_ADDR gets the mac address of a vnic from adapter.
    [SCSI] qla4xxx: Proper detection of firmware abort error code for ISP82xx
    port handle binding inside the firmware. This could lead to queued
    [SCSI] qla2xxx: Perform firmware dump procedure on mailbox command timeout.
    firmware to try to clear any residual commands associated with that fcport.
    [SCSI] qla2xxx: Increase speed of flash access in ISP82xx adapters to improve firmware load speed.
    Upgraded firmware on Smart Array P7xx (and some others) made them show up as
    - Fix unbounded firmware revision string from port cause panic (126560)
    [SCSI] qla2xxx: Proper detection of firmware abort error code for ISP82xx.
    [SCSI] qla2xxx: Clear options-flags while issuing stop-firmware mbx command.
    Not clearing the options flags in mbx1 could lead the firmware
    [SCSI] isci: Fix NULL ptr dereference when no firmware is being loaded
    If the firmware implements beacon filtering,
    Enabling this flag indicates to the firmware to allow
    iwlwifi: changes args to iwl_nic for firmware operations
    Remove the references to iwl_priv from the firmware request and
    iwlwifi: move firmware_loading_complete to iwl_nic
    Move firmware_loading_complete from iwl_priv to iwl_nic and rename it
    iwlwifi: move firmware_name to iwl_nic
    Delete firmware_name from iwl_priv and use iwl_nic instead.
    cxgb3: update firmware version
    This patch is sent in conjunction with the cxgb3 firmware update submission on linux-firmware.
    This patch updates the firmware version cxgb3 is requesting to 7.12.0.
    [media] hdpvr: update picture controls to support firmware versions > 0.15
    is because any firmware <= 0.15 didn't support them. The latest firmware
    [media] hdpvr: update picture controls to support firmware versions > 0.15
    is because any firmware <= 0.15 didn't support them. The latest firmware
    A special PLT firmware is used for calibration.
    [media] xc5000: declare firmware configuration structures as static const
    [media] xc5000: drivers should specify chip revision rather than firmware
    Specify chip revision at attach time rather than a firmware image.
    This is a better way to ensure that the correct firmware is loaded
    convert the firmware configuration attach-time parameter from
    [media] xc5000: allow drivers to set desired firmware in xc5000_attach
    newer versions of the xc5000 silicon require newer firmware
    of the xc5000a continue to use the same firmware.
    [  762.824912] cx24116_load_firmware: FW version 1.23.86.1
    be a firmware issue, but that breaks resource allocation so let's
    firmware each time the link state changes.  Up until now, the driver
      zd1211rw: firmware needs duration_id set to zero for non-pspoll frames
      staging: r8712u: Use asynchronous firmware loading
    staging: r8712u: Use asynchronous firmware loading
    of the firmware. The code now uses request_firmware_nowait().
    remoteproc: look for truncated firmware images
    Make sure firmware isn't truncated before accessing its data.
    Let remoteproc know when the firmware doesn't support any virtio
    with the remote processor (but only if supported by its firmware).
      moreover, we only add the virtio device if the firmware really
    - Loading a firmware which contains the OS image
    ath6kl: Fix firmware crash dump
    The firmware crash dump printout was wrong as it was using incorrect
    ath6kl: add blocking debugfs file for retrieving firmware logs
    When debugging firmware issues it's not always enough to get
    the latest firmware logs, sometimes we need to get logs from a longer
    reading from this file ath6kl will send firmware logs whenever available
    ath6kl: store firmware logs in skbuffs
    Currently firmware logs are stored in a circular buffer, but this was
    zd1211rw: firmware needs duration_id set to zero for non-pspoll frames
    zd1211 firmware messes up duration_id field if it is not set to zero by driver.
    zero results zd1211 outputting sane duration_id. This means that firmware is
    mwl8k: Remove BSSID from the firmware when the BSS is stopped
    this, the stale bss entry will still be maintained in the firmware
    If the firmware was over 2G, it would cause memory corruption and the
    system would die here.  Obviously we all know the firmware isn't going
    by a physical switch, and the firmware sends the events on the right
    enic: Check firmware capability before issuing firmware commands
    Check if firmware supports a particular command by first checking capability
    qlcnic: Fix firmware abort code check.
    Check bits 8-28 of peg_halt status register for firmware abort code.
    When firmware hang is detected, fw should stop sending pause control frames.
    netxen_nic: Error logging on firmware hang
    Log states of essential registers on firmware hang detection.
              firmware image to the flash firmware partition.
      IB/mlx4: pass SMP vendor-specific attribute MADs to firmware
    IB/mlx4: pass SMP vendor-specific attribute MADs to firmware
    feature.  However, the ConnectX firmware is able to handle such MADs.
    For unsupported attributes, the firmware returns a GET_RESPONSE MAD
    rtlwifi: Convert to asynchronous firmware load
    concerned changes in udev that break drivers that delay while firmware is loaded
    This patch converts all rtlwifi-based drivers to use the asynchronous firmware
    callback routine. Driver rtl8192se needs different handling of the firmware,
    ath9k_htc: Load firmware asynchronously
    firmware in an asynchronous manner, fixing timeouts
    the firmware sends WMI_SET_HOST_SLEEP_MODE_CMD_PROCESSED_EVENTID as
    In order to being sync with the firmware, the host has to wait for
    board file but before rest of the firmware files are fetched.
    rt2800: disable DMA after firmware load
    We can receive frames just after firmware load with current code, so
    disable DMA just after firmware is loaded, not before.
    Ralink USB driver initialize H2M_INT_SRC to 0 after firmware load, and
    Due to firmware limitations, we may not be able to
      asked for pll and firmware ops and compare :
      rtl_request_firmware        |
    The SFC9000-family controllers have firmware to manage all board
    sensors.  The firmware reports sensor alarms, which we log, and
    hwmon driver that exposes all sensors reported by the firmware.  Move
    These are defined alongside the firmware protocol in mcdi_pcol.h.
    When the MC reboots, either as part of a firmware upgrade or due to a
    twice, resulting in a spurious command failure after a firmware
    upgrade or frustrating recovery from a firmware bug.  Instead, if a
    driver or the firmware has already validated the board configuration.
    DSP firmware.
      ASoC: wm2000: Fix use-after-free - don't release_firmware() twice on error
    ASoC: wm2000: Fix use-after-free - don't release_firmware() twice on error
    then we'll release_firmware(fw) at the 'err_fw' label. But we've already
    release_firmware(fw) before leaving the function, but only ever call
    may now end up calling it without having called request_firmware(),
    but since request_firmware() deals gracefully with NULL pointers, we
    [media] it913x v1.23 use it913x_config.chip_ver to select firmware
    As recommended by Jason at ITE, the chip version should select firmware.
    However, to continue to support IT9137 firmware with different configuration
    [media] az6007: Fix some init sequences and use the right firmwares
    [media] drxk: Don't assume a default firmware name
    Move the ngene/ddbridge firmware into their drivers.
            1) The firmware used there didn't work for a few devices
            2) At least Terratec H7 doesn't seem to require a firmware
    After this change, if firmware is not specified, the driver will
    use a rom-based firmware (this seems to be the case for Terratec
    In any case, the firmware seems to be optional, as the DRX-K driver
    don't return the firmware load error.
      [SCSI] qla4xxx: Added error logging for firmware abort
    makes it possible to boot firmware but as HTC layer does not yet
    packets to the firmware. That will be added soon.
    will load ART firmware utf.bin and testscript nullTestFlow.bin. These files
    should be put in the firmware folder.
    The dib0700 needs a binary firmware file. This patch added the MODULE_FIRMWARE-macro.
    Some firmware will access memory in ACPI NVS region via APEI.  That
    Some firmware will access memory in ACPI NVS region via APEI.  That
    Some APEI firmware implementation will access injected address
    notified by firmware to do the recovery work.
    [media] tlg2300: fix up check_firmware() return
    The caller doesn't check the return value of check_firmware() but static
    XC4000 tuner when no firmware file available.
    [SCSI] qla4xxx: Added error logging for firmware abort
    Added debug print with error code in case of firmware error.
    shifts should be >> 4 thus treating the firmware version as a BCD quantity.
    provided by the platform or isci_firmware.bin).  While IO running to
    [SCSI] isci, firmware: Remove isci fallback parameter blob and generator
    linux-firmware.git repository.
    * When the host receives a frame which the firmware marked as trigger,
      in APSD power save queue are sent to the firmware.
      last frame from the APSD queue, it is indicated to the firmware using
    we can get this (if the user forgot to upload the firmware):
    r600_cp: Failed to load firmware "radeon/SUMO_pfp.bin"
    atl1c 0000:03:00.0: version 1.0.1.0-NAPI.213057] [drm:evergreen_startup] *ERROR* Failed to load firmware!
    the firmware was not loaded. So lets remove the WARN() from the TTM DMA code.
      firmware: google: fix gsmi.c build warning
    GPIO numbers from firmware or setting up wl12xx for SDIO)
    When downloading firmware into the device, the driver fails to check the
    sfc: Update MCDI (firmware interface) definitions
    firmware and the only multicast frames that host is interested
      firmware: Fix an oops on reading fw_priv->fw in sysfs loading file
    [media] xc3028: fix center frequency calculation for DTV78 firmware
    force reload of DTV7 firmware in VHF band with Zarlink demodulator",
    The problem is that the firmware DTV78 works fine in UHF band (8 MHz
    This is coherent to what was implemented for the DTV7 firmware by an
    In the end, now the center frequency is the same for all firmwares
    [media] it913x changed firmware loader for chip version 2 types
    > > will try to load a firmware
    > > [ 1106.253773] dvb-usb: downloading firmware from file
    > Looks like the the firmware is not at all compatible with your device.
    > You will have force to use this firmware
    > dvb-usb-it913x firmware=1
    Here is a modified firmware loader for version 2 types.
    The firmware must be as in original
    ./dvb_get_firmware it9135
    using the firmware of the H5.
    9006 devices should use dvb-usb-it9135-02.fw firmware.
      * the firmware was not being forwared declared
    firmware: Fix an oops on reading fw_priv->fw in sysfs loading file
    firmware_loading_store+0xf9/0x17b
    Its caused by the fact that firmware_loading_store has a case 0 in its
    _request_firmware sets fw_priv->fw to NULL and the time the corresponding sysfs
    firmware_loading_store.  Fix it by extending the protection of the fw_lock mutex
    Upon failure to read firmware version from chip or upon failure in responses
    to firmware download the UART needs to be flushed of its existing buffers so
    as BT, FM and GPS caused issues during firmware download failure cases or
    cases when the firmware download took longer than usual.
    - do like the windows driver that upload the tuner firmware
    mwl8k: Recover from firmware crash
    In case of firmware crash, reload the firmware and reconfigure it
     - Extend the firmware reload support for sta firmware as well
    Ideally, hardware/firmware initialization is complete after the
    Patch fix firmware error on "iw dev wlan0 scan passive" for
     iwl3945 0000:03:00.0: Loaded firmware version: 15.32.2.9
    firmware will report error, when we try to do passive scan on radar
    Under Ethernet, the ConnectX firmware treats (decode/encode) the four
    and the firmware. Leave the CONT_RX enum for backwards compatibility.
    To enable firmware debug messages through uart interface,
    ath6kl: Support for TCP checksum offload to firmware
    The change enables offloading TCP checksum calculation to firmware.
    2) perform appropriate housekeeping if firmware command succeeds.
    > dvb-usb-it9135-01.fw firmware
    > IT9137 remain on previous firmware.
    AF9015 firmware does not like if it gets interrupted by I2C adapter
    hardware and firmware revision. Currently the driver just waits for
    Atmel ATmega168P with custom firmware. Communication between the host
    > GB of RAM and UEFI firmware.
            - Add debugfs support to obtain firmware trace, saved firmware trace on
              fwtrc: collect current firmware trace.
              fwsave: collect last saved fw trace as a result of firmware crash.
    As firmware starting from 3.2.0.12 has some API changes and doesn't work
    ath6kl: handle firmware names more dynamically
    Currently ath6kl has just hardcoded paths to each firmware file. Change
    other. That way it's easier to dynamically create full paths to firmware and
    firmware names. I deliberately omitted board file support as
    This is needed for firmware API 3.
    ath6kl: Send own IP addr to the firmware during WOW suspend
    At present, firmware ARP module has capability to hold 2 IP addr.
    net_dev for our device is greater than firmware limit (MAX_IP_ADDRS)
    in order to determine the matching firmware version.
    dsp_code struct is not created if firmware is invalid, so check
    and zero of firmware pointer is not necessary
      mmc: vub300: fix type of firmware_rom_wait_states module parameter
    firmware: Refer to the co-maintained linux-firmware.git repository
      mmc: vub300: fix type of firmware_rom_wait_states module parameter
    mmc: vub300: fix type of firmware_rom_wait_states module parameter
    bnx2: Update driver to use new mips firmware.
    New firmware fixes iSCSI problems with some LeftHand targets that don't
      [SCSI] qla2xxx: Disable generating pause frames when firmware hang detected for ISP82xx.
      [SCSI] qla2xxx: Encapsulate prematurely completing mailbox commands during ISP82xx firmware hang.
      [SCSI] qla2xxx: Stop unconditional completion of mailbox commands issued in interrupt mode during firmware hang.
    during power ons to validate firmware operation.
      ASoC: WM8958: correctly show firmware magic on mismatch
    wl12xx: remove unused firmware version macros
    - Conditionalize the firmware upgrade/downgrade so that it is only
    Check for firmware alive and do premature completion of
    For 4032, context reset was the same as chip reset, and any firmware
    For 82xx, the iSCSI firmware runs along with FCoE and the NIC
    firmware contexts, and an error encountered doesnot essentially mean
    [SCSI] mpt2sas: Rearrange the the code so that the completion queues are initialized prior to sending the request to controller firmware
    or else strange firmware initialization errors may occur.
    [SCSI] qla2xxx: Corrected the display of firmware dump availability for ISP82xx.
    [SCSI] qla2xxx: Proper cleanup of pass through commands when firmware returns error.
    To make it worse, buggy firmware on some platforms may falsely generate
    hardware errors. Although the firmware bugs should be fixed, on the other hand,
    compatible with older firmware versions and other chips. The exception here is
    cause any issues with previous firmware versions since firmware only checks for
    updated to match the firmware.
    checking the firmware capabilities.
    Basically, what we did until now is take out a chunk of the firmware
    the firmware image, check it for sanity and copy it to local buffer for
      succeed (due to a firmware bug or system crash, for example)
    is always supplied by the ME firmware
    brcm80211: fmac: fix firmware shared structures version
    firmwares with new features.
    other VFs, possibly attached to other guest OSs since ConnectX firmware is not
    ath6kl firmware supports scheduled scan functionality with the wow ssid
    filter. But the firmware does not send any events after scan results
    Sched scan needs firmware version 3.2.0.6 or later. If firmware doesn't
    According to the firmware engineers WOW_FILTER_SSID is actually the
    be loaded and executed by EFI firmware. The bzImage appears to the
    firmware as an EFI application. Luckily there are enough free bits
    application, thereby coercing the EFI firmware into loading it and
       a high address address by the firmware. This was required to get my
       macbook booting because the firmware loaded it at 0x7cxxxxxx, which
    make the firmware to increment the sequence number which is incorrect and
    [SCSI] qla2xxx: Disable generating pause frames when firmware hang detected for ISP82xx.
    [SCSI] qla2xxx: Encapsulate prematurely completing mailbox commands during ISP82xx firmware hang.
    [SCSI] qla2xxx: Stop unconditional completion of mailbox commands issued in interrupt mode during firmware hang.
    ASoC: WM8958: correctly show firmware magic on mismatch
    [media] dvb_get_firmware: updates for it913x
    Changes to extract firmware for it913x devices
    ./get_dvb_firmware it9135
    ./get_dvb_firmware it9137
    dvb-usb-it9135-01.fw firmware
    IT9137 remain on previous firmware.
    IT9135 devices seem more stable on this firmware.
    If the user wishes to remain on it9137 firmware they can change
    back using firmware=1 module option.
    [media] dvb-usb/it913x: multi firmware loader
    Multi firmware loader
     This uses scatter write firmware headers
     The firmware must start with 03 XX 00
     and be the extract firmware length.
     I have tried all available firmwares with this loader.
    This patch is in preparation for multi firmware loading and
    firmware: google: fix gsmi.c build warning
      CC      drivers/firmware/google/gsmi.o
    drivers/firmware/google/gsmi.c: In function gsmi_get_variable:
    drivers/firmware/google/gsmi.c:348: warning: comparison of distinct
    USB: isight: fix kernel bug when loading firmware
    We were sending data on the stack when uploading firmware, which causes
    Commit a144c6a (PM: Print a warning if firmware is requested when tasks
    immediately if firmware is requested when usermodehelpers are disabled.
    drivers/base/firmware_class.c:
    In particular, this race condition in _request_firmware() causes task freezing
    to get the firmware/microcode image from userspace when actually the
    are those that depend on userspace via request_firmware(), such as x86
    It is needed by firmware to use the correct rate for BAR frame transmission
    ignored, but a future firmware version will rectify that. Since we
    [media] xc5000: Remove the global mutex lock at xc5000 firmware init
    Don't provide FCoE and iSCSI statistics to management firmware if
    rtl8192c: Do not log firmware load message unless actually done
    firmware from disk many times; however, the log message was not moved.
    management firmware.
    To support copying MAC addresses to firmware query structure.
    In latest firmware's SFI tables, pmic_gpio has been set to
    On AMD family 10h we see firmware bug messages like the following:
    Here is the firmware assert message:
    kernel: iwlagn 0000:03:00.0: Loaded firmware version: 17.168.5.3 build 42301
    Here is the firmware assert message:
    kernel: iwlagn 0000:03:00.0: Loaded firmware version: 17.168.5.3 build 42301
      firmware: Sigma: Fix endianess issues
      firmware: Sigma: Skip header during CRC generation
      firmware: Sigma: Prevent out of bounds memory access
    Print the name of nvs/fw if request_firmware fails. This will make
    Add support for loading the SigmaDSP firmware using regmap. This allows us
    Move the structs and functions only used by SigmaDSP firmware loader itself
    Provide some error messages when loading the firmware fails, so it is possible
    ASoC: Move SigmaDSP firmware loader to ASoC
    It has been pointed out previously, that the firmware subsystem is not the right
    place for the SigmaDSP firmware loader. Furthermore the SigmaDSP is currently
    ASoC framework in the future, with support for ALSA controls for firmware
    for the SigmaDSP firmware loader is the ASoC subsystem.
    firmware: Sigma: Fix endianess issues
    Currently the SigmaDSP firmware loader only works correctly on little-endian
    firmware: Sigma: Skip header during CRC generation
    The firmware header is not part of the CRC, so skip it. Otherwise the firmware
    firmware: Sigma: Prevent out of bounds memory access
    The SigmaDSP firmware loader currently does not perform enough boundary size
    checks when processing the firmware. As a result it is possible that a
    malformed firmware can cause an out of bounds memory access.
    are completely inside the firmware data boundaries before processing them.
    firmware.  The TSO cannot coexist with ASF management firmware though.
    "drivers/firmware/efivars.c:609: warning: initialization from".
    A new feature in the dongle firmware requires a handshake during
    firmware intialization. The request is sent in event packets which the
    brcm80211: fmac: change firmware/nvram name to be more generic
    The nvram file contains info for firmware which varies with different
    hardware designs. Use more common firmware/nvram file names instead
    of those in Linux firmware repository to avoid misunderstanding.
    Staging: bcm: Fix semaphore locking error when downloading firmware.
    download firmware for the bcm driver.
    When downloading firmware for this driver,
    powerpc/pseries: Cancel RTAS event scan before firmware flash
    The RTAS firmware flash update is conducted using an RTAS call that is
    AF9015 firmware does not like if it gets interrupted by I2C adapter
    rtlwifi: rtl8192cu: Change firmware upload to use block writes
    Driver rtl8192cu writes the firmware with 32-bit asynchronous writes. This
    firmware crash.
    ath6kl: Find ar->max_norm_iface in firmware IE parsing
    supported vifs are parsed from firmware IE in ath6kl_fetch_fw_api2()
    The SD8797 firmware image is shared with mwifiex driver.
    Whoever gets loaded first will be responsible for firmware
    [media] get_dvb_firmware: add support for HVR-930C firmware
    It turns out that v4's firmware provides a command so we can query
    Starting with v3 hardware, the firmware supports this shorter
    The corresponding firmware image file is located at:
    ASoC: Say how long short WM8958 DSP2 firmwares are
      gma500: Add the glue to the various BIOS and firmware interfaces
    gma500: Add the glue to the various BIOS and firmware interfaces
    ath6kl: add firmware IE for maximum number of vifs
    Not all firmwares support multiple vifs and we need to read the limit from
    the firmware image.
    Needed when detecting how many vifs firmware supports.
    ath6kl: add firmware filename info to struct ath6kl_hw
    ath6kl: add ar6004 firmwares to sdio module
    ath6kl: add firmware IE for board data address
    Board data address can change between firmwares so we need to read that
    from the firmware image.
    This is to make it configurable by firmware IEs. Also determine if we need
    drivers/firmware/dmi_scan.c: make dmi_name_in_vendors more focused
    Add USB support for ar6004. Currently only firmware can be booted,
    no commands can be sent to firmware yet as HTC layer doesn't work
    ath6kl: firmware boot fixes for ar6004
    The firmware expects the minimum length of
    command is 12. This command gets rejected by the firmware. To fix
    bma023 driver with the firmware naming of it.
    during suspend and restart firmware during resume. If we are connected
    Also fix a bug where we were comparing firmware scan status values
    that ath6kl didn't detect when firmware informed about failed scans. I
    ath6kl: print firmware crashes always
    Currently firmware crash dump is printed only if debug is enabled.
    by putting interface up and down. This is handy if firmware gets to some
    ath6kl: Maintain firmware interface index in struct ath6kl_vif
    firmware interface type during initialization because the type
    ath6kl: fix firmware start address for ar6003 hw2.0
    Sangwook found out that commit 639d0b89 ("ath6kl: read firmware start
    address from hardware") broke firmware boot on ar6003 hw2.0 as it seems
    with the new firmware (3.1.1.609), enable it back.
    > ipr 0000:01:01.0: Adapter firmware version: 06160039
    This is for example useful when loading a firmware in a predefined volatile
    Watchdog timer should be able to be stopped even firmware is not
            compat_firmware_class compat arc4 aes_generic deflate ecb cbc
    wl12xx: increase firmware upload chunk size
    The chunk size used during firmware upload was set to 512, which is
    bytes for firmware upload and the data is always sent in byte mode.
    Bluetooth: bfusb: Fix error path on firmware load
    (ath3k_probe) calls request_firmware() which definitely sleeps. Hence, we should
    Bluetooth: ath3k: output firmware filename when request_firmware failed
    refuses to load when the firmware is unavailable.
    as in recent files both firmwares are the same.
    NVMe: Add download / activate firmware ioctls
    NVMe: Read the model, serial & firmware rev from the controller
      [media] MFC: Change MFC firmware binary name
      ALSA: hdspm - Enable all firmware ranges for PCI MADI/AES cards
      ixgbe: fix reading of the buffer returned by the firmware
    rework of firmware file.
    [media] MFC: Change MFC firmware binary name
    This patch renames the MFC firmware binary to avoid SoC name in it.
    This driver requires firmware (which Abilis has provided with redistribution
    firmware can be downloaded from here:
    ixgbe: fix reading of the buffer returned by the firmware
      RDMA/cxgb4: Mark QP in error before disabling the queue in firmware
    If a line in the firmware file is larger than the given buffer size (and
    so the firmware file size), size is set to a value larger than the actual
    drivers/firmware: Add module.h to google/gsmi.c
    powerpc: fix implicit use of cache.h in kernel/firmware.c
     CC      arch/powerpc/kernel/firmware.o
    arch/powerpc/kernel/firmware.c:20: error: expected '=', ',', ';', 'asm' or '__attribute__' before '__read_mostly'
    arch/powerpc/kernel/firmware.c:21: error: expected '=', ',', ';', 'asm' or '__attribute__' before '__used'
    make[2]: *** [arch/powerpc/kernel/firmware.o] Error 1
    Bluetooth: bfusb: Fix error path on firmware load
    (ath3k_probe) calls request_firmware() which definitely sleeps. Hence, we should
    RDMA/cxgb4: Mark QP in error before disabling the queue in firmware
    to be a Marvell 88SE9485 part, with OCZ firmware/BIOS.
    - Some of the tuning in the firmware seems to ensure much better
    ALSA: hdspm - Enable all firmware ranges for PCI MADI/AES cards
    From the Windows INF file, we know the firmware ranges for all RME
    one revision ID per firmware version.
    The fix is in the driver-firmware handshake device removal code. We
    and then report devices. This feature is only enabled on IT firmware
    devices. For IR firmware, this feature is turned off. This feature is to
    If promiscous mode setting fails, reset loopback mode setting in firmware.
         firmware to abort the connection with RST.
    parsing the openfirmware tree. This causes calls to pci_map_rom() to fail.
    If a device's firmware initiates a bus reset by setting the IBR bit in
    Use 32bit value starting at offset 0x2d for displaying the firmware
    WPA has been disabled in the HCF layer. The firmware does
    firmware cards.
    ixgbe: fix endianess when writing driver version to firmware
    - Add a check to the switch statement in lpfc_decode_firmware_rev to check
    Since now login is not controlled by firmware, LLD need to free
    up the DDBs after firmware init. This will ensure free DDBs are
    [SCSI] qla4xxx: Add new FLT firmware region
    resources (the NVM and Phy) shared by the driver, firmware and hardware
    the software/firmware/hardware semaphore (arbitration of which is done in
    semaphore is owned by the firmware or hardware.
    not trigger a stop of the video firmware (due to missing lines errors).
    1. Adding new chip revisions including new firmware.
    When detect command queue stuck, instead of reload the firmware
    Lenovo X220, the MMC controller is already disabled by firmware it seems,
    [media] update az6027 firmware URL
    gpio_base was set to 0 if no system platform data or open firmware
    The corresponding firmware image file is located at:
    sometimes the firmware gets confused when recalibrating to the new
    ixgbe: fix driver version initialization in firmware
    firmware. If the os does not support the particular firmware
    management tools, the firmware requires a driver version to be written
    staging: brcm80211: remove dongle firmware related debug code
    firmware with this driver is stable this code does not belong
    bnx2: don't request firmware when there's no userspace.
    The firmware is cached during the first successful call to open() and
    cached firmware between open() and unregister_netdev().
    firmware is mandatory.
    The firmware on old 970 blades supports some kind of takeover called
       ports (aka NPEs).  The NPE needs a firmware in order to function.
    For some reason firmware is sending invalid rates when we try to
    process_sigma_firmware(codec->control_data, ADAU1701_FIRMWARE).
    gets it from firmware in separate tlv (chan_band_tlv).
    while preparing scan channel list for firmware Null entries
    ath6kl: allow firmware to override firmware patch address
    In some firmware versions their patch address has changed. If the firmware
    This patch adds helper functions to use PF as proxy for SRIOV VF firmware
    firmware will have done it for us, and under hypervisors such
    space between the first-level interrupt handlers and the firmware
    qlcnic: Added error logging for firmware abort
            short unsigned int         firmware_rev;         /*    28     2 */
        because the firmware is not filling in this field until the driver has
        the ioc->msix_vector_count.  This count is reported to firmware in the
    ath6kl: Indicate the roaming capability of the firmware
    firmware may do a background scan to find a better AP and try to
    Since the firmware is capable of handling roaming, let
      r8169: add MODULE_FIRMWARE for the firmware of 8111evl
        commands and firmware loading.
    [media] get_dvb_firmware: whitespace fix
    [media] get_dvb_firmware: update tda10071 file url
    [media] get_dvb_firmware: add dvb-fe-tda10071.fw
    TDA10071 firmware version 1.21.31.2
    o A performance drop was seen with firmware loaded
    "NMI occurred" messages when the firmware is unable to source the NMI.
    KDUMP to succeed even on NMIs that are unknown to the platform firmware.
    The firmware doesn't wait after lifting the PCI reset. However it does
    number of places thinking that the firmware blobs are required still.
    the OPAL runtime firmware.
    On machines supporting the OPAL firmware version 1, the system
    firmware, giving control to the kernel in hypervisor mode.
    These machines will be using a new firmware called OPAL
    the firmware doesn't always do it.
    When the driver (or most likely firmware) decides which AP to use
    commands and firmware loading.
    r8169: add MODULE_FIRMWARE for the firmware of 8111evl
    Add MODULE_FIRMWARE for the firmware of RTL8111E-VL
    simplify code - the defines to interact with the firmware are left in
    Encapsulation should always be enabled. Support is either via firmware
    that will only update the firmware. We don't need to support this
    ath6kl: add firmware capabilities support
    The new firmware format includes capability bits which make it
    possible to check what features the firmware supports. Add infrastructure
    ath6kl: read reserved ram size from firmware file
    A new version of firmware needs different reserved ram size so read that
    from the firmware image.
    ath6kl: read firmware start address from hardware
    It's actually possible to read the firmware start address from hardware,
    ath6kl: refactor firmware ext data addr and reserved ram handling size
    ath6kl: refactor firmware load address code
    ath6kl: add support for firmware API 2 format
    Brent reported that ath6kl busy loops if firmware doesn't boot for some
    reason (in this case he was using an older firmware which wasn't supported
    ath6kl: separate firmware fetch from upload
    In preparation for the new firmware image format.
    ath6kl: query device tree for firmware board-id
    libertas: prioritize usb8388_olpc.bin firmware on OLPC machines
    Normally, the v9 firmware will be loaded if it's available.  However, on
    OLPC XO-1 machines, the olpc-specific firmware supports extra functionality.
    This makes the libertas driver attempt to load the custom firmware first
    machine), fall back to attempting to load the other firmwares.
    usb8388_olpc.bin is currently found in the linux-firmware repository.
    Unblock the RX BA constraint event from firmware in AP mode as well.
    The latest firmware supports up to 16 SSIDs in the scheduled scan
    filter on SSIDs.  Due to the nature of the wl12xx firmware API, we
    The firmware only asks for one dummy packet at a time, but sometimes we
    based on the PM bit of incoming frames. AP firmware is capable of
    firmware may do a background scan to find a better AP and try to
    associate. Since firmware based roaming is faster, inform
    wpa_supplicant to avoid roaming and let the firmware decide to
    ESSID and the firmware will decide on the BSSID. Since it is not
    better to leave the roaming decision to the firmware.
    Input: elantech - use firmware provided x, y ranges
    Fail the probe if the LCD resolution described in card firmware does
    If the driver fails to get LVDS LCD data from the firmware, it falls
    ath6kl: Process regulatory requests from firmware.
    ath6kl: Add debugfs interface to dump diagnostic registers from firmware
    ath6kl: read fwlog from firmware ring buffer
    if firmware crashes we need to retrieve the latest logs through diagnose
    ath6kl: implement support to set firmware log parameters
    ath6kl: add firmware log support
    To save memory firmware log support is enabled only when CONFIG_ATH6KL_DEBUG
    firmware builds do not seem to like this when P2P is not enabled.
    When loading the firmware, complete each chunk by sending an I2C flush
    I2C transfer, which slows down the firmware loading especially when
     In some random cases, the firmware is sending two disconnect event to
    fw for both STA and AP roles") changed the name of the firmware name
    dmaengine i.MX SDMA: use request_firmware_nowait
    The firmware blob may not be available when the driver
    request_firmware_nowait() and continue without firmware.
    dmaengine i.MX SDMA: set firmware scripts addresses to negative value initially
    When the controller is disruprted (reboot, or setting firmware, etc),
      following write to PHYSDEV_CONTROL register for the firmware reaction, check
    - Swap all values that come from the firmware image on little endian systems.
    [SCSI] qla2xxx: Issue mailbox command only when firmware hung bit is reset for ISP82xx.
    Minidump allows us to catpure a snapshot of the firmware/hardware states at the
    [SCSI] qla4xxx: Added support for adapter and firmware reset
    [SCSI] scsi: Added support for adapter and firmware reset
    perform adapter or firmware reset as suggested by
    user/application can write "adapter" or "firmware" on
    in scsi_host_template to call LDD adapter or firmware
    This command is used to read ACB params from firmware
    This command will causes the firmware to update all
            Since firmware autologin is disabled this function will not work.
    [SCSI] bnx2fc: Clear DESTROY_CMPL flag after firmware destroy
    Since this flag was never cleared, the driver does not wait for firmware
    Since we enable interrupts before initializing the firmware, use the chip
    Also remove the unnecessary firmware attributes test.
          firmware interface, but requests not to validate it, but when a
          ref-tag error is detected by firmware, it would put
    [media] get_dvb_firmware: Firmware extraction for IT9135 based devices
    [media] mceusb: query device for firmware emulator version
    firmware. Second are "emulator" devices, which are built using custom
    hardware and firmware, written to emulate Microsoft's firmware. Third
    are "port" devices, which have their own device driver and firmware,
    responds "illegal command" to the query to get firmware emulator version
    According to MS docs, the device firmware may halt after receiving an
    unknown instruction, but that it should be possible to tell the firmware
      drivers:misc: ti-st: free skb on firmware download
      firmware: fix google/gsmi.c build warning
    The wl12xx firmwares support multiple SSIDs in a single sched_scan
    firmware loader: allow builtin firmware load even if usermodehelper is disabled
    In commit a144c6a6c924 ("PM: Print a warning if firmware is requested
    to load the firmware when tasks are frozen - we also failed the load.
    But that check was done before the check for built-in firmware, and then
    built-in modules can no longer load their firmware even if the firmware
    checking the built-in firmware.
    b43/legacy: Remove firmware IDs
    to a set of firmware files. However, this is hardly useful today.
    The firmware keeps track of channel usage. This data can
    firmware commands.
    The firmware keeps track of channel usage. This data can
    carl9170: import updated firmware headers
    Import new headers from our firmware branch:
    carl9170: fix timekeeping for HW_COUNTER firmwares
    would interfere with the firmware internal timekeeping,
    the function has to be moved into the firmware.
    staging: rtl8192e: Convert typedef firmware_status_e to enum firmware_status
    staging: rtl8192e: Convert typedef firmware_source_e to enum firmware_source
    staging: rtl8192e: Convert typedef firmware_init_step_e to enum firmware_init_step
    staging: rtl8192e: Convert typedef rt_firmware to struct rt_firmware
    staging: brcm80211: Fix handling of firmware and inits on big-endian platforms
    The firmware files are encoded as little-endian.  Do the appropriate swapping
    2. The NVS file is fetched by calling request_firmware() before it is
    The commit "Not all systems expose a firmware or platform mechanism for
    drivers:misc: ti-st: free skb on firmware download
    If during validation of the firmware download the data doesn't match what is
    expected out of the chip, this calls for a firmware download failure and a
    download firmware behaves differently at different times, when logs are
    wait_for_completion during the firmware send/wait sequence is being re-used
    and hence this needs to be re-initialised for fool proof firmware download
    b43: use enum for firmware header format
    Replace "old" and "new" with number of the first firmware known to use
    Remove support for firmwares that require 2 spare blocks for packet TX
      Not all systems expose a firmware or platform mechanism for changing the backlight intensity on i915, so add native driver support.
    Not all systems expose a firmware or platform mechanism for changing the backlight intensity on i915, so add native driver support.
    and (Re)Association Response frames internally (likely in firmware).
    driver/firmware.
    frames internally (in firmware most likely) in AP mode.
    ath3k.c for firmware loading.
       asic mode as part firmware boot parameters to firmware.
       ASIC ID. MSI-X vector assignment and programming done by firmware. Fixed
      powerpc/pseries: Fix kexec on recent firmware versions
    firmware need to be made available for user space (e.g., RSN IE for
    libertas: remove some dead code in if_spi_prog_helper_firmware()
    ath6kl: Release the memory allocated for the firmware
    Nowhere the firmware memory is freed, free it during
    o firmware logging
    Testmode, firmware logging and suspend support will be added soon. HCI
    firmware: fix google/gsmi.c build warning
    drivers/firmware/google/gsmi.c:473: warning: initialization from incompatible pointer type
    as the third product ID.  Those have Agere firmware.
    assumed to have Intersil firmware.  Cards with Agere firmware use
    This is needed to match wireless cards with Intersil firmware that have
    iwlagn: move context init after firmware loading
    firmware capabilities. Currently only the
    firmware-dependent setup before registering
    iwlagn: bump firmware API for some devices
    We're working on improvements for the firmware
    iwlagn: separate firmware version warning
    We sometimes need to support new firmware API for
    version of firmware to people who need to test.
    driver will warn everybody that their firmware is
    firmware isn't fully backward compatible)
    functions print consistent messages on error. I needed the firmware
    powerpc/pseries: Fix kexec on recent firmware versions
    Recent versions of firmware will fail to unmap the virtual processor
    The address argument is ignored by firmware on unregister so we
    notified by firmware to do the recovery work.
    defined under /sys/firmware/shutdown_actions/on_restart. Currently the
    be2net: add support for flashing Teranetics PHY firmware
      ALSA: asihpi - Don't leak firmware if mem alloc fails
      ALSA: hdspm - Add firmware revision 0xcc for RME MADI
    firmware arrays in 0a8692b534e18fcec6eac07551bb37a22659f5c7 (rtl8192u_usb:
    Remove built-in firmware images).
    drivers/firmware/efivars.c:161: warning: utf16_strlen defined but not used
    drivers/firmware/efivars.c:602: warning: initialization from incompatible pointer type
    ALSA: asihpi - Don't leak firmware if mem alloc fails
    We leak the memory allocated to 'firmware' when we fail to
    release_firmware() after a kmalloc() failure in hpi_dsp_code_open().
       asserts IOC is in CNA mode in bfa_ioc_firmware_lock() and
       bfa_ioc_firmware_unlock() in bfa_ioc_ct.c.
      [SCSI] bnx2fc: Handle REC_TOV error code from firmware
      [media] NetUP Dual DVB-T/C CI RF: load firmware according card revision
      dmaengine: imx-sdma: sdma_get_firmware does not need to copy fw_name
    as the third product ID.  Those have Agere firmware.
    assumed to have Intersil firmware.  Cards with Agere firmware use
    This is needed to match wireless cards with Intersil firmware that have
    ALSA: hdspm - Add firmware revision 0xcc for RME MADI
    Apparently, there are multiple old firmware revisions in the wild for
    Program the firmware task structure with init_flags indicating the device is
    [SCSI] bnx2fc: Handle REC_TOV error code from firmware
    Driver decides to initiate REC on REC_TOV timer pop. The firmware maintains the
    REC timer and informs the driver as a firmware error message, which is an
    events from firmware that indicate data loss.
    response, the firmware has to be informed about the offset from which the
    firmware so that the firmware can program the task. Upon the sequence cleanup
    0x1     firmware filename: dvb-netup-altera-01.fw
    0x4     firmware filename: dvb-netup-altera-04.fw
    [media] NetUP Dual DVB-T/C CI RF: load firmware according card revision
    0x1     firmware filename: dvb-netup-altera-01.fw
    0x4     firmware filename: dvb-netup-altera-04.fw
    code for other types of firmware, and put the multiple-line comments
    In drivers/media/dvb/frontends/drxd_hard.c::load_firmware() I see 3
     allocated to it by request_firmware() by neglecting to call
     release_firmware().
     2) After a successful request_firmware() we allocate fw->size bytes
    [media] em28xx: Change firmware name for Terratec H5 DRX-K
    Use a name convention for the firmware file that matches on the
    current firmware namespacing. Also, add it to the firmware
    Better than ERROR -3. This happens with Terratec H5 firmware.
    I suspect that the scu_command is dependent on the firmware
    The microcode firmware provided on Terratec H5 seems to be
    firmware per-device.
    [media] drxk: Print an error if firmware is not loaded
    If something bad happens during firmware load, an error
    [media] drxk: Avoid OOPSes if firmware is corrupted
    Don't read paste the buffer, if the firmware is corrupted.
    setting for some things, and it has its own firmware.
    [media] get_dvb_firmware: Get DRX-K firmware for Digital Devices DVB-CT cards
    Get DRX-K firmware for Digital Devices DVB-CT cards
    [media] s2255drv: firmware version update, vendor request change
    removes obsolete comments. updates firmware versions. firmware vendor request simplified.
    [media] xc4000: check firmware version
    Enabled code to check if the version of the firmware reported by the hardware
    This patch causes the tuner reset command to be ignored in the firmware
    code, since this only happens when the BASE/INIT1 firmware is loaded by
    check_firmware(), and in that case check_firmware() already calls the
    reset callback before starting to load the firmware.
    [media] xc4000: firmware initialization
    This patch fixes/cleans up the loading of the firmware file when the
    [media] xc4000: check_firmware() cleanup
    This patch makes the following fixes in check_firmware():
      - there is only one BASE and INIT1 firmware for XC4000
    Removed unused code from load_scode() (all SCODE firmwares are
    [media] xc4000: simplified seek_firmware()
    This patch simplifies the code in seek_firmware().
    [media] xc4000: added firmware_name parameter
    The firmware_name module parameter makes it possible to set the firmware
    [media] xc4000: rename firmware image filename
    Give the xc4000 firmware filename a filename that makes more sense for public
    [media] xc4000: get rid of hard-coded 8MHz firmware config
    Remove a hack I had put in to force the firmware to be 8MHz, now setting
    the firmware properly based on the target standard.
    [media] xc4000: continued cleanup of the firmware loading routine
    Properly setup the standard firmware loading and scode loading, as well as
    error when the standard firmware sets the video standard, but everything else
    [media] xc4000: add code to do standard and scode firmware loading
    Add code to handle firmware blobs for the standard and scode.  Note there
    appears to be some issue with loading the DTV8 standard firmware, probably
    [media] xc4000: remove xc5000 firmware loading routine
    Since we use the xc3028 version of the firmware file parsing routine (which
    [media] xc4000: properly set type for init1 firmware
    We need to set the firmware type properly in order to locate the init1
    firmware.
    firmware load.  With this change, it would appear that the entire base firmware
    [media] xc4000: pull in firmware management code from xc3028
    Switch over to using the firmware management routines from the tuner-xc2028,
    firmware does not load properly (i2c write errors about 300 bytes in).
    else calls to request_firmware() will hit an oops in 2.6.31.
      Input: synaptics - set minimum coordinates as reported by firmware
    - Instead of waiting for a fixed amount of time after performing firmware
      readiness of the firmware for bring up.
    - Add revision and date to the firmware image format.
    - Use revision instead of rev_name to check firmware image version.
    - Update temporary offset after memcopy is complete for firmware update.
        a firmware response for the prior request.
    dmaengine: imx-sdma: sdma_get_firmware does not need to copy fw_name
    sdma_get_firmware().
      firmware: gsmi: remove sysfs entries when unload the module
      driver-core: Kconfig grammar corrections in firmware configuration
    drivers/firmware/sigma.c needs MODULE_LICENSE
    EFI provides an area of nonvolatile storage managed by the firmware. We
    HPI Version is used to check for firmware compatibility.
    This version  will accept 4.08.xx released firmware,
    and will also accept 4.09.xx beta firmware
    Mute functionality was recently added to the DSP firmware
    o In mn firmware case, file fw older than flash fw is allowed.
    bnx2: Fix endian swapping on firmware version string
    Otherwise, the firmware will not respond and we'll have to wait for
    set by firmware.  Unfortunately the new code causes throughput to stop
    MIPS: ARC: Fix build of firmware library on uniprocessor.
    and firmware was present.
    The latest firmware adds a second dword containing more device flags,
    carl9170 firmware: update firmware headers
    sysfs(/sys/firmware/efi/systab).
    Instead of having firmware command functions return an error and also
     bnx2x 7.0.23 firmware and the FW likewise must have the bnx2x multi
    to help debug issues related to management firmware.
    APEI firmware first mode must be turned on explicitly on some
    In APEI firmware first mode, hardware error is reported by hardware to
    firmware firstly, then firmware reports the error to Linux in a GHES
    some firmware implementation will work in a back-compatible mode by
    default.  Where firmware will only notify OS in old-fashion, without
    call can be specified to tell firmware that Linux has full APEI
    Some machine may have broken firmware so that GHES and firmware first
    notification in firmware first mode.  But because firmware first mode
    unload the GHES module with firmware first mode turned on.  To avoid
    error injection, and firmware may choose to do nothing here.  While
    some other actions are mandatory, for example, firmware must provide
    have no instructions), that may cause issue if firmware does not
    The firmware on some machine will report duplicated hardware error
    source ID in HEST.  This is considered a firmware bug.  To provide
    Input: synaptics - set minimum coordinates as reported by firmware
    Newer Synaptics firmware allows to query minimum coordinates reported by
    sst: avoid unnecessary firmware reloading for MRST
    SST HW on MRST doesn't need to reload the firmware during suspend/resume
    cycle, so remove the extra workload. This also fix a bug that the firmware
    Recent firmware changes report tx ack status properly
    b43: define firmwares for HT and LCN PHYs
    We were uploading different firmwares to the hardware until finding
    dmaengine: imx-sdma: pass sdma firmware name via platform data
    firmware name as variables.  For example, there are three TOs of
    have to prepare three identical firmwares, sdma-imx51-to1.bin
    and instead uses fw_name to pass the firmware name, so that we can
    firmware exists.
    code, imx-sdma driver will try to load firmware sdma-imx25-to0.bin,
    using it for probing of certain devices. However, some firmware fixes
    Retain compatibility with old firmware by fixing up the device tree
    Add new testmode command for retrieving rx reports from firmware.
    carl9170: import 1.9.4 firmware headers
    initialize the firmware during boot.
    progress during the recovery process by the firmware and avoid
    staging: ft1000-pcmcia: remove support for v5 firmware
    Remove support for v5 firmware images as all known firmware images are v6.
    staging: ft1000-pcmcia: remove firmware download typedefs
    Remove firmware download typedefs:
    staging: brcm80211: clean up firmware download code in fullmac
    In brcmfmac the firmware download related code scatter all around.
    And some old dead code which is not following the standard firmware
    routine is still present. This patch limits the firmware download
    The fullmac functions for firmware communication protocol handling
    driver. This commit renames identifiers related to firmware event
    When driver is unloaded, disable PMD in addition to TX laser, provided that the management firmware will be able to enable it back.
    1/ Since commit 858d4aa7 "isci: Move firmware loading to per PCI device" we have
    2/ The afe parameters from the firmware were not being honored
    Since the data structure for oem from orom/efi/firmware is the same as what
    Also updated the data struct for oem parameters and hex file for firmware
    isci: Move firmware loading to per PCI device
    Moved the firmware loading from per adapter to per PCI device. This should
    prevent firmware from being loaded twice becuase of 2 SCU controller per
    PCI device. We do have to do it per PCI device because request_firmware()
    state is entered through a global firmware or hardware operation.
    firmware: gsmi: remove sysfs entries when unload the module
    with the way "make firmware_install" really works.
    driver-core: Kconfig grammar corrections in firmware configuration
    While 0xffdc devices have their IR protocol hard-coded into the firmware
    un-necessary firmware reload.
    iwlagn: add correct firmware name for 135 series
    multiple functions at same time. To co exist all functions, firmware need
    loopback test, command need to send to firmware, which will quiescent other functions.
    learnt from the adapter firmware using the devcmd CMD_INTR_COAL_CONVERT. This allows the driver to configure
      rtl8192cu: Fix missing firmware load
    - Added logic to wait for the response  from the firmware before sending
    - Added h/w queue ID in CPE messages, firmware uses h/w queue ID
      in the message header and firmware modules use h/w queue ID from
      messages.  Used to translate host tag to firmware tag. bfa_lpuid()
        it's in the middle of sending TM  request to firmware
    - Made changes to support single firmware image per asic type.
      firmware response.
    ath6kl: export firmware version to user space
    firmware-version: 3:1:1:149
    ath6kl: cache firmware
    Drivers should not request firmware during resume. Fix ath6kl to
    cache the firmware instead.
      firmware: fix GOOGLE_SMI kconfig dependency warning
      USB: TI 3410/5052 USB Serial Driver: Fix mem leak when firmware is too big.
    rtlwifi: rtl8192de: Merge firmware routines
    iwlagn: fix *_UCODE_API_MAX output in the firmware field
        firmware:       iwlwifi-5150-IWL5150_UCODE_API_MAX.ucode
        firmware:       iwlwifi-5000-IWL5000_UCODE_API_MAX.ucode
        firmware:       iwlwifi-6000g2b-IWL6000G2_UCODE_API_MAX.ucode
        firmware:       iwlwifi-6000g2a-IWL6000G2_UCODE_API_MAX.ucode
        firmware:       iwlwifi-6050-IWL6050_UCODE_API_MAX.ucode
        firmware:       iwlwifi-6000-IWL6000_UCODE_API_MAX.ucode
        firmware:       iwlwifi-100-IWL100_UCODE_API_MAX.ucode
        firmware:       iwlwifi-1000-IWL1000_UCODE_API_MAX.ucode
        firmware:       iwlwifi-105-IWL105_UCODE_API_MAX.ucode
        firmware:       iwlwifi-2030-IWL2030_UCODE_API_MAX.ucode
        firmware:       iwlwifi-2000-IWL2000_UCODE_API_MAX.ucode
    A recently added feature to the firmware enables the driver to retrieve
    firmware logs via the host bus (SDIO or SPI).
    The firmware, in practice, treats the channels in three separate
      libata: apply NOSETXFER horkage to the affected Pioneer drives regardless of firmware revision
    regardless of firmware revision
    another and pioneer doesn't seem to be fixing firmwares for the
    regardless of firmware revision.
    firmware anyway at this time, it's only locked when device is using/txing
    rtl8192cu: Fix missing firmware load
    "rtlwifi: rtl8192c-common: Change common firmware routines for addition
    of rtl8192se and rtl8192de", the firmware loading code was moved.
    rtl8192c: Loading firmware file rtlwifi/rtl8192cufw.bin
    their firmware tables. Add dcb ops routine to handle this.
    error prone in the firmware case.
    And change iSCSI RQ doorbell size from 16B to 64B to match new firmware.
    This consists of informing the management firmware of the driver version
    The Sigma code is in drivers/firmware which is only included on a very
    r8169: check firmware content sooner.
    Firmware checking is only performed when the firmware is loaded
    r8169: support new firmware format.
    The new firmware format adds versioning as firmware for a specific
    r8169: explicit firmware format check.
    r8169: move the firmware down into the device private data.
      ALSA: hdspm - Add firmware revision ID for RME MADI PCI version
    firmware, but bug in Bluetooth stack, which will be fixed by
    firmware.  This patch will cope with the change easily.
    mwl8k: Tell firmware to generate CCMP header
    functionality since firmware was not doing this either. Set a flag
    to tell the firmware to generate the CCMP header
    USB: TI 3410/5052 USB Serial Driver: Fix mem leak when firmware is too big.
    If the size of the firmware exceeds TI_FIRMWARE_BUF_SIZE we'll leak 'fw_p'
    by failing to call release_firmware().
    sound/usb/6fire/firmware.c::usb6fire_fw_ezusb_upload().
    We already call release_firmware(fw) on line 258, so when we then do it
    Easily fixed by just removing the last call to release_firmware().
    ALSA: hdspm - Add firmware revision ID for RME MADI PCI version
    iwlagn: use IWL_DEBUG_FW for firmware related debug msg
    iwlegacy: remove firmware event log
    libertas firmware randomly stopping responding to commands after
    resume. Careful monitoring of communications indicates a firmware or
      staging: gma500: get control from firmware framebuffer if conflicts
    cnic: Fix race conditions with firmware
    at about the same time, the firmware may not complete the driver's
    need this in firmware download routine.
    staging: gma500: get control from firmware framebuffer if conflicts
    harmful for the increment of ptr done in download_firmware.
    firmware: fix GOOGLE_SMI kconfig dependency warning
    the modem's firmware to respond, which it of course doesn't do.
    completely different firmware and AT command sets, so we end up adding
    Uses Longcheer-based firmware and AT command set.
    iwlagn 0000:20:00.0: On demand firmware reload
      ALSA: 6fire: Don't leak firmware in error path
    Check the MX51 chip revision in run-time so that the correct SDMA firmware can
    ALSA: 6fire: Don't leak firmware in error path
    sound/usb/6fire/firmware.c::usb6fire_fw_ezusb_upload() neglects to free
    the memory allocated for the firmware before returning, thus leaking the
    For SD8787 A0/A1 chipsets we use the default firmware image
    drivers/net/wireless/b43legacy/main.c: In function b43legacy_request_firmware:
      [SCSI] lpfc 8.3.24: Add request-firmware support
    [SCSI] lpfc 8.3.24: Add request-firmware support
    Add request-firmware support:
    - Add support for request_firmware interface for INTF2 SLI4 ports.
    - Add capability of inducing SLI4 firmware dump obj file
    - Prevent driver from using new WWN when changed in firmware (until driver
    While decoding received event packet from firmware, 4 bytes
    make sure frontend is detached on firmware change.
    way for the operating system to be forced to depend on the firmware) and
    someone's eventually going to write yet another firmware specification.
    lives behind.  Thus bcm4329 firmware doesn't need to be reloaded.
    This is a snapshot of the current PRCMU firmware API as it looks
    right now. The PRCMU firmware is still subject to change. This
    Don't allow everybody to load firmware.
         posts a firmware WR with that wait object ptr as the cookie to be
    Ensure that the initial reference tag is passed on to the HBA firmware
    to firmware.
      [SCSI] qla2xxx: Log if qla82xx firmware fails to load from flash.
      [SCSI] qla2xxx: Update firmware version after flash update for ISP82xx.
    back (or worse, crashing the firmware), return -ERANGE when the
    Change firmware download split, which I introduced few patch earlier,
    [media] cx24116: add config option to split firmware download
    [media] cx23885: Don't leak firmware in cx23885_card_setup()
    We leak the memory allocated to 'fw' (the firmware) when the variable goes
    Fix the leak by calling release_firmware(fw) before 'fw' goes out of
    Print firmware version as two digit long (change from 3 to 2).
    [media] drxd: move firmware to binary blob
    Abstract out the firmware for the drx-d so that it can be loaded by the
    request_firmware() interface.
    The firmware licensing permits free redistribution, and can be found here:
    http://kernellabs.com/firmware/drxd
    [media] DM04/QQBOX Fix issue with firmware release and cold reset
    Fix issue where firmware does not release on cold reset.
    Also, default firmware never cold resets in multi tuner
      PM: Print a warning if firmware is requested when tasks are frozen
    Note: Since firmware now limits the size of the buffer, I made
    Tested with upcoming firmware with the 4 combinations of
    PM: Print a warning if firmware is requested when tasks are frozen
    Some drivers erroneously use request_firmware() from their ->resume()
    unless the firmware has been built in.  This causes system resume to
    stall until the firmware-loading timeout expires, which makes users
    unnecessarily.  For this reason, make _request_firmware() print a
    [SCSI] qla2xxx: Log if qla82xx firmware fails to load from flash.
    [SCSI] qla2xxx: Update firmware version after flash update for ISP82xx.
    the old firmware version ends up getting displayed. This patch fixes
    The firmware spec has the fcp_data_dseg_len defined as a 32-bit
    drm/nvc0/gr: better handling of fuc firmware
    Allows per-chipset firmware to be installed, and keeps a copy in memory
    the firmware during OS boot.  The BAU is generating an 'INTD'
    The current firmware only supports scheduled scan in station mode and
    when idle.  To prevent the firmware from crashing, return -EOPNOTSUPP
    Add firmware command structures, definitions and code to to configure,
    OXUF924DSB FireWire 800 to dual SATA bridge with firmware from MacPower,
    tune the audio firmware for it's requirement.
    This patch also adds a printk that outputs the name of the firmware
    a separate memory map, and only that map is passed back to the firmware.
    Some firmware implementations assume that physically contiguous regions
    entirely unjustifiable. Said firmware implementations lack the good grace
    In an ideal universe these firmware implementations would simultaneously
    r8169: merge firmware information into the chipset description data.
    r8169: provide some firmware information via ethtool.
    There is no real firmware version yet but the manpage of ethtool
    firmware-version:
    firmware-version:
    firmware-version: N/A
    firmware-version: rtl_nic/rtl8168d-1.fw
    last sysfs file: /sys/module/firmware_class/initstate
    Modules linked in: efivars(-) af_packet tun nfsd lockd nfs_acl auth_rpcgss sunrpc ipt_REJECT nf_conntrack_ipv4 nf_defrag_ipv4 iptable_filter ip_tables ip6t_REJECT xt_tcpudp nf_conntrack_ipv6 nf_defrag_ipv6 xt_state nf_conntrack ip6table_filter ip6_tables x_tables ipv6 cpufreq_ondemand acpi_cpufreq freq_table mperf binfmt_misc dm_mirror dm_region_hash dm_log dm_multipath scsi_dh dm_mod snd_hda_codec_analog snd_hda_intel snd_hda_codec snd_hwdep mousedev snd_seq joydev snd_seq_device mac_hid evdev snd_pcm usbkbd usbmouse usbhid snd_timer hid tg3 snd sr_mod pcspkr rtc_cmos soundcore cdrom iTCO_wdt processor sg dcdbas i2c_i801 rtc_core iTCO_vendor_support intel_agp snd_page_alloc thermal_sys rtc_lib intel_gtt 8250_pnp button hwmon unix ide_pci_generic ide_core ata_generic pata_acpi ata_piix sd_mod crc_t10dif ext3 jbd mbcache uhci_hcd ohci_hcd ssb mmc_core pcmcia pcmcia_core firmware_class ehci_hcd usbcore [last unloaded: dell_rbu]
    by the firmware to report IO events. The firmware uses the same interrupt
    Since firmware is capable of generating IV's for all crypto
    firmware can write IV's values.
    rtlwifi: rtl8192se: Merge firmware routines
    Platform firmware's use of this UUID/_OSC is optional, which is
    exports some page coalescing statistics available from firmware via
      b43: trivial: update module info about ucode16_mimo firmware
    filled in the buffer and then sent to firmware.
    wl12xx: print firmware program counter during recovery
    When performing recovery, print the firmware version and program
    counter (by reading the SCR_PAD4 register). The value of the firmware
    The 128x/AP firmware does not yet support dynamic memory. Temporarily,
    tell the firmware to wake up once in N DTIMs/beacons.
    Instead, configure the firmware to use the whole 11b rates by default.
    collect driver/firmware traces if init fails.  Also add a printk to
    [SCSI] bfa: firmware download fix
    This patch includes fixes for two issues releated to firmware download
    <jj@chaosbits.net>. Basically we need to call release_firmware() after
    request_firmware(). 2) fixed issues with the firmware download interface
    specific changes in the SSS6200 firmware).
    by the firmware through IRCC events and the driver does this just before
    arriving and processed by the firmware. Without this additional
    check, the firmware will return port-information stating that the
    [SCSI] qla2xxx: Display hardware/firmware registers to get more information about the error for ISP82xx.
    [SCSI] qla2xxx: Free firmware PCB on logout request.
    In order to keep Google's firmware drivers organized amongst themselves,
    all Google firmware drivers are gated on CONFIG_GOOGLE_FIRMWARE=y, which
    Our firmware gives us access to an in-memory log of the firmware's
    as to what the firmware is doing.
    the file /sys/firmware/log.
    The "gsmi" driver bridges userland with firmware specific routines for
    This driver works by trampolining into the firmware via the smi_command
    these commands when we are currently reset firmware, what could
    struct iwl_queue is not part of firmware interface, so __packed is not
    BA session in the firmware and get messages like that:
    BA session in the firmware and get messages like that:
    mwifiex: check firmware capabilities while initialising 5GHz band parameters
    Bump the firmware version to 1.2
    drivers that have rate control in either the firmware or hardware.
    b43: trivial: update module info about ucode16_mimo firmware
    - remove duplicate rtl_firmware_info record
    The hint firmware is returning in the RTAS call should definitely
    powerpc/book3e: Flush IPROT protected TLB entries leftover by firmware
    old mappings established by the firmware or bootloader.  At present we
    There are several good reason firmware might establish mappings with IPROT,
    and in fact ePAPR compliant firmwares are required to establish their
    rtlwifi: rtl8192c-common: Change common firmware routines for addition of rtl8192se and rtl8192de
    Change common firmware routines for addition of RTL8192SE and
    Note: Not all firmwares include the multicast filter
    and 0x05e0/0x1300) need HID_QUIRK_NOGET, otherwise their firmware exposes
    event is received from firmware the scan results never get
    The firmware expects the device ID to be added on the
    data and command packets sent to firmware for AR6003 v2.1.1.
    2. The firmware and the board data files are different
    3. Certain parameters like numdevice, firmware mode needs to be
    Tell the firmware to enable the life time expiry of tx packets
    when firmware commands are executing or if the interface is brought down.
    * Bump the required firmware version to 1.1
    r8169: don't request firmware when there's no userspace.
    The firmware is cached during the first successfull call to open() and
    cached firmware between open() and unregister_netdev().
    So far the firmware is optional : a failure to load the firmware does
    firmware load.
    iwlagn: combine firmware code/data
    iwlagn: implement synchronous firmware load
    The current firmware loading mechanism in
    the firmware loading synchronous.
    iwlagn: leave notification waits on firmware errors
    When the firmware encounters an error while the
    and down'd.  After that, management firmware made it illegal to access
    the phy unless the driver "owned" the device.  Now that most firmware
    file, which can be loaded at any location by the firmware and will
    firmware: Fix grammar in sysfs-firmware-dmi doc
    the firmware. Since dummy packets are handled differently than regular
    Issuing multiple JOIN commands to the wl12xx's firmware, while
    states (like authentication), otherwise the firmware might jump to
    The firmware requires dummy packets to be sent using TID 7
    All the new firmware versions (>=6.1.3.50.58 for STA and >=6.2.0.0.47
    firmwares that require 2 spare blocks, so added a quirk to handle the
    firmware revision.
    Thus, this patch implements a reassignment of node-ids if buggy firmware
    Broadcom iscsi offload firmware uses a non standard ibft sign of "BIFT".
    older firmware (I guess 4 years old), so boot does not work on current
    firmware. Mike has tested Chelsio and Intel cards.
    During a kernel crash, bna control path state machine and firmware do not
    ath9k_htc: Add detailed firmware statistics
    ath9k_htc: Sync MGMT/DATA packet headers with firmware
    Match the beacon header with that of the firmware.
    Also, the firmware reports the TSF for an SWBA, so
    ath9k_htc: Add a WMI command to get the firmware version
    ath9k_htc: Rename firmware
    commands to the firmware. Keep the other interrupts masked in
    The SD8787 firmware image is shared with mwifiex driver.
    Whoever gets loaded first will be responsible for firmware
    Bluetooth: Clean up ath3k_load_firmware()
    Before calling host_to_card() to send the cmd to firmware,
    The firmware version will be fixed later on when the FW
    obtained from firmware provided SFI tables. We reuse/fake MP
      bna: Fix for handling firmware heartbeat failure
    reserve extra scratch buffer space for the firmware]
    iwlagn: tx power calib always done in firmware
    If change_interface gets invoked during a firmware
    iwlwifi: remove extranious macro from firmware define
    define of firmware filenames use extra macro to build the files name.
    called during firmware loading.
    these commands when we are currently reset firmware, what could
    firmware (or vice-versa) in the mwl8k_add_interface routine, the
    bna: Fix for handling firmware heartbeat failure
    This patch contains a fix for gracefully handling firmware heartbeat
    firmware that reports it can do more than 4 bytes in a
    staging: gma500: pull mrst firmware stuff into its own header
    Grovel the firmware via the Moorestown interfaces and read the other bits
    firmware and fuse configurations
    We have a set of firmware passed descriptors and things we need to grovel
    driver or firmware that prefers to handle blinking asynchronously).
    and the firmware would generate ACL frames.
    Consumes 10s of milliwatts but avoids having to reload firmware
    The hw_dot_11n_dev_cap reported by firmware hw_spec
    explain the mapping between firmware and 11n spec.
    ALSA: 6fire - Improve firmware loader
    versions now and accepts possibly loaded firmware, if it is knowing to
    On ppc64 the crashkernel region almost always overlaps an area of firmware.
    region. If we free the firmware area we are guaranteed to crash.
    With current bnx2x firmware 6.2.9, iSCSI is not supported in DCB
    bnx2x: Update firmware to 6.2.9
    mwl8k: Handle the watchdog event from the firmware
    When an ampdu stream is on, if the firmware rate adaptation
    mwl8k: update to ap firmware API version 2
    -- capabilities are reported by the firmware
       Specifically, packets that are queued in firmware for longer
    The modem's firmware exposes a CDC ACM port for modem control and a
    If a given firmware doesn't have a token to support query-cpu-stopped-state,
    If change_interface gets invoked during a firmware
    firmware fixes, we need workaround problems by disable hardware scanning
      watchdog: sp5100_tco.c: Check if firmware has set correct value in tcobase.
    watchdog: sp5100_tco.c: Check if firmware has set correct value in tcobase.
    Also works around a firmware bug where the _WED method
    firmware provide the _OSC method required to support native PCIe hotplug.
    As it has become more common to have to write firmware or similar
    Cleanup commands are issued to the firmware to cleanup any stuck ios
    If SR-IOV is enabled by firmware, even if it is not enabled in the PCI
    sigma-firmware: loader for Analog Devices' SigmaStudio
    Analog Devices' SigmaStudio can produce firmware blobs for devices with
    regions passed by the firmware as reserved and we all know how much we can
    trust our firmwares...
    and/or RX only firmware for the on-board Zilog Z8 IR unit.
    With appropriate firmware the WM8958 can support Virtual Surround Sound or
    support for this mode of operation when the appropriate firmware can be
    ASoC: Support download of WM8958 MBC firmware
    Allow userspace to supply an update to the ROM firmware. The firmware
    request is non-blocking so userspace can load the firmware at its
    firmware the next time MBC is started after it has been supplied.
    reported firmware limits on mlx4.
    downloadable firmware at runtime can add or replace existing controls.
    [media] af9013: reimplement firmware download
    [media] af9015: reimplement firmware download
    [media] Force xc5000 firmware loading for NetUP Dual DVB-T/C CI RF card
    APEI ERST firmware interface and implementation has no multiple users
    and it worked (after I downloaded the firmware dvb-fe-ds3000.fw).
    [media] dw2102: use separate firmwares for Prof 1100, TeVii S630, S660
    sharing one firmware name. Now it's fixed.
    [media] TTUSB DVB: ttusb_boot_dsp() needs to release_firmware() or it leaks memory
    need to call release_firmware(fw) before returning or we'll leak - no
    [media] ds3000: don't load firmware during demod init
    Speed up tuning, as firmware is not necessary to load every attempt to tune
    [media] ds3000: loading firmware in bigger chunks
    Decrease firmware loading time. Before it is ~4000 i2c calls,
    now it is ~256 i2c calls to load ds3000 firmware.
    [media] Altera FPGA firmware download module
    [media] tuner-xc2028: More firmware loading retries
    My Hauppauge WinTV HVR-1400 needs sometimes more then only one retry to load the firmware successfully.
    [media] get_dvb_firmware: ngene_18.fw added
    Add download link for ngene firmware rev 18.
    Small modifications for firmware 18.
    demodulator is firmware-driven.
    usage of firmware-based devices.
    [The PCI SIG documentation for the _OSC OS/firmware handshaking interface
    there are chips whose firmwares ignore the configured split timeout and
    (DICE), and some OXUF936QSE firmwares.
      PCI: Export ACPI _DSM provided firmware instance number and string name to sysfs
    support runtime download of alternative firmware. In preparation for
      staging: rtl8192e: Pass priv to firmware download functions
      firmware: Fix unaligned memory accesses in dmi-sysfs
      firmware: Add documentation for /sys/firmware/dmi
      firmware: Expose DMI type 15 System Event Log
      firmware: Break out system_event_log in dmi-sysfs
      firmware: Basic dmi-sysfs support
      firmware: Add DMI entry types to the headers
    drivers/pci/pci-label.c: In function pci_create_firmware_label_files:
      x86, microcode, AMD: Release firmware on error
    Input: atmel_mxt_ts - remove firmware version check
    Atmel touchscreen chips have different firmware version with each chip,
    so we cannot distinguish attribute of chip by firmware version.
    netxen: Notify firmware of Flex-10 interface down
    Notify firmware when a Flex-10 interface is brought down
    bnx2: Update firmware and version
    Update 5709 mips firmware to 6.2.1a to fix iSCSI performance
    enic: Support newer version of firmware devcmd CMD_MCPU_FW_INFO
    This patch provides support to the newer version of firmware devcmd CMD_MCPU_FW_INFO
    staging: rtl8192e: Pass priv to firmware download functions
    The recent capacitive DWAV firmwares do not use the CONTACTCOUNT
    disabled using the "old" firmware interface (RTAS_CHANGE_FN), still
      [media] s2255drv: firmware re-loading changes
    Probing reports does bad things with some ntrig firmwares, better to
       OMAP firmware.
       OMAP firmware.
    ALSA: hdspm - Add firmware ID for older AES32 cards.
    The current AES32 firmware revision ID is 234, however, a user confirmed
    request certain wifi related activity to be performed by the firmware,
    where this calls helps to make sure our firmware would be in ready
    check for firmware status for any reason
    For example, PRUSS runs firmware for real-time critical industrial
    positive and firmware reset, for example when channel is noised and
    PCI: Export ACPI _DSM provided firmware instance number and string name to sysfs
    This patch exports ACPI _DSM (Device Specific Method) provided firmware
      /sys/bus/pci/devices/.../label which contains the firmware name for
      /sys/bus/pci/devices/.../acpi_index which contains the firmware device type
    The ACPI _DSM provided firmware 'instance number' and 'string name' will
    be given priority if the firmware also provides 'SMBIOS type 41 device
    If firmware allows us to map all of a partition's memory for DMA on a
    wl12xx: fix the path to the wl12xx firmwares
    In the linux-firmware git tree, the firmwares and the NVS are inside
    wouldn't work as implemented.  On top of that the X540 firmware is written
    the session information to the underlying FCoE firmware.
    doing libfc lport reset, this is needed for new switch firmware
    is done by the MC firmware and is not configurable by drivers).
    sfc: Read MC firmware version when requested through ethtool
    to format the firmware version for ethtool_get_drvinfo().  Since we
    after an MC firmware update.  Remove the cached version information
    ALSA: hdspm - Abort on unknown firmware revision
    ALSA: hdspm - Add updated firmware revision for AES32
    has a different firmware revision.
    firmware: Fix unaligned memory accesses in dmi-sysfs
    firmware: Add documentation for /sys/firmware/dmi
    firmware: Expose DMI type 15 System Event Log
    /sys/firmware/dmi/entries/15-0/system_event_log/raw_event_log.
    firmware: Break out system_event_log in dmi-sysfs
    firmware: Basic dmi-sysfs support
    as kobjects rooted at /sys/firmware/dmi/entries.
       handle       : The handle given to this entry by the firmware
    firmware: Add DMI entry types to the headers
    [SCSI] qla2xxx: Don't wait for active mailbox command completion when firmware is hung.
    This is required when issuing commands to the firmware.
    the firmware is 8, manage the station slots accordingly.
    All mwl8k parts perform rate control in firmware.  Make this known to
    rate information is not available from the firmware, invalidate the
    disables the gpio mode of that pin (if left on by firmware).
    wl12xx: update PLT initialization for new firmware
    In revision > 6.1.3.0.0 the firmware expects memory configuration command
    Seems like we are forever to be cursed with buggy firmware, so allow the
    It is found on Dell Inspiron 1018 that the firmware reports that the hardware
    This patch forces the driver to toggle the firmware rfkill status in the case
    that the hardware killswitch is indicated as unsupported by the firmware.
    iwlwifi: Limit number of firmware reload
    If device has serious problem and cause firmware can not recover itself.
    Keep reloading firmware will not help, it can only fill up the syslog and
    "mXT224" is used in the Intel mid firmware in SFI tables to identify the
    downloading a firmware binary meant for RF tests on the factory floor.
    clear the firmware previous profile state. There is one case in linux host
    This causes firmware state to mismatch causing an ASSERT. Use the driver
    issued to firmware.
    staging: brcm80211: improved checks on incompatible firmware
    firmware validation, which could lead to incompatible firmware not being
    staging: brcm80211: bugfix for stack dump on firmware load problems
    If there is a problem with the firmware load (eg, firmware not present in
    /lib/firmware/brcm), then the driver would dump its stack instead of bailing
    staging: brcm80211: bugfix for oops on firmware load problems
    Upon firmware load failure, wl_release_fw() was called multiple
    If management firmware is present and the device is down, the firmware
    host, it will collide with firmware phy accesses, resulting in
    firmware, used in the IEC 60945 keyboard.  This device crashes during
    be_cmd_pmac_add/del functions need to pass domain number to the firmware.
    Bluetooth: Add firmware support for Atheros 3012
      USB: io_edgeport: fix the reported firmware major and minor
    Firmware version check depends on hpi version. Update so correct firmware
    ALSA: asihpi - Tighten firmware version requirements.
    Difference in major.minor between driver and firmware is an error now.
    ALSA: asihpi - Clarify firmware id selection.
    passed on from the firmware loader.
    Modules linked in: wl12xx_sdio wl12xx firmware_class crc7 mac80211 cfg80211 [last unloaded: crc7]
    x86, microcode, AMD: Release firmware on error
    loaded firmware binary and its related resources. Make sure we do. Also,
    wl12xx: move to new firmware (6.1.3.50.49)
    This patch adds support for the new wl12xx firmware (Rev 6.1.3.50.49)
    firmware blob after it has been loaded (successfully or not).
    |     if (ath3k_load_firmware(udev, firmware)) {
    |             release_firmware(firmware);
    |     release_firmware(firmware);
    enic: Bug Fix: Reorder firmware devcmds - CMD_INIT and CMD_IG_VLAN_REWRITE_MODE
    Organize the wrapper routines for firmware devcmds into a separate file.
    drivers:misc: ti-st: firmware download optimization
    To fasten the process of firmware download, the chip allows
    when it comes across a wait event during firmware parsing.
    originally received by bootloader or firmware as platform
    USB: io_edgeport: fix the reported firmware major and minor
    inconsistency in the reported versions during firmware loading:
     usb 4-1: firmware: requesting edgeport/down.fw
     /usr/src/linux/drivers/usb/serial/io_edgeport.c: downloading firmware version (930) 1.16.4
    This can cause some confusion whether firmware loaded successfully
    firmware_classs: change val uevent's type to bool
    Some place in firmware_class.c using "int uevent" define, but others use "bool
      [SCSI] mpt2sas: fix internal device reset for older firmware prior to MPI Rev K
    Modules linked in: wl1271_sdio wl1271 firmware_class crc7 mac80211 cfg80211
    If the firmware buffer is full, tx_work does nothing. In combinition with
    firmware buffer is freed on tx_complete.
    watermark are queued, but more than firmware buffer can hold. This results
    [media] s2255drv: firmware re-loading changes
    Change for firmware re-loading and updated firmware versions.
    lme_firmware_switch because of a memcpy to a const char.
      staging: r8712u: Fix memory leak in firmware loading
    argument since the AMPDU TX is fully handled by the firmware.
    dmaengine i.MX SDMA: Fix firmware loading
    the ram_code_start_addr found in the firmware image. The copy
    5b28aa3 dmaengine i.MX SDMA: Allow to run without firmware
    struct iwl_queue is not part of firmware interface, so __packed is not
    job of the driver or hardware/firmware, change the cfg80211 to allow also
    rtlwifi: Fix firmware upload errors
    the project's main firmware carl9170fw.git.
      USB NET KL5KUSB101: Fix mem leak in error path of kaweth_download_firmware()
    If management firmware is present and the device is down, the firmware
    host, it will collide with firmware phy accesses, resulting in
    Old V2M firmware apparently configured it by default, but on newer
    USB NET KL5KUSB101: Fix mem leak in error path of kaweth_download_firmware()
    We will leak the storage allocated by request_firmware() if the size of
    the firmware is greater than KAWETH_FIRMWARE_BUF_SIZE.
    This removes the leak by calling release_firmware() before we return
    We may be able to remove this restriction in future firmware.
    The auto-arp feature sometimes has unexpected side effects (e.g. firmware
    The wl12xx chips do the AMDPU aggregation work in the firmware, but it
    wl12xx: AP mode - fetch appropriate firmware for AP
    AP and STA modes use different firmwares.
    Differentiate the firmware files by name and fetch the appropriate one
    when add_interface is called by mac80211. The STA firmware is chosen for
    structure (struct wl1271) if conf_tx is called when the firmware is
    Later on when the firmware is loaded, we apply the tx conf as part of
    (where the firmware is initialized).
    firmware. We work around this by always indicating success in when
    - firmware loading after cold start
    firmware reports that it supports more outstanding IO than what can be fit
    [SCSI] mpt2sas: fix internal device reset for older firmware prior to MPI Rev K
    for older firmware prior to MPI Rev K We added
    ignored for older firmware.  When ignored, the tm_busy flag doesn't
    removal handshake alogrithm to firmware. This results in controller
    firmware not sending sas topology add events the next time the device is
    FW_Omega2 chip, used in the CamSport Evo camera.  The firmware
    * delete 10K line farray.h containing internal firmware
    staging: r8712u: Switch driver to use external firmware from linux-firmware
    rtl8192u_usb: Remove built-in firmware images
    These firmware images are already unused.
    vt6656: Use request_firmware() to load firmware
    The file added to linux-firmware is a copy of the current array which
    Change the firmware version check to accept newer versions.
      machine check. Recent versions of the pseries firmware do not fill them
    Staging: rtl8192e: Dump step we fail in init_firmware()
    staging: r8712u: Fix memory leak in firmware loading
    The error path leaks the firmware struct.
    usbserial snd_hda_intel snd_hda_codec firmware_class snd_hwdep snd_pcm
    to rely on firmware to reroute specific traffic, a driver
    The firmware PXE EPROM version detection is failing due to passing the
    wrong parameter into firmware query function.  Also, the version
    There is no need to hold the firmware in memory.
    "firmware" image.
    executed for acpi_disabled=1 through aer_acpi_firmware_first(), from
      r8169: keep firmware in memory.
      vxge: Remember to release firmware after upgrading firmware
    r8169: keep firmware in memory.
    The firmware agent is not available during resume. Loading the firmware
    mildly natural release of firmware in the driver removal method instead.
    - there is no firmware
    vxge: Remember to release firmware after upgrading firmware
    Regardless of whether the firmware update being performed by
    release_firmware() before returning.
    rt2x00: Don't leak mem in error path of rt2x00lib_request_firmware()
    We need to release_firmware() in order not to leak memory.
    The newest device firmware stores IB vs. Ethernet protocol in two bits
    guests, but firmware (like OpenBIOS) use it and fail.
    firmware firstly, then reported to Linux by firmware. This way, some
    can be checked by firmware to produce more valuable hardware error
      net/r8169: Update the function of parsing firmware
    mlx4_core: Remove warning message about firmware bug
    Workaround firmware bug in query dev cap") about mlx4 reporting the
    the firmware bug is known and fixed and the bug is pretty much harmless
    net/r8169: Update the function of parsing firmware
    parse the complex firmware which is used by RTL8111E and later.
    The new firmware may read data and do some operations, not just
    Driver has check for old firmware, this bug can cause driver load fail.
    firmware that "the frame's sequence number has
    either the driver or firmware has to assign one.
    come across in the firmware.
    It workarounds the 60s firmware load failure timeout for the
    Madge Ambassador ATM Adapter driver: Always release_firmware() in ucode_init() and don't leak memory.
    Failure to call release_firmware() will result in memory leak in
    This patch makes sure we always call release_firmware() when needed,
    hamradio: Resolve memory leak due to missing firmware release in add_mcs()
    Failure to release_firmware() in drivers/net/hamradio/yam.c::add_mcs()
      drm/nvc0: fix init without firmware present
    is used to access pmic/msic registers from user space and firmware update
    (i.e. the ACPI firmware) is fully specification-compliant (as far
    or /sys/firmware/acpi/tables.  It should also improve
    the default clocks in the firmware info table as the post clocks, not
    The new firmware interface requires each Slow Path Queue (SPQ) message's
      apic, amd: Make firmware bug messages more meaningful
    drm/nvc0: fix init without firmware present
    Failing to do this would result in a firmware crash on the device.
    firmware restarts.
    r8169: remove the firmware of RTL8111D.
    The binary file of the firmware is moved to linux-firmware repository.
    The firmwares are rtl_nic/rtl8168d-1.fw and rtl_nic/rtl8168d-2.fw.
    The driver goes along if the firmware couldn't be found. However, it
    is suggested to be done with the suitable firmware.
    Simple firmware checking added per Ben Hutchings suggestion.
    bnx2: Update firmware and version
    Update MIPS firmware to 6.2.1, with improved small packet performance
    needed. Perhaps in the firmware case for example
    drivers/media/radio/radio-wl1273.c: In function wl1273_fm_upload_firmware_patch:
    [media] saa7164: Remove pointless conditional and save a few bytes in saa7164_downloadfirmware()
    release_firmware() just does nothing if passed a NULL pointer. So there's
    saa7164-fw.c::saa7164_downloadfirmware().
    > > To stop double rc registration in multi tuner environment or firmware change.
    [media] dvb-usb-gp8psk: get firmware and fpga versions
    This patch adds retrieval of firmware and FPGA versions of Genpix devices.
    with the various firmware versions, and may want to use a specific firmware
    [media] Documentation/lmedm04: Fix firmware extract information
            - Added a check in ioc firmware lock function to see if IOC is
    [SCSI] qla2xxx: Update FCP priority information to firmware before sending IOs
    adapters. Any of the functions can put the firmware into quiescence
    blocked. Loop resync is performed after firmware comes out of
    Pass the TCP port parameter for iSCSI connections to the firmware in
      drm/radeon: Add early unregister of firmware fb's
    b43: use correct firmware for newer cores
    [SCSI] hpsa: do not consider firmware revision when looking for device changes.
    The firmware may have been updated, in which case, it's the same device,
       Un-cleared bits will cause firmware to access invalid memory when the
    for persistency. The firmware will read this configuration when the
    Prior to firmware state change from ACQUIRING to READY, an
    needs to be removed from the driver.  The controller firmware is going
    from zero to 1.5 GB rate when the firmware reports there is an
    firmware returns an invalid system message id (smid).
    Newer firmware has sovled this issue, however it good to have this sanity
    drm/radeon: Add early unregister of firmware fb's
    Without this, we attempt the handover too late, the firmware fb
    ARM: pxa: Update Balloon3 for new FPGA firmware
    The new FPGA firmware in Balloon3 uses different methods to control it's bus
    My conversion of tehuti to use request_firmware() was confused about
    the filename of the firmware blob.  Change the driver to match the
    last sysfs file: /sys/devices/pci0000:00/0000:00:1d.7/usb2/2-1/firmware/2-1/loading
    The firmware in the joojoo reports touches sequentially, one per
    per report. This way, proper handling for both firmwares is ensured.
    The firmware reports a logical minimum of one, but in order for
    The firmware of both supported devices report a X/Y maximum of 4095,
    order to the firmware. To keep it relatively simple, maintain a global
    to the maximum size allowed by the firmware.
    The auto-arp feature of wl12xx allows the firmware to automatically
    In APEI, Hardware error information reported by firmware to Linux
    Interface).  The error data is passed from firmware to Linux via CPER
    reloading firmware and try to access RF again.
    rt2x00: Fix firmware loading regression on x86_64.
    memcpy_toio() works for x86_64, causing firmware loading to fail for
    This causes the log message: "phy0 -> rt2800pci_load_firmware: Error -
    Removing usage of rtnl_lock() to protect firmware interface registers.
    of this driver turn all non-zero return values from isar_load_firmware()
    staging: brcm80211: fix documentation on installing firmware
    Fix the documentation to have the current firmware filenames and use the
    The firmware framework gets initialized during fs_initcall time, so
    we are not allowed to call request_firmware earlier.
    Use the correct error condition exit in case firmware download
    previous timer. This have to be tuned based of firmware timing
    iwl3945: prevent too frequent firmware resets
    too frequent firmware resets.
    staging: brcm80211: added firmware validation
    New function wl_check_firmwares() checks validity of all firmware images
    running old firmware.  Only the caller of efx_mcdi_rpc() can decide
    dmaengine i.MX SDMA: Allow to run without firmware
    The SDMA firmware consists of a ROM part and a RAM part.
    the script addresses in ROM, so loading a firmware is
      mlx4_core: Workaround firmware bug in query dev cap
    wl1271: Add wl1271_load_firmware() and export some functions
    For the SDIO testing module we need to load the firmware but not
    boot it. wl1271_load_firmware() is meant to do just the firmware loading part.
    mlx4_core: Workaround firmware bug in query dev cap
    ConnectX firmware is supposed to report the number blue flame
    registers per page as log2 of the value.  However, due to a firmware
    [  694.196350] last sysfs file: /sys/devices/platform/hci_h4p/firmware/hci_h4p/loading
    Atheros 3011 has small sflash firmware and needs to be
    blacklisted in transport driver to load actual firmware
    The firmware name for each platform is appended by PCI id of device.
    powerpc: Add VPHN firmware feature
    This simple patch adds the firmware feature for VPHN to the firmware
    is used to load appropriate device firmware, select firmware offset
    wl12xx: Unset bssid filter, ssid and bssid from firmware on disassoc
    Fix this by resetting the firmware state on disassociation.
    To avoid mismatch in driver and firmware error codes assign specfic values
      be2net: Fix to avoid firmware update when interface is not open.
    be2net: Fix to avoid firmware update when interface is not open.
    Attempting a firmware update operation when interface is down could lead to
    The driver can fail initializing the hardware when manageability firmware
    scheme to prevent concurrent operations between software and firmware is
    firmware class expects.
    mwl8k: make initial firmware load asynchronous
    Introduce a firmware loading state machine to manage the process
    of loading firmware asynchronously and completing initialization
    firmware image.  If that fails, and if an alternative firmware
    mwl8k: add API version checking for AP firmware
    The AP firmware specifies an API version in the GET_HW_SPEC
    firmware for the 8366, and only supports API v1.  In the future,
    if higher API version firmwares emerge (possibly for different
    mwl8k: choose proper firmware image as directed by user
    firmware image that is loaded.  By default, STA firmware is
    module load time.  This saves an unnecessary firmware reload
    Also, the firmware image can be swapped to meet the user's
    firmware is loaded, no STA interface has been added, and the
    user adds an AP interface.  In this case, the AP firmware
    mwl8k: factor out firmware loading and hw init code
    firmware loading.
    mwl8k: rf_tx_power cmd not supported by AP firmware APIv1
    APIv1 AP firmware does not support the RF_TX_POWER command.  It
    The stabilized AP v1 firmware uses the same tx descriptor as
    the STA firmware.
    Certain firmware versions, particularly the 8388 found on the XO-1,
    [  215.750960] xhci_hcd 0000:01:00.0: NEC firmware version 30.25
    AP firmware uses xmitcontrol to differentiate between AMPDU
    firmware. This field will be set to indicate ampdu/non-ampdu
       a private firmware-internal struct.
    set wl->vif to the newly created interface only after the firmware booted
    firmware. Set the HW mode to monitor type based on mac80211
    Avoid sending commands to firmware (including commit_rxon) when scan
    packets caused by a firmware bug, which are then repeated with each one
    when making the VXGE_HW_FW_API_GET_FUNC_MODE firmware call.  However,
    the firmware call was not modified.  This had the driver printing out on
    vxge: add support for ethtool firmware flashing
    Add the ability in the vxge driver to flash firmware via ethtool.
    It is possible for multiple callers to access the firmware interface for
    x86 PC, but a firmware emulated virtual RTC device(vrtc), which provides
    qlge: Add firmware info to ethtool get regs.
    By default we add firmware information to ethtool get regs.
    Optionally firmware info can instead be sent to log.
    Remove unnecessary cast of firmware base address to integer before
    supported in kernel. The 0.8 firmware also provides GPIO tables.
    (Updated from RFC version to correct the emc1403 name used by the firmware
    to Bulk type by firmware, the urb submission done on Bulk pipes.
    solos: Refuse to upgrade firmware with older FPGA. It doesn't work.
    solos: Add 'Firmware' attribute for Traverse overall firmware version
    The existing 'FirmwareVersion' attribute only covers the DSP firmware as
    provided by Conexant; not the overall version of the device firmware. We
      netxen: remove unused firmware exports
    netxen: remove unused firmware exports
    submitted and its present in linux-firmware.git.
      libertas: Fix sd8686 firmware reload
    libertas: Fix sd8686 firmware reload
    For the SD8686, we cannot rely on the scratch register to read the firmware
      staging: brcm80211: brcmfmac: Removed codeversion from firmware filenames.
    ath9k_htc: Set proper firmware offset for Netgear WNDA3200
    Netgear WNDA3200 device uses ar7010 firmware but it is failed to set
    correct firmware offset on firmware download which causes device initialization
    Add to this whatever the Creative and M-Audio firmware writers have been
    ihex firmwares can include a jump address for starting execution.  Add a
    perform proper action on the in-use FCF and recover of FCF from firmware,
    located at  /sys/firmware/acpi/tables instead of
    /sys/firmware/acpi/tables/dynamic, which is not true.
    - Treated firmware matching FCF property with different index as error
    This patch fixes an issue which causes the firmware to fail with a
    DMA and firmware activities are stopped, and any associated driver resources
      don't want to return PCI_ERS_NEED_RESET if firmware hung.
    [SCSI] qla4xxx: Clear the rom lock if the firmware died while holding it.
    There is a possibility that the firmware dies while the rom
    [SCSI] qla4xxx: On firmware hang do not wait for the outstanding commands to complete
    Since interrupts are registered in start_firmware(load_risc) for 82xx,
    free them if init_firmware fails.
    * cleanup function qla4xxx_start_firmware_from_flash
    * cleanup function qla4xxx_get_firmware_status
    apic, amd: Make firmware bug messages more meaningful
    with a beta release of firmware that was never commercially available as
    a product.  This hardware and firmware is no longer available as Intel
    Cypress Astoria chips with firmware compliant with issue 2 of CSR's USHC
    The Digital Everywhere firmware have the shortcoming that ca_info_enq and
    -firmware switching for LG tuner.
    The WAGO 750-923 USB Service Cable is used for configuration and firmware
    The SAM-BA firmware cannot handle merged write requests so we cannot use
    option will cause the 3110 driver to fail on 0.7 SFI firmware.
    (Yes, drivers/base/firmware_class.c uses interfaces from linux/kobject.h,
      - EC firmware bug
    staging: brcm80211: brcmfmac: Removed codeversion from firmware filenames.
    The basename-apiversion-codeversion construction for firmware filenames is not
    used by most other firmware files, adds complexity, and is not providing any
    value.  Rename the firmware files using just basename-apiversion.
    Users of the brcmfmac driver will need to update the linux-firmware package
    to get the renamed files, or manually rename their installed firmware files.
    through debugfs can help identify the issue with the misbehaving firmware.
    drivers/media/video/cx231xx/cx231xx-417.c: In function 'cx231xx_load_firmware':
    [media] hdpvr: fix audio input setting for pre AC3 firmwares
    [media] hdpvr: add two known to work firmware versions
    refine the firmware version test and print the version only once
    [media] hdpvr: print firmware date
    Hauppauge released different firmwares using the same version number.
    The firmware date can be used to identify the exact driver/firmware
    [media] saa7164: Disable firmware debug message output
    [media] saa7164: bugfix, avoid oops when driver unloads without firmware
    [media] saa7164: collect/show the firmware debugging via a thread
    [media] saa7164: enforce the march 10th firmware is used
    [media] saa7164: add firmware debug message collection and procfs changes
    coming from the firmware.
    IRQ handlers, firmware messages, deferred queue handlers, V4L api's
    [media] saa7164: Avoid spurious error after firmware starts
    [media] saa7164: New firmware changes, new size, new filename
    [media] saa7164: Implement resolution control firmware command
    [media] saa7164: Add some encoder firmwares message types and structs
    * Add support for newer firmware version that uses different
    enic: Replace firmware devcmd CMD_ENABLE with CMD_ENABLE_WAIT
    Replace no wait CMD_ENABLE firmware devcmd with CMD_ENABLE_WAIT
    enic: Make firmware cognizant of the user set mac address
    Let the firmware know about the mac address set by the user using ndo_set_mac_address
    drivers/media/video/cx231xx/cx231xx-417.c: In function cx231xx_load_firmware:
    Remove HID and polling via firmware API. Implement direct access to remote codes via memory read and write.
    HID and polling via firmware api never worked 100% well and there was also some limitations which tied used remote and device together.
    [    5.567632] dvb-usb: found a 'TerraTec Cinergy T Stick RC' in cold state, will try to load a firmware
    [    5.693497] dvb-usb: downloading firmware from file 'dvb-usb-af9015.fw'
    [    6.007696] af9013: firmware version:5.1.0
    5718 B0 and 5719 devices will use a new selfboot firmware format.  This
    pcie_port_acpi_setup() calls pcie_aer_get_firmware_first() that
    a PCIe Root Complex if pcie_aer_get_firmware_first() returns 'false'
    (at which point it should use request_firmware() rather than some magic
    the firmware's probe-after-rx functionality on
    timer, so those devices won't reload firmware too often.
    firmware failing to reenable the iommu on resume. It
    Current firmware only allows us to send IRQs to the first processor or
    to the all_mask, but the firmware is only considering whether the
    arch-(and sometimes firmware-)specific code, and passed to
    bnx2: Update firmware to 6.0.x.
    - Use hardware RSS indirection table instead of the slower firmware-
    shared wlan.h header from the firmware git.
    firmware format.
    In the NVS/INI-parameters for the driver/firmware there is the FEM
    call request_firmware instead of trying to open the file directly from
    iwlagn: fix module firmware name for 130 series device
    130 series device should use firmware name with 130 in it.
    New firmware files for all bnx2x devices
    bnx2x: create folder for bnx2x firmware files
    Preparation work for upcoming firmware interface changes.
    reset will be repeated until scan finish. But since firmware is in bad
    leaving the device name, which antennas are used and what firmware
    cards where the user has not applied the PLX firmware update.
    as a seperate coprocessor. SDMA needs its own firmware which is
    requested using the standard request_firmware mechanism. The firmware
    picks the correct firmware entry point from a table contained in
    the firmware image itself.
    the firmware. Support for this is currently not implemented. Also,
    We can start restarting firmware or RF kill switch can be turned on
    ar9170: Remove MODULE_FIRMWARE references to two-stage firmware
    The combined firmware ar9170.fw is preferred and supports all devices.
    References to the older two-stage firmware are unnecessary.
    carl9170: support firmware-based rx filter
    Therefore the new 1.8.8.3 firmware introduces a flexible
    wl1271: Support firmware TX packet aggregation
    Instead of sending one packet at a time to the firmware, try to
    wl1271: Support firmware RX packet aggregation
    Instead of retrieving one packet at a time from the firmware, try to
    proved quite challenging even with GPLv2 firmware.
    new enhancements to the GPLv2 firmware. It took 1 year, 5 months,
    introduced by the previous nonexistant firmware patch.
    staging: brcm80211: handle missing firmware better
    Handle non-extistent firmware more gracefully.
    rate for null-func frames (which increases their range, as the firmware does
    a type of busy-loop. The same problem occurs if the firmware fails to deliver
    scenarios, as the scan completion event from the firmware may be processed
    to be able to inform the firmware when association is fully complete (including
    Implement the command function to send CMD_SET_STA_STATE to the firmware. This
    release_firmware() accepts NULL pointers.
    firmware.
    manageability firmware will handle the PHY configuration.
    Staging: ft1000: fix mode of firmware image file
    interfering while the firmware is down for
    in from the chip and data members parsed from the binary firmware file.
    rf reset or firmware reload in order bring device back to
    If firmware reload is required and scan is in process, skip the
    reload request. There is a possibility firmware reload during
    To optimize register read/write operations, the HTC firmwares were patched
    tg3: Don't send APE events for NCSI firmware
    NCSI firmware does not accept APE events.  It relies on a "driver state"
    the firmware to the target, the USB descriptors are
    in case of firmware hung.
    When we are not able to send abort command to firmware, notify mac80211
    Patch fix not cancel scanning when restarting firmware, what is
    carl9170: firmware parser and debugfs code
    staging: brcm80211: Fix URLs for firmware files.
    Don't rely on wl_firmware::fw_cnt in wl_release_fw().
    considered, and the firmware can be very picky
    Tests with recent firmware on Intel X25-M 80GB and OCZ Vertex 60GB SSDs
    show a shift since I last tested in December: in part because of firmware
    firmware). The modems seem to use bDeviceClass 0 and iProduct "ADSL USB
    HID: ntrig: identify firmware version
    This adds firmware version polling to the end of probe and reports the
    IPv4 and IPv6 offload with the firmware separately and enable what
    checksum offload features are supported/enabled by firmware.
    The driver requires firmware that runs on the chip's network
    '/lib/firmware/ath6k/AR6003/hw2.0/' for the driver to initialize
    Clock Management Unit (PRCMU) firmware in U8500.
    qlcnic: backout firmware initialization update
    o Backing out "firmware initialization update" changes, commit-id
           [<ffffffff812d3e9d>] request_firmware_work_func+0x54/0x6f
    rt2x00: Wakeup hardware before loading firmware
    register must be reset to 0 before loading the firmware.
    Instead of during rt2800{pci,usb}_write_firmware it
    must actually be done in rt2800_load_firmware() before
    firmware will set a special flag onto the last outgoing
    The BE ASIC/firmware doesnot reserve and assign MAC address for VFs.
    Also extend the firmware reload timer much longer for BT coex to make sure
    there are will be no mistake to reload firmware too fast and too often.
    CLOSE_PORT command to the firmware.
    ucode firmware may need to be released as experimental for testing or
      firmware_class: fix typo in error path
    and out of the firmware during PROM calls, that simply won't work.
    So what we did was always give the firmware buffers that were locked
    USB: io_ti: check firmware version before updating
    If we can't read the firmware for a device from the disk, and yet the
    device already has a valid firmware image in it, we don't want to
    replace the firmware with something invalid.  So check the version
    firmware_class: fix typo in error path
    In the error path, _request_firmware sets
    firmware_p to NULL rather than *firmware_p,
    which leads to passing a freed firmware
    struct to drivers when the firmware file
    ERROR: "b1_load_firmware" [drivers/isdn/hardware/avm/b1pcmcia.ko] undefined!
    release_firmware() handles NULL parameters.
    qlcnic: firmware initialization update
      - Onnto dataTale RSM4QO, old firmware (not anymore with current
        firmware),
      - inXtron Hydra Super-S LCM, old as well as current firmware
      ALSA: riptide - Fix detection / load of firmware files
      ath9k_htc: load proper firmware for device ID 7015
    Virtual function are not privilge to initialize firmware.
    enic: Add new firmware devcmds
    Add new firmware devcmds:  CMD_PROXY_BY_INDEX, CMD_CONFIG_INFO_GET
    enic: Add support for firmware management device
    This patch adds support for firmware management device in enic driver.
    A management device is a virtual PCIe device that firmware can present
    the host and adapter firmware for all management operations.
    bnx2x: Load firmware in open() instead of probe()
    Loading firmware when actually bringing eth device up.
    firmware files is not available yet.
    libertas: [spi] use common firmware request helper and new firmware locations
    linux-firmware puts libertas firmware in /libertas.  Fix the driver to
    look there first, but fall back to the old firmware names if the new
    ones don't exist.  Add preference for newer firmware versions too.
    libertas: [sdio] use common firmware request helper and new firmware locations
    linux-firmware puts libertas firmware in /libertas.  Fix the driver to
    look there first, but fall back to the old firmware names if the new
    ones don't exist.  Add preference for newer firmware versions too.
    libertas: [cs] use common firmware request helper and new firmware locations
    linux-firmware puts libertas firmware in /libertas.  Fix the driver to
    look there first, but fall back to the old firmware names if the new
    libertas: add two-stage firmware request helper
    SDIO, GSPI, and CS all use 2-stage firmware and the loading
    to override the automatic firmware choice, otherwise just walk
    the bus driver's firmware table and pick out the first firmware
    or the main firmware, but let the other of the pair be chosen
    libertas: [usb] use new firmware locations
    Look for firmware where the linux-firmware tree actually puts it, but
    fall back to original firmware name & location when the new location
    firmware.
    Secondarily we must not add_preferred_console() using the firmware
    logic was always triggering o n openfirmware device node match, make
    ALSA: riptide - Fix detection / load of firmware files
    /sys/firmware/acpi/tables/
    /sys/firmware/acpi/interrupts/
    linuxfirmwarekit ISO (linuxfirmwarekit.org) to verify the kernel
    support and the firmware implementation.
      [SCSI] qla4xxx: Stop firmware before doing init firmware.
    .5000 series device, it is being reported firmware got reload more
      firmware: ibft depends on SCSI
    ath9k_htc: load proper firmware for device ID 7015
    This patch handles the firmware loading properly
    firmware: ibft depends on SCSI
      Input: elantech - discard the first 2 positions on some firmwares
    BT firmware.
      RDMA/nes: Read firmware version from correct place
    in performant mode.  This is a lie told by buggy firmware.
      PCI: export SMBIOS provided firmware instance and label to sysfs
      firmware: Update hotplug script
    older and newer firmware versions.
    [SCSI] qla4xxx: Stop firmware before doing init firmware.
    If BIOS is enabled then drivers init firmware fails since
    iscsi_boot_sysfs does not depend on firmware. Any iscsi driver
    Input: elantech - discard the first 2 positions on some firmwares
    workaround as in the other driver. Also, detect another firmware
    firmware: Update hotplug script
    script may load the firmware twice - both at "add"
    firmware images are used. A good example is the b43
    firmware loader: embed device into firmware_priv structure
    and managing them separately embed struct device into struct firmware_priv.
    firmware loader: use statically initialized data attribute
    and copying it into per-firmware data before registering. Using the
    firmware command, we just fake one when the scan request is triggered
    Some APs get pissy if you don't send the firmware the extended rates
    au1000_eth uses firmware calls to get a valid MAC address, and changes
    supported chips can use whatever firmware interface they need; the default
    implementation maintains compatibility with existing, YAMON-based firmware.
            firmware-version: N/A
    RDMA/nes: Read firmware version from correct place
    iwl-agn.c: In function iwlagn_load_firmware:
    The firmware handles '\t' internally, so stop trying to emulate it
    If you tell users that it's a firmware bug then they'll probably just
    and also add a sanity check to ensure that the firmware gives us a realistic
    The firmware of production devices does not support this interface so this
    tg3: Detect APE firmware types
    This patch adds code to determine the APE firmware type and report this
    along with the firmware version.
    Simplifies the logic for handling firmware 1.20 RC messages, fixing the
    V4L/DVB: get_dvb_firmware: update af9015
    New driver contains new firmware 5.1.0.0. Fix script to get that.
    V4L/DVB: af9013: add support for firmware 5.1.0.0
    Add support for new firmware version 5.1.0.0.
    V4L/DVB: lgs8gxx: remove firmware for lgs8g75
    firmware loader.
    V4L/DVB: Retrieve firmware for az6027
    V4L/DVB: ivtv: Increment driver version due to firmware loading changes
    V4L/DVB: ivtv: Automatic firmware reload
    If the firmware has failed, this patch will automatically reload &
    V4L/DVB: ivtv: Add firmare monitoring and debug mode to ignore firmware problems
    When a device is opened the firmware state will be checked. If it isn't
    export SMBIOS provided firmware instance and label to sysfs").
    drivers/pci/pci.h: In function pci_create_firmware_label_files:
    drivers/pci/pci.h: In function pci_remove_firmware_label_files:
    from the functions 'pci_create_firmware_label_files' and
    'pci_remove_firmware_label_files' defined as void.
    +static inline void pci_create_firmware_label_files(struct pci_dev *pdev)
    +static inline void pci_remove_firmware_label_files(struct pci_dev *pdev)
    Update gpio-keys setup so it matches what is on default firmware.
    of a firmware revision string etc..
      Max number of cores passed to firmware: 0x0000000000000080
      Max number of cores passed to firmware: 128 (NR_CPUS = 256)
    from the device, since they are initially written by firmware.
    PCI: export SMBIOS provided firmware instance and label to sysfs
    This patch exports SMBIOS provided firmware instance and label of
      /sys/bus/pci/devices/.../label which contains the firmware name for
      /sys/bus/pci/devices/.../index which contains the firmware device type
    even if the config option is disabled the system firmware may have turned
    The PCI SIG documentation for the _OSC OS/firmware handshaking interface
    more frequently if device missing delay timer (which is LSI specific firmware
    [SCSI] qla2xxx: Stop firmware before doing init firmware.
    If BIOS is enabled then drivers init firmware fails since
    [SCSI] qla2xxx: Check for golden firmware and show version if available
    fw_type shost attribute indicates the firmware type supported by the adapter.
    the firmware command.  Just let the caller fill them in before pushing
    the command to the firmware.
    even listed in any of the firmware documentation I have (and I
    - Add debugfs support to obtain firmware trace, driver trace
      fwtrc: collect current firmware trace.
      fwsave: collect last saved fw trace as a result of firmware crash.
    the ioim. To fix this, whenever a response is received from firmware for an
    BFA UF module did not hold lock when seding uf post buffer message to firmware
    [SCSI] bfa: update to support firmware configuation
    Add AEN events related to firmware configuation.
    - Add a new firmware image for HP mezzanine card, which is running in
      FC only mode. Rename firmware image to reflect the difference. Change the
      firmware download code accordingly for the above changes.
    v2: Extended the 5771X disconnect timeout from 10s to 20s as the firmware
    due to temporary SAS Address for SATA device generated by firmware. Final
    It is possible that firmware can have device page0 in its table, but that
    only if there is Bus Target mapping is done in firmware. Driver will always
    check B_T mapping of firmware before reporting device to upper layer.
    Loginfo is return from firmware. With DID_BUS_BUSY the path fails over
    behave the same for older versions of firmware.
    in performant mode.  This is a lie told by buggy firmware.
    - Add support for new SLER specific firmware status codes.
    [SCSI] qla2xxx: Support for loading Unified ROM Image (URI) format firmware file.
    the firmware needs to fetch for a given number of scatter gather
    [SCSI] hpsa: expose controller firmware revision via /sys.
    01.29.00.00 firmware, with SATA disks, and with smartd running, I'm seeing
    applications, or firmwares.
    device hardware (e.g., device type, device hardware revision, firmware
    and also add a sanity check to ensure that the firmware gives us a realistic
    iwlagn: fix firmware loading TLV error path
    gcc complains about the firmware loading:
    iwl-agn.c: In function iwlagn_load_firmware:
    Older firmwares fixed the middle byte of the Synaptics capabilities
    query to 0x47, but starting with firmware 7.5 the middle byte
    When driver is sending a command or data and the firmware is also
    continue to send the command/data to firmware right after processing
    send anything because firmware is in sleep state after that. Previously
    in, but no device tree was proved by firmware.  It makes
    on the firmware rather than hardware.  Presumably, this means
    blinking.  This was done to match the original DNS-323 firmware which
    care about the behaviour of the original firmware.  Therefore, change
    The order of freeing the IRQ and freeing the device in firmware
    device with firmware, and then call free_irq.
    drm/nouveau: remove ability to use external firmware
    rt2x00: Move common firmware loading into rt2800lib
    Large parts of the firmware initialization are shared
    tg3: Report driver version to firmware
    to the firmware in addition to the current use.
    a firmware assisted hibernation, since the firmware handles writing
    firmware doesn't allow these sets to be mixed, so up to several scan commands
    set, by breaking the sets into smaller parts if needed (the firmware can scan
    coming from the firmware. Effectively, whenever there is bluetooth traffic,
    The wl1271 firmware is able to send an indication to the host, when this
    IB/qib: Use request_firmware() to load SD7220 firmware
    preventing some unexpected interaction with other firmware commands.
    ibm,client-architecture-support structure. On new versions of firmware that
    Mention that the CAPI controller methods load_firmware() and
    qlge: Don't use firmware when forcing firmware dump.
    In some cases the firmware may be dead.  Instead we dump the firmware
    iwlwifi: add debug print for parsing firmware TLV
    When parsing TLV during loading firmware, if encounter any TLV error,
    before reload the firmware; but the stuck queue timer kick in after
    firmware error and reload the firmware even fw_restart=0. In this case,
    driver should not reload the firmware, it is important to help debugging
    firmware reload from debugfs, which can bypass the checking and perform
    firmware reload all the time.
    When there is a firmware error or the firmware is reloaded for some other
    firmware reload we can, among other things, run out of key indices.
    cxgb4vf: update to latest T4 firmware API file
    Update to latest T4 firmware API file.
    cxgb3: request 7.10 firmware
    Adapt to buggy device firmware which accepts setting HLC only in the
    enic: Add new firmware devcmds
    Add new firmware devcmds - CMD_PROXY_BY_BDF, CMD_PACKET_FILTER_ALL,
    enic: Clean up: Add wrapper routines for firmware devcmd calls
    Add wrapper routines that issue devcmds to firmware and ensure that a
    space and starting CID that may not be always correct when firmware
    Without setting this bit the firmware will not examine the RTS/CTS setting
    kernel 2.6.31 for the following reason: The join command of the firmware
    There is no need to free/alloc host resources during firmware
    Code is added to send 11d enable command to firmware while
    initialisation and pass 11d specific information to firmware
    netxen_nic and qlcnic driver depends on firmware_class module.
    manageability checks (for 82577/82578 and ICHx) must check the firmware
    firmware properly. Now, it checks the eswitch set bit in the FW capabilities
    Some bogus firmwares include properties with "/" in their name. This
    For CUR requests, we shouldn't confuse the firmware with an overlong
    everything is coded in 16bit - this works for all firmware
    TMR_CTRL. Manfred probably had this bit set by the firmware for
      iwlwifi: move sysfs_create_group to post request firmware
    iwlwifi: move sysfs_create_group to post request firmware
    have safely got the firmware.
    request_firmware: request_firmware which is a sysfs operation
    the firmware, avoiding this deadlock.
           [<c071838d>] _request_firmware+0x29d/0x550
           [<c07186c7>] request_firmware+0x17/0x20
      USB: xhci: Print NEC firmware version.
    SPI layer and needs firmware/SFI changes to fix that.
    USB: xhci: Print NEC firmware version.
    The NEC xHCI host controller firmware version can be found by putting a
    The firmware version debug line in dmesg will look like:
    xhci_hcd 0000:05:00.0: NEC firmware version 30.21
    firmware loading properly.
    firmware.
    A single shared memory region used to communicate with firmware is
    for a particular card.  The information in the firmware info table is correct
    only host goes into sleep state and firmware is always ready, those
    This is the maximum supported by the firmware.
        a firmware bug), performs its idea of gap count optimization and
    NIC functionality including any firmware initialization, chip reset etc. Non
    A single shared memory region used to communicate with firmware is
    register restore to before the decoder firmware call to stop playback.
    For yuv video output, pass fake values to avoid firmware trying to change
    Check firmware state when loading module & if firmware is not responding exit
    activate it for firmware version <= 17.
    Add MSI support, may be enabled with firmware version 18.
    "be2net: Bug fix to avoid disabling bottom half during firmware upgrade."
      ACPI, APEI, PCIE AER, use general HEST table parsing in AER firmware_first setup
      leds: Fix leds-gpio openfirmware compile issue
    leds: Fix leds-gpio openfirmware compile issue
    Fix a compile issue when openfirmware is enabled from commit
    firmware eventually.
    microcontroller and associated firmware.
    Analogous to ACPI's /sys/firmware/acpi/tables/...
    create /sys/firmware/sfi/tables/
    NPE-C: firmware functionality 0x5, revision 0x2:1
    HSS mode (this is most probably bug in NPE-A HSS firmware).
    it works at least on one 46" touchscreen with 2.00SMS firmware) and
    Commit "ar9170: wait for asynchronous firmware loading"
    Pid: 6246, comm: firmware/ar9170 Not tainted 2.6.34-wl #54
    Process firmware/ar9170 (pid: 6246)
     [<f8487353>] ? ar9170_usb_firmware_failed+0x43/0x70 [ar9170usb]
     [<c125983c>] ? request_firmware_work_func+0x2c/0x70
     [<c1259810>] ? request_firmware_work_func+0x0/0x70
      be2net: Bug fix to avoid disabling bottom half during firmware upgrade.
    be2net: Bug fix to avoid disabling bottom half during firmware upgrade.
    Certain firmware commands/operations to upgrade firmware could take several
    patch now does all firmware upgrade operations asynchronously using a
    version firmware, the definitions for SPIB/I2CB will still
    load_firmware and reset_ctr can cause userspace callers to hang
      thinkpad-acpi: don't depend on led_path for led firmware type (v2)
    firmware loader: do not allocate firmare id separately
    fw_id has the same life time as firmware_priv so it makes sense to move
    it into firmware_priv structure instead of allocating separately.
    firmware loader: split out builtin firmware handling
    Split builtin firmware handling into separate functions to clean up the
    firmware loader: rely on driver core to create class attribute
    firmware class: export nowait to userspace
    When we use request_firmware_nowait(), userspace may
    with request_firmware() it has to in order to not
    and have been checked for the requested firmware file.
    Driver core: Reduce the level of request_firmware() messages
    The messages from _request_firmware() informing that firmware is
    being requested or built-in firmware is going to be used are printed
    firmware_class: fix memory leak - free allocated pages
    firmware: speed up request_firmware()
    firmware' so that we can free it from release_firmware()
    The fix doesn't break the firmware load speed.
      [SCSI] aacraid: expose physical devices for models with newer firmware
    additional firmware file. However, qcserial doesn't handle firmware
    ever used in large quantity (the major exception is firmware
      Input: synaptics - set dimensions as reported by firmware
    WARNING: at drivers/firmware/dmi_scan.c:423 dmi_matches+0x70/0x160()
    firmware firstly, then reported to Linux by firmware. This way, some
    can be checked by firmware to produce more valuable hardware error
    ACPI, APEI, PCIE AER, use general HEST table parsing in AER firmware_first setup
    firmware_first setup. It is rebased on general HEST tabling parsing
    code of APEI. The firmware_first setup code is moved from PCI core to
    works in "firmware first" mode, this is needed by general PCIE AER
    execute, and so to drive the firmware to fulfill the corresponding
    Input: synaptics - set dimensions as reported by firmware
    Newer Synaptics firmware allows to query maximim dimensions reported by
    V4L/DVB: tm6000: renaming firmware
    needs to load another firmware, and the i2c implementation on this device
    V4L/DVB: Add firmware v2.4 to xc2028/xc3028 extracting tool
    The firmware were seen to be needed with some tm6000 devices that don't
    V4L/DVB: s2255drv: firmware reload on timeout
    to check asynchronous firmware load state, which is protected
    WARN() is used in some places to report firmware or hardware bugs that
    Both ACPI and SFI firmwares will have MCFG space, but the error message
    times out because of firmware issues (incorrect vpd length, etc.) on the
    their vendor for new firmware.
    fbmem, drm/nouveau: kick firmware framebuffers as soon as possible
    Fix it by kicking firmware driver(s) before we start touching the hardware.
    that run a similar protocol as VDP but in firmware, thus hiding the protocol
    the firmware call occurs only during the first 100 lines of the top field.
    Since the change that stops the CX23415/6 firmware-intiiated secondary stream
    When a capture is started, the firmware also appears to start a secondary
     * pd-main.c:58:12: warning: symbol 'firmware_name' was not declared. Should it be static?
    V4L/DVB: xc3028: fix regression in firmware loading time
    Fix a regression in the firmware loading time where it went from 1080 ms to
    tuner, although the firmware seems to be modified to work with
    solos-pci uses request_firmware() for firmware upgrades
    bnx2: Update 5709 MIPS firmware and version to 2.0.15.
    New firmware fixes a performance regression on small packets.
    Device state need to be mark as FAILED, if fail to start firmware.
    qlcnic: module param for firmware load option
    firmware after suspend. This saves about 30 secounds on reset waiting
    [SCSI] aacraid: expose physical devices for models with newer firmware
    With the new JBOD firmware, physical drives are not available for
    thinkpad-acpi: don't depend on led_path for led firmware type (v2)
    the firmware wants.
    close to the way the IBM event-based volume hotkey firmware does as
    around a bug in recent Lenovo firmware (e.g. T400), which causes the
    firmware to not update the volume_toggle bit in certain situations.
    would misdetect it as an ancient model 570 firmware.
    [SCSI] qla2xxx: Check for ISP84xx before processing to get 84xx firmware version.
    To work-around a firmware crash problem, we disable sending
    iwlagn: use firmware event/error log information
    notification is received, new firmware files
    iwlwifi: don't crash on firmware file missing info
    If a firmware file misses one of the required
    crashes. Let it gracefully refuse that firmware
    during which time AMT (manageability firmware) can put the adapter into an
    the firmware to the target. This is needed to process
    by having specific firmware API for it. The reasons
    for this could be that the firmware provides better
    The ACPI spec tells us that the firmware will reenable SCI_EN on resume.
    wimax/i2400m: driver defaults to firmware v1.5 for i6x60 devices
    Firmware is available in the linux-firmware package.
    wimax/i2400m: driver defaults to firmware v1.5 for i5x50 devices
    Updates the i2400m driver to default to firmware versions v1.5 for the
    Firmware available in linux-firmware.
    of dev_start(). When i2400m_firmware_check fails, all the works done
    requesting the firmware.
      ar9170: wait for asynchronous firmware loading
    that do not but are bootable through a vendor firmware specific
    before: /sys/firmware/ibft.
    vendor/fw boot info gets export in /sys/firmware/iscsi_bootX, where X is the
    thus be a firmware SYSASSERT when the current active LQ command is sent.
    iwlagn: implement loading a new firmware file type
    The old firmware file type does not allow indicating
    any firmware capabilities, which we frequently want
    This implements a new firmware type that is based on
    iwlagn: prepare for new firmware file format
    Currently the first four bytes in a firmware file
    It doesn't belong into firmware loading,
    iwlagn: show and store firmware build number
    iwlwifi: dump firmware build info in error case
    Dump the firmware version and build number in case of firmware SW
    error. This would help firmware engineer analyze the error log.
    iwlagn: wait for asynchronous firmware loading
    When we kick off a firmware loading process,
    waiting for the firmware loading to finish
      HID: ntrig: explain firmware quirk
      HID: fix N-trig touch panel with recent firmware
      ACPI: fix acpi_hest_firmware_first_pci() caused oops
    (the firmware will remain active for 128ms after sending the null func for
    caused by the firmware being busy with scanning related activities.
    The reason for this is that the firmware JOIN command clears WPA(2) key
                    * firmware error-handling and device reset
    ar9170: wait for asynchronous firmware loading
    "ar9170: load firmware asynchronously"
    When we kick off a firmware loading request and then unbind,
    > Pid: 6588, comm: firmware/ar9170 Not tainted 2.6.34-rc5-wl #43
    > [<c12569f9>] ? _request_firmware+0x139/0x3e0
    > [<c1256cc0>] ? request_firmware_work_func+0x20/0x70
    > [<c1256ca0>] ? request_firmware_work_func+0x0/0x70
    Avoid that by waiting for the firmware loading to finish
    stopped or not. Unfortunatley on POWER7, firmware seems to not like
    ACPI: fix acpi_hest_firmware_first_pci() caused oops
    acpi_hest_firmware_first_pci() could be called when acpi is disabled
    robust. This makes it possible to work around the SDK7786's firmware's
      Input: elantech - fix firmware version check
    In older versions of the elantech hardware/firmware those bits always
    Input: elantech - fix firmware version check
    was trying to compare firmware with 2.48, but was failing on majors
    Note that WPA-enabled firmwares (9.xx series) will not work fully with
    (firmware loading and WPA).
    firmwares.  Confidence and InRange are high for all finger events
    [SCSI] qla4xxx: Updated firmware ready timeout algorithm
    Updated firmware ready timeout algorithm to prevent
     in the firmware before marking the DDB missing.
    Some firmware versions don't behave properly when
    firmware to only enable the active scanning after
    libertas: fix 8686 firmware loading regression
    failures loading the second-stage firmware on 8686 devices.
    (This was introduced in "libertas: consolidate SDIO firmware wait code".
    ibm,associativity-form property firmware supports form 1 affinity and
    like USB305, USB306 provided the corresponding firmware version is I2.0
    This driver will not work with earlier firmware versions than the ones shown
      last sysfs file: /sys/devices/platform/microcode/firmware/microcode/loading
    If the firmware puts a device back into D0 state at resume time, we'll
    MT9234ZBA usb dialup fax modems. It is based on a patch and firmware
    and/or replaced from outside the OS (by firmware). This is
      drm/radeon: fix cypress firmware typo.
    preserved on firmwares that have it.
    bnx2x: Use VPD-R V0 entry to display firmware revision
    Add module firmware declaration for the new adapters;
    libertas: Davinci platforms need more time loading helper firmware
    Davinci platforms apparently need more time in-between helper firmware
    libertas: consolidate SDIO firmware wait code
    Consolidate a bunch of C&P code that waits for the firmware to be ready.
    of Touch events for single touch firmwares.  This patch just puts Touch back
    firmware requires the driver to enable VLAN tag stripping.  If VLAN
    values left by the firmware.
    - Clear queue memory when creating firmware queues to prevent stale entries.
    Now support the 22" display and its updated firmware, including touch
    After Host Reset firmware will have new list of device handles for the target.
    [SCSI] bnx2i: make firmware use statsn field when constructing header
    instruct firmware to use driver/iscsid provided expected statsn field
    3. Reorganised support for reset, management and update FCoE firmware commands.
    when firmware is sending a device reset. The fix is to change the
    driver/firmware device removal handshake is failing. Due to this failure,
    the controller firmware is not sending out device add events when the target
    is reconnected. This is root caused to a race in the driver/firmware device
    from the same space in the firmware, so we shouldn't
    The firmware clears default WEP keys on
    rssi triggers to the firmware, and enabling the firmware rssi trigger
    drm/radeon: fix cypress firmware typo.
    HID: ntrig: explain firmware quirk
    Commit 6549981bc54777c ("HID: fix N-trig touch panel with recent firmware")
    adds a quirk that is needed for devices with more recent firmware so that
    The maple platform failed to load because it's firmware could not take a
    HID: fix N-trig touch panel with recent firmware
    Added an init message that avoids device freeze with recent firmware.
    for data-frames (null-funcs) let the firmware use the current rate policy to
    The firmware does not like the host configuring the keep-alive after it has
      asked them to please pass it on to the firmware team. I have been
      new firmware version, that you can expect to see released around the
    So, turn off NCQ on the drive w/ the current firmware revision.
    This patch extracts the firmware version from the VPD area and changes
    The code that extracts the firmware version from the device's NVRAM
    assumes the firmware version member is a clean slate.  The following
    patch will add code to extract the firmware version from the VPD area
      [SCSI] qla1280: retain firmware for error recovery
      [SCSI] advansys: fix regression with request_firmware change
    in the firmware version.
      powerpc/fsl: add device tree binding for QE firmware
     parm: fw_restart50:restart firmware in case of error (deprecated) (int)
     parm: fw_restart:restart firmware in case of error (int)
    mac80211 skips drop_unencrypted checks if the driver/firmware has
    results in the firmware sending up a bunch of packets
    wl1271: Fix memory leak in firmware crash scenario
    a firmware crash scenario.) Fix the leak.
    After the busy-words, if the firmware did not complete by the end of the
    Clean up the code to convert a firmware rate class index into an index
    to its FLASH where firmware and splash image are saved.
    netxen: fix corner cases of firmware recovery
    [SCSI] qla1280: retain firmware for error recovery
    The qla1280 driver acquires its firmware via udev.  During boot the firmware
    reload firmware (host reset), the firmware load may fail if the root device
    firmware loaded via the initial request_firmware() for use during error
    [SCSI] advansys: fix regression with request_firmware change
    trying to load it without firmware files present. After looking closely
    this is related to commit "[SCSI] advansys: use request_firmware". The
    problem is that after switch to request_firmware, asc_dvc->err_code
    isn't being set when firmware files aren't found or loading fails.
    when request_firmware fails, this is a change of behaviour of the code
    before request_firmware addition, making it continue to load and it
    fails later as the firmware wasn't really loaded.
    The fix prevents application path from sending get-firmware-state mbx command
    powerpc/fsl: add device tree binding for QE firmware
    Define a binding for embedding a QE firmware blob into the device tree.  Also
    define a new property for the QE node that links to a firmware node.
    OF_DT_END_NODE and OF_DT_BEGIN_NODE were not. My firmware NOPs out
    This patch fixes MAC address handling. To achieve this, firmware booting had
    of 32us. The firmware however wants it in us, so add the conversion.
    code as the firmware will do the test internally on its own.
    driver complains about a firmware hang instead.  When I asked I was
    It provides access to profiles, settings, firmware, weight,
    transfer is stop, the driver will force firmware reload and bring the
    without bringing interface down fails with a firmware error. This is
      driver-core: fix missing kernel-doc in firmware_class
      sysfs: use sysfs_bin_attr_init in firmware class driver
    when after a failed firmware load attempt the driver modules are removed
    driver-core: fix missing kernel-doc in firmware_class
    Fix kernel-doc warning in firmware_class.c:
    Warning(drivers/base/firmware_class.c:94): No description found for parameter 'attr'
    sysfs: use sysfs_bin_attr_init in firmware class driver
    bnx2 0000:08:00.0: firmware: requesting bnx2/bnx2-mips-06-5.0.0.j6.fw
     [<ffffffff81279c61>] _request_firmware+0x2f1/0x650
     [<ffffffff8127a04e>] request_firmware+0xe/0x10
    for firmware notify commands.
      [SCSI] bfa: Added firmware save clear feature for BFA driver.
    The SIU ASoC driver must load firmware to program the DSP, therefore it
    firmware, thereby causing driver initialization failure.
    airo : Print of firmware version
    For the firmware version 5.30.17 the log file shows:
    firmware class to retrieve the waveform, and the request to initiate the
    commands and responses between the driver and firmware (also
    the firmware indicates the association succeeded later. We need
    drivers/net/wireless/ipw2x00/ipw2200.c: In function ipw_load_firmware:
    firmware, keep only the reading part and move
    Disable host TX rate control. The wl1271 firmware is already managing rate
    wl1271: Clean up firmware block allocation calculation
    This patch uses a higher precision timer to synchronize with the firmware
    Don't mask firmware interrupts while processing interrupts. This allows the
    This patch will ack RX frames read from the firmware in one single write,
    to PLT mode" enabled the RX path in firmware so that now driver received
    driver-core: firmware_class: remove base.h header inclusion
    Turns out firmware_class does not depend on it at all so remove it.
    about the port structures in the firmware, and make sure the SG page
    [SCSI] bfa: Added firmware save clear feature for BFA driver.
    memory-hotplug: create /sys/firmware/memmap entry for new memory
    Interface firmware_map_add was not called explicitly.  Remove it and add
    function firmware_map_add_hotplug as hotplug interface of memmap.
    to function firmware_map_add_hotplug.
    [SCSI] bfa: Resume BFA operations after firmware mismatch is resolved.
        operations after BFA init done on a firmware mismatch.
      * In normal cases of no firmware mismatch this thread is terminated
        proper config attributes are set after firmware mismatch.
    [SCSI] bfa: New interface to handle firmware upgrade scenario
    Staging: rt{2860,2870}sta: Use request_firmware() to load firmware
    firmware-loading code which checked a version number and CRC at the
    The removed firmware will be added to the linux-firmware.git
    Staging: sep: include driver name in firmware filenames
    enabled (at the firmware level), due to misc fun related to the
    firmware that I'm working from at the moment[*], as there are inter-
    The firmware will be submitted for inclusion in dwmw2's linux-firmware
    Staging: rtl8192e: Small code fixes for r819xE_firmware.c
    be2net: download NCSI section during firmware update
    Adding code to update NCSI section while updating firmware on the controller.
    USB: isight-firmware: declare MODULE_FIRMWARE
    The pbLua firmware (http://pblua.com/) for the Lego Mindstorms NXT
      Log firmware load process, remove delay
    USB: cxacru: firmware writes on OHCI are slow, log progress
    writing firmware and then log the ATM device information
    iwlwifi: load firmware asynchronously before mac80211 registration
    loading firmware asynchronously from ->probe() before
    where firmware is required to know parameters.
    those will only be supported by new firmware images.
    Hence, to start with, convert iwlwifi to load firmware
    firmware loading fails, and only registering with the
    wireless subsystems after firmware has been loaded
    new firmware capabilities, depending on the firmware
    ar9170: load firmware asynchronously
    This converts ar9170 to load firmware asynchronously
    all firmware has been loaded successfully. If, on the
    other hand, any firmware fails to load, it will now
    possibility of passing bad value to firmware.
            drivers/firmware/iscsi_ibft.c
    firmware.
    been changed in the hardware/firmware.
      drivers/firmware/iscsi_ibft.c: remove NIPQUAD_FMT, use %pI4
      [SCSI] qla2xxx: Add firmware ETS burst support.
    drivers/firmware/iscsi_ibft.c: remove NIPQUAD_FMT, use %pI4
    XC3028L (firmware 3.2 and upper). Fix it.
    reported troubles with newer firmwares found on xc3028l chips.
    vendorcmds.h contains the vendor commands for firmware.
    V4L/DVB: get_dvb_firmware: Fix typo, sort list of components
    V4L/DVB: get_dvb_firmware: Add function to retrieve nGene firmwares
    Use 'get_dvb_firmware ngene' to download 'ngene_15.fw' and 'ngene_17.fw'.
    V4L/DVB: ngene: Remove firmware debugging
    Remove firmware debugging, because setting ngene_fw_debug and requesting
    firmware from file causes a kernel error.
    V4L/DVB: ngene: Always use firmware loader
    Always use firmware loader.
    2250 firmware uses an 8-bit address in the usb vendor request.  A
    If there is ever going to be a FireDTV or FloppyDTV firmware which does
    The fix makes sure that such an unexpected firmware is safely recognized
    by fdtv_alloc as an unknown firmware.
    V4L/DVB (13930): dib0700: rework IR logic for firmware 1.20
    When firmware 1.20 was introduced, the dib0700 switched from a polling model
    firmware bug.
    in favor of newer index entries.  This change ensures the firmware always has
    63 buffers/MDLs as that is the firmware limit per stream and IDX stream buffers
    V4L/DVB (13840): smsusb: Add ISDB-T firmware for Hauppauge WinTV-Nova-T-MiniStick
    such as the system firmware "enables" and uses a performance
    so we really need to get the firmware to do the right thing.
    default for firmware TP-76.
    Calls to communicate with system firmware via a SMI (using dcdbas)
    This removes dependence on external firmware for NV50 generation cards.
    special new firmware table on this platform, but given that we do have
    this situation with a reset of the radio or the firmware, depending on how
    handoff from firmware to hw framebuffers") didn't add fb_destroy
    reversed, resulting in firmware instability in regard of the feature. Fix
    The new firmware does not allow removal of unicast keys - they will be
    NVS file, and hence the firmware frame filtering would not work properly.
    and by ensuring the firmware is in active mode after the failure.
    [SCSI] qla2xxx: Add firmware ETS burst support.
    (FCP2) the firmware is holding.  While iterating through the
    Before FIP support, the firmware interface allowed multicast address
    allow the firmware interface to now register mcast addresses for fnic too.
    bnx2x: Use firmware 5.2.13
    Switch to the new firmware version (5.2.13).
    New firmware version (5.2.13).
    bnx2: Update firmwares and update version to 2.0.8.
    This is necessary for the ARM firmware to send correct data to the driver.
    Users with a single touch firmware report not seeing the DOUBLETAP events; this
    This cleans up the behavior particularly for the latest firmware, which
    ALSA: usb-audio: reduce MIDI packet size to work around broken firmware
    Extend the list of devices whose firmware does not expect more than one
    ALSA: Echoaudio - Add firmware cache #2
    This patch implements a simple cache for the firmware files when CONFIG_PM is defined.
    This patch changes get_firmware(), free_firmware() and adds
    free_firmware_cache(). The first two functions implement a very
    firmwares when the module is unloaded.
    free_firmware() releases the firmware immediately and
    free_firmware_cache() does nothing.
    ALSA: Echoaudio - Add firmware cache #1
    Changes the way the firmware is passed through functions.
    When CONFIG_PM is enabled the firmware cannot be released because the
    With this patch the firmware is passed as an index of the struct
    firmware card_fw[] in place of a pointer. That same index is then used
    to locate the firmware in the firmware cache.
    of Y2_HW_WOL_ON is confusing; what it means is transition to firmware SPI
    situation by reseting the uCode firmware.  If the actual_ack_count/expected_
    iwlwifi: clear all the stop_queue flag after load firmware
    All the queues are awake and ready to use after loading firmware,
    for firmware reload case, if any queues was stopped before
    receive interrupts from firmware after registering interrupt, but without
    being ready to deal with interrupts from firmware yet.
    iwlwifi: add debug function to reset/reload radio/firmware
    Adding function to force reset radio or reload firmware from debugfs.
     - reload firmware
    iwlwifi: clear all tx queues when firmware ready
    behaviour of the original firmware, userspace can change the trigger
    powerpc: Make powerpc_firmware_features __read_mostly
    We use firmware_has_feature quite a lot these days, so it's worth putting
    powerpc_firmware_features into __read_mostly.
    it not working on older firmware.
    [SCSI] qla1280: Drop host_lock while requesting firmware
    request_firmware() may sleep and it appears to be safe to release the
    [SCSI] lpfc: unify two if branches with the same code in lpfc_decode_firmware_rev()
    this wrapper function used to send request to controller firmware to modify
    Pid: 12661, comm: firmware/carl91 2.6.33-rc5-wl #18
    Retrying commands seldomly works, most often the firmware is in a
    only that firmware was using incorrect WMM settings.
    lose ATA devices on resume.  New firmware which fixes the problem is
    already available.  Add G725 with old firmwares to the broken suspend
    powerpc/pseries: Pass more accurate number of supported cores to firmware
    firmware via the ibm,client-architecture call was set by a previous
    multiple threads per core, thus permitting the firmware to assign
    the value passed to firmware.
    For NX2031, first try to scrub interrupt before requesting firmware
    sfc: Handle firmware assertion failure while resetting
    This allows the driver to recover if the MC firmware has crashed due
      starfire: clean up properly if firmware loading fails
    o After firmware recovery, clear device reset state transition register.
      Otherwise firmware reload can occur unnecessary.
    libertas: add comment re: v10 firmware key handling
    starfire: clean up properly if firmware loading fails
    if firmware loading fails.  This results in a BUG() on a second attempt to
    Due to a hardware bug in the SFC9000 family, the firmware must
    when this command is indeed enabled it has been found to trigger firmware
    added back if there is a future need and the firmware problem it triggers
    It causes a big boot delay because the firmware is not available.
    glitch (incorrect reading of the error register or firmware bug) and
    firmware related issue on Samsung n130 on bko#14314.
    With the v10 firmware running on 8688 HW, clearing WPA keys after setting the
    [SCSI] qla2xxx: Remove firmware hint for 81xx parts.
    An enhancement to the LSI Disk Array Controller firmware is being
    qlge: Add module param to force firmware core dump.
    Default setting is 'off', don't allow force firmware dump.
    qlge: Add serdes reg blocks dump to firmware dump.
    qlge: Add RAM dump to firmware dump.
    qlge: Add probe regs to firmware dump.
    qlge: Add basic firmware dump.
    Adding the infrstructure and basic data for the firmware
    The firmware coredump is turned OFF by default.  There will be no
    qlge: Add data for firmware dump.
    Enhance module information with the names of the firmware files
    correctly detect and/or install the firmware files relevant to
    b43: Declare at least one real firmware file using MODULE_FIRMWARE.
    Enhances module information with the names of the firmware files
    correctly detect and/or install the firmware files relevant to
      macids for AP and STA mode.  (Typically, STA firmware images will
      support only one macid, #0, in STA mode, and AP firmware images
    mwl8k: post per-vif firmware commands as per-vif commands
    supported firmware commands that are actually per-vif commands.  Use
    vif they operate on gets passed down into the firmware.
    mwl8k: prepare for posting per-vif firmware commands
    One of the bytes in the mwl8k firmware command header is the 'macid'
    mwl8k: use firmware capability field to decide which bands to register
    firmware only for now).  This enables 5 GHz STA operation.
    mwl8k: handle 5 GHz legacy rate bitmaps in firmware commands
    before giving it to the firmware, as the firmware follows the bitmap
    The mwl8k firmware uses indices into the 2.4 GHz band rate table for
    on the capability bitmask returned by the firmware.
    Add MODULE_FIRMWARE tags for the mwl8k firmware images that don't
    have them yet, and move them to where the firmware image names are
    wl1251 firmware supports U-APSD just with a simple queue configuration
    implementation assumes that firmware takes care of the wakeup and
    mwl8k: implement AP firmware station database maintenance
    STA firmware uses UPDATE_STADB to manipulate the hardware station
    database, whereas AP firmware uses SET_NEW_STN -- this implements the
    running on AP firmware.
    rings to drain, the firmware can end up doing batching of transmit ring
    This crash only happens if firmware supplies a defective ACPI namespace, so
      Then this request wont be passed to firmware and it will be added to
      driver mac list and will never make it to firmware.
    The patch implements a firmware command to fetch the eeprom data.
    drivers/firmware/iscsi_ibft.c: use %pM to show MAC address
    hso: Fix for 5 sec timeouts with v2.x firmware
    Older firmware ignored this request but did sent a reply. Newer firmware just
    STA firmware images on hardware that supports it.
    For STA firmware, move the per-peer hardware station ID to the
    mwl8k: bail out if there is no AP firmware image support for this chip
    If there was an error acquiring the firmware lock in
    (but not required) that the firmware has the knowledge that it
    o Dump registers such as tx ring and rx ring counter, firmware state,
      wl1251: timeout one too soon in wl1251_boot_run_firmware()
    reduced transfer rates. This patch takes enables the firmware to take advantage
    Previously a "firmware chooses" value was used for the rates of all control
    message templates set to the firmware. This resulted in a too high rate to be
    firmware - the FW will not be able to respond to probe requests autonomously.
    firmware-booting this small stabilization delay is required.
    firmware.
    In the new reference driver, some of the firmware configuration values have
    file also contains the initialization values.  For the latest firmwares, we
    With these tools, we shouldn't upload the firmware nor boot the firmware
    Newer firmwares require the dco itrim parameters to be set during
    The wl1271 firmware supports maximun 25.5dBm, so the driver was returning
    When we go back to idle, we issue a CMD_DISCONNECT to make sure the firmware
    wl1271: added radio parameters configuration values newer firmwares
    Add new radio parameters for new structures based on firmware revision
    wl1271: updated general parameters structure for newer firmwares
    wl1271: updated radio parameters structure for newer firmwares
    mwl8k: fix up AP vs. STA firmware image receive descriptor handling
    8687 only are actually used for all STA firmware images, whereas the
    AP firmware image is in use.
    unconditionally if the firmware image loaded reported the STA ready
    firmware.
    mwl8k: do rx/tx ring initialisation after loading firmware
    Whether the firmware we have loaded is AP or STA firmware decides
    rx/tx ring initialisation to be after firmware loading.
    mwl8k: get rid of the struct mwl8k_firmware abstraction
    mwl8k: firmware command code cleanup
    Sort firmware commands by command code, get rid of the 802_11 substring
    firmware command names.
    wl1251: timeout one too soon in wl1251_boot_run_firmware()
    enic: minimize pkt filter updates to firmware
    In set_multicast(), only push pkt filter changes down to firmware if
    so it cannot load firmware.
    sfc: QT2025C: Work around PHY firmware initialisation bug
    The PHY's firmware very occasionally appears to lock up very early, but
      in executing request_firmware() (on Intel CPUs at least) which doesn't
    as release_firmware and kfree are NULL pointer friendly
    o Unified firmware image size can be < 1 MB
    o NX_NEED_AER device state added, to synchronize with firmware
      see no response from it. Force firmware reset, if some pci-func
    USB: emi62: fix crash when trying to load EMI 6|2 firmware
    While converting emi62 to use request_firmware(), the driver was also
    of the FPGA firmware because the code tries to access the addr field of
    IP: [<f80d248c>] emi62_load_firmware+0x33c/0x740 [emi62]
      drm/nv50: fix suspend/resume delays without firmware present
    While it's might be technically true that only MESH-enabled firmwares
    difficult. To fix it, a firmware change is needed but in most cases that's
    firmware sleep after the error.
    hardcoded in CONFIG_CMDLINE by the ones received from firmware.  Therefore,
    using firmware remains the only reliable method to transfer the
    is not defined, retains the existing semantics, and firmware command-line
    drm/nv50: fix suspend/resume delays without firmware present
    Previously, if there was no firmware available, the DRM would just
    A module option has been added to force the use of external firmware
    Until a way to automatically query the firmware about its audio
    For firmware higher than 1.21, the xfer buffer size can be changed
    firmware: only allow EDD on x86
    cleanly include the firmware Kconfig.
    drivers/firmware/dmi_scan.c: use %pUB to print UUIDs
    Blackfin: pull in firmware Kconfig
    When switching to request_firmware() to load the context programs,
    Wii video game console is used by the firmware running on the Starlet
    Broadway processor. When running under the 'mini' firmware this is
      firmware_class: make request_firmware_nowait more useful
    ring.  Without it, the firmware can assert and cause bnx2x to report
    drivers/staging/vt6656/firmware.c:804: warning: format '%ld' expects type 'long int', but argument 3 has type 'unsigned int'
    firmware_class: make request_firmware_nowait more useful
    Unfortunately, one cannot hold on to the struct firmware
    that request_firmware_nowait() hands off, which is needed
    free it (via release_firmware).
    This driver requires firmware files not available in this kernel tree,
    Add additional PHY uC status check in case PHY firmware is not running
    Change thinkpad-acpi to ask the firmware to resume with the radios in
    Note that it means we respect the firmware's oddities.  Should the
    firmware support (no control over state storage in NVRAM, for
    EC firmware, 1V) to TPACPI_BRGHT_Q_EC, but keep TPACPI_BRGHT_Q_ASK set
    resource to firmware via the rtas set-indicator call.  To add a resource, it
    is first obtained from firmware via the rtas set-indicator call and then a
    from firmware and the parsing of information returned from the
    netxen: fix firmware type check
    Unified firmware image may not contain MN type of firmware.
    Driver should fall back to NOMN firmware type instead
      During suspend/resume and firmware recovery, acquire rtnl_lock,
    The FINALIZE_JOIN firmware command only looks at the first couple of
    mwl8k: increase firmware loading timeouts
    main firmware image should be at least 5 ms or so.  We were doing an
    the msleep argument to 5 fixes firmware loading e.g. when HZ=1000.
    Some firmware images need more than 200ms to initialize.  Bump the
    Before issuing any firmware commands, we wait for the transmit rings
    mwl8k: allow more time for firmware commands to complete
    Some firmware commands can under some circumstances take more than 2
    Packets exchanged between the mwl8k driver and the firmware always
    field is passed to/from the firmware via the tx/rx descriptors.
    sized FX2 firmware.
    V4L/DVB (13496): pvrusb2: Support manual extraction of 16KB FX2 firmware
    identify and locate newer vendor supplied firmware.  This change makes
    the feature work for the newer larger firmware size.
    V4L/DVB (13495): pvrusb2: Support 16KB FX2 firmware
    New FX2 firmware from Hauppauge is no longer 8KB in size - it's 16KB.
    (because the CD shipped with the hardware only has the 16KB firmware).
    firmware, so that the encoder will send the exact amount of bytes we specify
    on the i2c bus can cause problems on devices that require firmware download or
    solution will ever present itself.  I think that part's firmware is
    V4L/DVB (13188): xc5000: return an error on tuning attempts if firmware not loaded
    Xc5000 tuning attempts shouldn't return zero in the case where the firmware
    V4L/DVB (13042): Add NEC protocol to firmware v1.2 handler
    Currently, dvb_usb_dib0700_ir_proto is supported only with firmwares
    older than 1.2. Adds support for it also with the newer firmware.
    When debugging the wifi firmware, we need to disable the wimax core to gain
    This update follows the firmware engineers recommendations.
    - Fix firmware crash after vport create with high target count
    - Fix error when trying to load driver with wrong firmware on FCoE HBA.
    FIP or non-FIP mode is fully automatic if the firmware
    The fnic driver needs to push the assigned FC_ID to firmware.
    be marked free.  This is how the array people tell me their firmwares
    validate firmware status flags prior to assigning values from the
    [SCSI] qla2xxx: Retrieve firmware's maximum number of supported FCFs.
    [SCSI] qla2xxx: Reread firmware versions information after an ISP abort.
    Instead, query the information after the check for firmware ready
    [SCSI] qla2xxx: Add firmware-dump kobject uevent notification.
    bnx2: Read firmware version from VPD.
    Tg3's firmware is no longer loaded from tg3_init_one().  Remove the
    error path that releases the firmware back to the system.
    When a firmware command fails, only the failure codes are printed.
    Need to send a HALT command to the firmware to fully shutdown the bnx2x
    Handle few corner cases in firmware hang detection and recovery:
      firmware is done.
    o During probe, if start_firmware fails, restore reference
    o Don't increment refernce count, if start_firmware fails
      during firmware reset.
    firmware like the CP.  This firmware must be installed and
    accessble to the firmware loader for interrupts to function.
    compatible property of of_serial to let a firmware choose that model instead
    - MAC, PHY and board peripherals are managed by firmware
    sfc: Add firmware protocol definitions (MCDI)
    In new NICs flash is managed by firmware and we will use high-level
    New NICs have firmware managing the PHY, and we will discover the PHY
    Reading standard registers on the QT2025C before its firmware has
    Main users would be fullmac devices which firmwares are capable of
    we were sending the GENERAL_PARMS command to the firmware.  Now that that
    compatible property of of_serial to let a firmware choose that model instead
    hash on Siena will involve a firmware request.  So process them
    NICs firmware takes care of the XAUI link.  Also, an XMAC interrupt
    IR Blaster based on MSP430 (firmware although is different
    the EC firmware ID DMI field to never match.
    that he is using outdated firmware and should upgrade.
    Only some PHYs have firmware support for a LED blink mode, so we
    It won't recover from errors (that are bugs in the firmware or driver),
    be2net: Patch to flash redboot section while firmware update.
    Please apply patch to update redboot section while firmware update. Code
    autonegotiation if the firmware is blocking it (e.g. when an IDE-R session
    1. define macro for handling firmware api version
    firmware in some way, like wl1271 or like iwlwifi
    microseconds, which gives enough time for the firmware to receive probe
    response or beacon. Also handled the regain event from firmware once it
    wl1251: Set the correct dtim period to the firmware
    This patch sets the dtim period obtained from the mac80211 to firmware.
    The dtim period obtained from the mac80211 is not set to the firmware.
    to the firmware.
    wl1251: allocate space for firmware with vmalloc()
    Earlier firmware was stored to a memory area allocated with kmalloc()
    but finding a a contiguous area of memory long enough for the firmware is
    very difficult in certain cases. better to allocate the memory for firmware
      - It works around a firmware race condition if ELP is entered too fast
    use it, but is present in all released firmwares afaict.
    ... to avoid useless trial to load firmware on systems with
     [<ffffffffa0441acf>] p54u_upload_firmware_3887+0x2f/0x490 [p54usb]
     [<ffffffffa049c667>] ? p54_parse_firmware+0x427/0x450 [p54common]
    if it can't find it's firmware, it broke ipw2100 basically anytime you
    Value returned by firmware is the actual value, not a log.
    powerpc/qe: Add qe_upload_firmware() stub for non-QE builds
    constant, otherwise qe_upload_firmware() fails at sanity checking.
    management fifo during suspend.  This is now done by the firmware.
    the firmware, but a lot of others on the host.
      platform microcode: firmware: requesting amd-ucode/microcode_amd.bin
      Revert "ipw2200: fix oops on missing firmware"
    V4L/DVB (13079): dib0700: fixed xc2028 firmware loading kernel oops
    Fixing kernel oops when driver attemps to load xc2028 firmware.
    da03945140a035a2962f7f93e359085596f20499 ("qlge: Fix firmware mailbox
    If firmware doesn't grant over native hotplug control through ACPI
    Add support for the 88w8366 firmware receive descriptor format,
    mwl8k: implement AP firmware EDCA parameter configuration
    mwl8k: add AP firmware (mbss) handling to mwl8k_set_mac_addr()
    mwl8k: add AP firmware handling to ->start()
    mwl8k: add AP firmware handling to ->configure_filter()
    mwl8k: implement AP firmware antenna configuration
    mwl8k: add the commands used for AP firmware initialisation
    SET_HW_SPEC command, for initialising AP firmware.
    As different chip/firmware combinations support different
    As the receive descriptor format is determined by the firmware running
    descriptor formats vary a bit between different firmware releases,
    chip and firmware we're running on.
    mwl8k: handle loading AP firmware images
    AP and STA firmware images provide a different signature in the
    mwl8k: spell out the names of firmware images in the pci driver data
    To allow use of a more flexible firmware file naming scheme.
    Revert "ipw2200: fix oops on missing firmware"
    [  917.190002] last sysfs file: /sys/devices/pci0000:00/0000:00:1e.0/0000:02:0d.0/firmware/0000:02:0d.0/loading
    mwl8k: use cond_resched() when loading firmware blocks
    Since each firmware block takes on the order of several hundred usec
    the firmware loading process take a lot more time than just doing
    tasks a chance to run while the firmware is being loaded.
    mwl8k: fix GET_STAT firmware command packet layout
    registers when respecting Firmware First mode.  Platform firmware is
    break that firmware's behavior.
    For non hotplug PCI devices, the system firmware usually configures
    CLS correctly.  For pccard devices system firmware can't do it and
    firmware configures the correct value during boot.
    This patch makes pci_init() determine CLS by looking at what firmware
    qlge: Add firmware/driver sub-command support.
      ipw2200: fix oops on missing firmware
    Responses to firmware commands are read in by the command transmission
    Correct the endianness-handling of the firmware command result status handling
    firmware reports an error in execution. Previously this error would go
    iwlwifi: provide firmware version
    By setting the firmware version in wiphy it is possible to obtain this
                firmware-version: 228.57.2.23
                firmware-version: 15.28.2.8
    Some firmware may pass well over 256 bytes these days.
    ipw2200: fix oops on missing firmware
    [SCSI] stex: add support for reset request from firmware
    Add support for reset request from firmware for controllers
    firmware feature set. Add support for this case.
    [SCSI] megaraid_sas: use the firmware boot timeout when waiting for commands
    use the constant MEGASAS_RESET_WAIT_TIME when waiting for firmware
    Add a lock to the skinny firmware initialisation sequence to prevent
    [SCSI] mpt2sas: Freeze the sdev IO queue when firmware sends internal dev reset
    buffers for debugging firmware related issues.
    will enable support in the driver for debugging firmware timeout related
    controller firmware, and panic driver. The end user probably would want to
    driver, the devices there were not added, were never handshaked to firmware
      qlge: Fix firmware mailbox command timeout.
    qlge: Fix firmware mailbox command timeout.
    firmware events while waiting for it's command completion status.
    Devices with loadable firmware must have their firmware reloaded
    called. Work around this issue by only calling request_firmware()
    for a device's first firmware load, and cache a copy of the pointer
    to the firmware blob for that device, so that we may reload firmware
    netxen: module firmware hints
    Add MODULE_FIRMWARE hints for various firmware file types,
    netxen: support for new firmware file format
    Add support for extracting firmware from a unified
    file format which embeds firmware images for all chip
    the recent firmware update:
    bnx2: Update firmware to 5.0.0.j3.
    For 6x00 and 6x50 series devices, APIv4 is the lowest firmware version
    the firmware wants.
    convert the firmware value into WEXT values anyway.
    iwmc3200wifi: Set wiphy firmware version
    Our wiphy firmware version is a combination of the UMAC and LMAC ones.
    We need to be in sync with the latest firmware API.
    The latest firmware adds a ht_rates and a chain_energy field. The latter is
    the wl1271 firmware is done in little-endian by using cpu_to_le* and
    Also, all the struct definitions for data exchanged with the firmware has
    Add support to enable beacon early termination in the firmware. Early
    done in all cases, and it resulted in a kernel warning if firmware
    wl1271: Add structure for firmware configuration values
    In order to make the firmware configuration more manageable, collect
    If the 38.4MHz reference clock is configured to the firmware, it crashes
    firmware to boot, and everything appears to work.
    wl1271: Update boot time configuration for the new firmware
    With the change to the new firmware, there was a change to firmware memory
    The new firmware has fixed a firmware crash problem related to ELP entry.
    Remove RX workaround which is not needed with newer firmware revisions. This
    wl1271: Update memory mapping for firmware revision 6.1.0.0.241
    Update the memory regions and memory mapping to support firmware revision
    We need to listen to HW_AVAILABLE interrupts when using ELP with firmware
    because the firmware cleans some things up.  So we check if we're already
    firmware when we are disassociated.
    resetting device after firmware errors), there is no need for apm_ops.reset()
    apm_ops.init() as soon as it may be needed (e.g. quickly for firmware errors),
    wl1271: Mask unneeded events from firmware to conserve power
    Currently several events are enabled from the firmware for which there
    wl1271: Use vmalloc to allocate memory for firmware
    Use vmalloc to allocate memory for the firmware image, and use a smaller
    linear buffer for the actual transfer of the firmware to the chipset.
    Clear the probe-request template on the firmware after scan. Unless
    cleared, the firmware can independently send probe requests to the AP
    Configure the rate policies to the firmware based on the rates given by
     - Avoids known firmware issues with going to ELP too fast after an
    firmware for TX packets.
    parse board config structure directly (maintained by firmware).
    netxen: fix tx timeout handling on firmware hang
    the firmware watchdog task can catch need_reset request
    for existing users with sane firmware.
    Top driver is responsible for device initialization and firmware download.
    as well as bluetooth and GPS coms. (Wifi and WiMax provide their own firmware)
    In addition top driver is used to retrieve firmware logs
    Currently __i2400m_dev_start was forcing, after uploading firmware and
    value for the size field since only one set of firmware chunks is downloaded
    driver has finalized initializing its device's firmware, a
    before we do any acces to the device, even for doing firmware upload.
    basic infrastructure needed to load firmware onto the device.
    wimax/i2400m: don't overwrite error codes when failing to load firmware
    error code with -ENOENT; when a firmware fails to load, we want to
    This requires previously applied commits to cache the firmware image
    wimax/i2400m: cache firmware on system suspend
    In preparation for a reset_resume implementation, have the firmware
    can't load firmware until resume is completed or bad deadlocks
       + the list of firmware names to try
    wimax/i2400m: on firmware upload, select BCF header that matches device's request
    they boot. This barker is used to select, in the firmware file image,
    We modify the i2400m_fw_dnload() firmware loading path by adding a
    wimax/i2400m: support extended firmware format
    The SBCF firmware format has been extended to support extra headers
    firmware code with more than one certificate. This eases up
    wimax/i2400m: verify firmware format version is known
    wimax/i2400m: retry loading firmware files in sequence
    The i2400m firmware loader is given a list of firmware files to try to
    cases, where we might want to try to load a firmware and if it fails
    by the device to indicate the types of firmware it would take (signed
    to match a header in the firmware image before we can load it.
    the information needed to decide how to upload the firmware and which
    types of firmware to use. The database can be populated from module
    wimax/i2400m: decide properly if using signed vs non-signed firmware loading
    The i2400m based devices can boot two main types of firmware images:
    Currently the code is making the decission on what type of firmware
    wimax/i2400m: don't write to memory allocated by request_firmware()
    In kernel 2.6.31, the firmware requested to ram could be marked
    the firmware when things go wrong. The driver currently has a constant
    netxen: sysfs control for auto firmware recovery
    and firmware initialization.
    be entered with non-working link status if the system firmware didn't
    disabled due to hardware of software/firmware problems (including
    It turns out we have a duplicate firmware feature for hcall-bulk and the
    (mostly for firmware init and diagnostic tools).
    We had assumed that SAL firmware would return an error if it didn't
    acenic: Pass up error code from ace_load_firmware()
    If ace_load_firmware() fails, ace_init() cleans up but still returns
    qlge: Get rid of firmware handler debug code.
    qlge: Store firmware revision as early as possible.
    qlge: Add handler for DCBX firmware event.
      [SCSI] mpt2sas: Timeout occurred within the HANDSHAKE logic while waiting on firmware to ACK.
    This was accidentally omitted from one of the previous patches for firmware event
    handling.  The handler needs to the enable firmware irq mask when it's done
    at76c50x-usb: set firmware and hardware version in wiphy
    Set firmware and hardware version in wiphy so that user space can access
    cfg80211: add firmware and hardware version to wiphy
    It's useful to provide firmware and hardware version to user space and have a
    Add fields for firmware and hardware version to struct wiphy.
    with firmware versions 10.38.1.p25, 9.70.4.p0 respectively on 32-bit and 64-bit
    iwlwifi: add module firmware info for 1000 series
    The module firmware information of 1000 series is missing from iwlagn.
    After updating firmware stored in flash, users may wish to reset the
    relevant hardware and start the new firmware immediately.  This should
    Add rtnl to firmware worker threads that also use the HW semaphore register.
    qlge: Fix queueing of firmware handler in ISR.
    Check that we are not already polling firmware events before we queue the
    firmware event worker, then disable firmware interrupts.
    vxge: Check if FCS stripping is disabled by the firmware.
    - Added a function to check if FCS stripping is disabled by the firmware, if
    - By default FCS stripping is disabled by the firmware. With this assumption
     - This allowed the firmware to perform a generic DMA write to host memory.
    [SCSI] mpt2sas: Timeout occurred within the HANDSHAKE logic while waiting on firmware to ACK.
    timeout occurred within the HANDSHAKE logic while waiting on firmware to
    root caused to a logic timeout in the firmware code.  The proposed solution
    ALSA: sscape: convert to firmware loader framework
    The conversion solves the problem that firmware size was set to 64KB
    while non PnP cards have 128KB firmware files.
    An additional firmware initialization code has been moved from the OSS
    We can fix this by querying the firmware at load time and calling
    to it with the INIT_HCA firmware command.
    In some cases firmware can give us bad value of index in transmit
    so the firmware upload fails.
    In the worst case (with broken firmware) the sleep loop will take 1 second.
    In the common case (working firmware), it will only take a few milliseconds.
    But for using other purpose, /proc/kcore, this may includes some firmware
    which only have closed-source firmware available. If we had _open_
    firmware, bugs like this would be easy to fix.
    netxen: fix firmware init after resume
    After successful firmware init, return instead of
    firmware reset rehaul.
    always lead to firmware reset instead of pci function reset.
    for the input queue depending on the firmware. That can cause a connection
      V4L/DVB (13015): kmalloc failure ignored in m920x_firmware_download()
    Fixed up trivial conflicts in firmware/Makefile due to network driver
    (cxgb3) and drm (mga/r128/radeon) firmware being listed next to each
    1. Handle better the second-gen firmware, which has no HKEY mask
       b) use DMI quirks to detect the second-gen firmware;
          and available even on mask-less second-gen firmware;
       their reception from the firmware.  ALSA mixer and brightness
    4. Fully reset firmware interface on resume (restore hotkey
      drivers/scsi/ibmvscsi/ibmvscsi.c: asm/firmware.h is included more than once.
    Don't fetch firmware address and recompute channel control on each
    other functions exposed by its ACPI firmware, but for now only
    the second gen of HKEY firmware supported (the first gen didn't report
    Also, restore bits in the firmware mask after hotkey_source_mask is
    thinkpad-acpi: firmware version checks
    Use the quirk infrastructure to warn of outdated firmware and also of
    firmware versions that are known to cause problems.
    X40 (firmware 1V) and T41 (firmware 1R) have been confirmed to work
    For now, whitelist just these two firmware types.  It is best to have
    at least one more firmware type confirmed for Radeon 9xxx and Intel
    V4L/DVB (13015): kmalloc failure ignored in m920x_firmware_download()
    V4L/DVB (12938): SAA7164: Increase the firmware command timeout to avoid firmware errors.
    The firmware typically responds in < 50ms and, via the interrupts and
    V4L/DVB (12933): SAA7164: Fix IRQ related system hang when firmware is not found.
    V4L/DVB (12928): SAA7164: Increase firmware load tolerance
    It's timing out and aborting firmware load too quickly on some
    V4L/DVB (12752): get_dvb_firmware: add af9015 firmware
    Add af9015 firmware to get_dvb_firmware script.
    embedded platform which was fixed via firmware and now bko#14124
      PCI hotplug: clean up acpi_get_hp_params_from_firmware() interface
    Staging: rtl8192e: fix timeouts on firmware download
    Staging: rtl8192e: coding style cleanups on r819xE_firmware.c
    r819xE_firmware.c file.
    Staging: rtl8192e: remove another firmware header file not being used
    The built-in firmware images are never used, the firmware files
    are downloaded to the device through the standard firmware interface.
    This removes the firmware header file as it's not ever used.
    Staging: rtl8192e: remove firmware header file not being used
    This removes the r819xP firmware file that is never used.
    Staging: rt2870: remove old firmware
      rt3070 driver's firmware should be now also used by rt2870 driver
    Staging: sep: tidy firmware load
    chunks of the firmware loading ioctl (ie almost all of it)
    This driver no longer requires to have the firmware compiled in
    Furthermore, we now have the right to distribute the firmware
    Staging: wlan-ng: Convert firmware loading to load binary ihex format
    Convert prism2_usb firmware loading to load firmware in pre-compiled
    - The firmware is now expected to be in the same 'ihex' (.fw) format
    harmless because we won't change anything unless we discover firmware
    PCI hotplug: clean up acpi_get_hp_params_from_firmware() interface
    This patch makes acpi_get_hp_params_from_firmware() take a
    type of fiber.  This causes some strange fallout when firmware verification
    so the firmware upload fails.
    In the worst case (with broken firmware) the sleep loop will take 1 second.
    In the common case (working firmware), it will only take a few milliseconds.
      netxen: fix file firmware leak
      netxen: change firmware write size
    V4L/DVB (12613): cx25840: fix determining the firmware name
    Depending on the model there are three different firmwares to choose from.
    Unfortunately if a cx23885 is loaded first, then the global firmware name
    is overwritten with that firmware and if ivtv is loaded next, then it
    tries to load the wrong firmware. In addition, the original approach would
    also overwrite any firmware that the user specified explicitly.
    The generic firmware loading routine has now changed to preserve
    New code is turning ON firmware event from another special work called
    the firmware level.
    In fabric-login based on iop BIT_8 firmware notifies presence of
    Redesign tx timeout handling in line with new firmware
      context before requesting firmware reset.
    o For NX2031, since firmware heartbit is not supported
      directly request firmware reset.
    netxen: fix file firmware leak
    Release file firmware when no firmware reset is required.
    o Restrict memory accesss to 64 bit, currently only firmware
    netxen: change firmware write size
    Use 8 byte strides for firmware download into card
    (cciss: fix regression firmware not displayed in procfs)
    status.  This can be useful for when a platform firmware clobbers some
    in firmware, but only queue frames on one queue.
    Change that and also tell firmware about disabled QoS, so it
    for all users with the open, or one-stage firmware.
    request_firmware() & ethtool infrastructure. The trigger to flash the device
    will come from ethtool utility. The driver will invoke request_firmware()
    to be available in /lib/firmware/
    netxen: refactor firmware info code
    o Combine netxen_get_firmware_info(), netxen_check_options()
      so that they are updated every time firmware is reset.
    o Set dma mask everytime firmware is reset.
    netxen: fix ip addr hashing after firmware reset
    Reprogram local IP addresses after firmware is reset
    netxen: firmware hang detection
    Implement state machine to detect firmware hung state
    and recover. Since firmware will be shared by all PCI
    is required for initializing firmware.
      that checks firmware heartbit every 5 sec and detaches
      itself if firmware is dead. Last detaching function
      reloads firmware. Other functions wait for firmware
    Heartbit is not supported by NX2031 firmware.
    netxen: handle firmware load errors
    Unwind allocations and release file firmware when
    when firmware load fails.
      ipw2200: firmware DMA loading rework
    firmware commands during host reset.  Also, the setting of the shost state to
    Following host reset its possible that the controller firmware could
    3. Continue handshake with the firmware.
    Nic firmware can return zero for port MTU, so check for non-zero value
    enic: changes to driver/firmware interface
    Add driver/firmware interface for setting up RSS secret key and indirection
    Some driver -> nic firmware calls weren't guarded with a spinlock, exposing
    Nic firmware can place resources (queues, intrs, etc) on multiple BARs, so
    Alloc 12k skbuffs so that firmware can aggregate more
    load the firmware, then waiting for completion.
    net/ethtool: Add support for the ethtool feature to flash firmware image from a specified file.
    This patch adds support to flash a firmware image to a device using ethtool.
    The driver gets the filename of the firmware image and flashes the image
    using the request firmware path.
    A misconfiguration by the firmware of the U4 PCIe bridge on PowerMac G5
    which can get it out of sync with the firmware, thus breaking offb.
    at boot time. It also fixes a bug where the firmware provides us with
    the newest firmwares, and keeping a backward compatibility fallback path for
    older firmwares, where the configuration and result bitmaps were identical.
    it could be caused by 2 reasons: the firmware is roaming or the
    radeon: Use request_firmware()
    For Radeon 100- to 500-series, firmware blobs look like:
    For Radeon 600-series, there are two separate firmware blobs:
    The device firmware uses the MDIO bus during early setup.  If the driver
    modifies the MDIO bus configuration while it is in use by the firmware,
    after the firmware posts its magic signature, signifying initialization
    bnx2: Update firmware to 5.0.0.j3.
    firmware events, and errors.
    See http://simplefirmware.org for more information on SFI.
    mwl8k: missing endian conversion when printing firmware command result
    The CF8305 is a very old silicon running firmware version 3.0 . This card also
    Also, this card uses only one-stage firmware which is loaded the same way as
    helper firmware. The second-stage firmware isn't loaded on this card and doesn't
    During normal operation - stations are awake - the firmware refused
    the firmware to ignore the ps canceling for certain frames.
    ipw2200: firmware DMA loading rework
    for ipw2200 firmware loading in kernel 2.6.30. High order allocation is
    maximum firmware size support remains the same (64*8K).
    firmware).  The non-HES code is pretty similiar to the 32-bit FSL Book-E
    drm/r128: Use request_firmware() to load CCE microcode
    drm/mga: Use request_firmware() to load microcode
    and any access to standard MDIO registers before the PHY firmware has
    addresses are unknown to firmware. So packets take a slow
    path (lower priority) in firmware reducing performance.
    Driver needs to enable this "mac learning" mode in firmware.
    Both come from the hardware (influenced by firmware
    netxen: fix firmware reset logic
    If netxen_need_fw_reset() return 0 [ implies firmware is up
    Add ethtool -K knob to control LRO in firmware.
    queue mode. This ensures that the firmware is reinitialized with single
    - Fix for firmware dump failure
    Ability was to be managed in the adapter via firmware via flash settings.
    However, not all firmware images supported it. Uniformly support it
    Bluetooth: Fix complicated assignment of firmware for Marvell devices
    firmware names are assigned to specific device ids. Fix that by doing a
    The helper/firmware images of SD8688 can be downloaded from this tree:
    git://git.infradead.org/users/dwmw2/linux-firmware.git
    mwl8k: fix firmware command serialisation
    held over the entire firmware command submission.  And since waiting
    To fix mwl8k firmware command serialisation properly, we have the
    This leads to an implementation of a "firmware lock" as a mutex that
    mwl8k: don't touch 'command done' interrupt during firmware load
    Since firmware load commands don't generate 'command done' interrupts
    unnecessarily slows down the firmware load process.  Removing this bit
    of code speeds up loading a typical firmware image from 840 msec to
    mwl8k: sort firmware command list by opcode, and trim unused commands
    wl1251: halt the embedded CPU before loading firmware
    the interface back up, it will still be running and the firmware
    the firmware, enabling a second call to wl1251_boot() to succeed
    b43: Add LP-PHY firmware loading support
    Add support for loading LP-PHY firmware to b43_try_request_fw.
    which only have closed-source firmware available. If we had _open_
    firmware, bugs like this would be easy to fix.
    drivers/net/wireless/wl12xx/wl1271_boot.c: In function 'wl1271_boot_upload_firmware_chunk':
    [  566.430709] [<c0077f98>] (enable_irq+0x0/0x64) from [<bf0dfa78>] (wl12xx_boot_run_firmware+0xfc/0x170 [wl12xx])
    [  566.450851] [<bf0df97c>] (wl12xx_boot_run_firmware+0x0/0x170 [wl12xx]) from [<bf0e05f0>] (wl1251_boot+0xd4/0x108 [wl12xx])
    when requesting firmware.
    This is a boolean value set based on firmware capabilities, so move the
    Subsequently an attempt is made to load the firmware from the resulting
    This ensures right behavior across firmware reset.
    Fix oops ocurring at hibernation time.  This oops was due to the firmware fault
    are used to implement hardware raid.  Unfortunately some firmware
    ar9170usb: fix spurious firmware related message
    the former causes firmware commands to be issued which will time out
    Add support to handle aggregate packets from firmware.
    Local TCP flows are automatically identified by firmware
    when firmware advertises full 64-bit support.
    that firmware freezes in state where it does not respond to any RNDIS commands
    stated in the commit log. This patch fixes firmware issues picked
    Since Johannes indicates iwlwifi firmware cannot be changed to
      ACPI: root-only read protection on /sys/firmware/acpi/tables/*
    to update it to 64-bit (if firmware indicates support). Old
    ACPI: root-only read protection on /sys/firmware/acpi/tables/*
    Commit "iwlwifi: Handle new firmware file with ucode build number
      driver core: firmware_class:fix memory leak of page pointers array
    Some PowerMac firmwares set up a tiling surface at the beginning of VRAM
    driver core: firmware_class:fix memory leak of page pointers array
    firmware_data_write(), and should be freed in release function of firmware
    Enable vlan tx acceleration for NX3031 if firmware advertises
    netxen: fix skb alloc size for legacy firmware
    Request 1532 bytes skb data size for NX3031. NX2031 firmware
    netxen: clean up firmware version checks
    NX2031 firmware version will never be > 4.0.0, so replace
    in the firmware, so that these also reflect in "ethool -c".
    configures IP address in the firmware.
    netxen: refresh firmware info after reset
    o move dma mask update to netxen_start_firmware() so that
      if firmware changes across suspend (e.g. file -> flash)
    o re-read firmware capabilities after firmware reset.
    * frmware -> firmware
    iwlwifi: update 1000 series API version to match firmware
    firmware file now contains build number so API needs to be updated.
    iwlwifi: Handle new firmware file with ucode build number in header
    p54: fix beaconing related firmware crash
    This patch fixes a firmware crash which can be provoked by changing
    Not all AP are compatible with the driver(and firmware) yet, so YMMV.
    to be available for the public, lots of firmware modification and
    libertas: Fix problem with broken V4 firmware on CF8381
      more resources in the firmware.
    o Delete tx context after rx context, some firmware control
      Firmware: firmware_class, fix lock imbalance
    Firmware: firmware_class, fix lock imbalance
    Add omitted unlock in firmware_data_read.
    p54: Move firmware code
    Copy the firmware i/o code from p54common.c into a new file fwio.c
    Tested with V9 firmware by ensuring that IEEE PS is disabled when the
    Tested on a GSPI device with V9 firmware by confirming that we can
    V2: fix typo.  Also, this has been tested on GSPI and SDIO with V9 firmware.
    orinoco: make firmware download less verbose
    The firmware download code has been in a couple of releases, without any
    orinoco: firmware helpers should use dev_err and friends
    load the firmware before registerring with netdev.
    load the firmware before registerring with netdev.
    orinoco: Move firmware capability determination into hw.c
    the firmware before registerring with netdev.
    ELP mode is working now, let's enable it so that the firmware can sleep
    wl12xx: moved firmware version reading routine to chip-specific functions
    With WL1271, the firmware version can only be read right after booting the
    firmware version initially has been moved to a common place where it can be
    Power save support depends on the firmware capabilities rather than the
    card's hardware interface.  Use the FW_CAPINFO_PS bit in the firmware
    Also, the 'firmware_version' field is changed to '1' to allow the user
    cxgb3: use request_firmware() for the EDC registers setup
    use request_firmware() to load the phy's EDC programmation
    The f_dev in _request_firmware() is allocated via the fw_setup_device()
    and fw_register_device() calls and its class set to firmware_class (the
    Because of that, the _request_firmware() function on its -ENOENT error
    function.  For other functions, the QUERY_FW firmware command will
      V4L/DVB (12206): get_dvb_firmware: Correct errors in MPC718 firmware extraction logic
      V4L/DVB (12181): get_dvb_firmware: Add Yuan MPC718 MT352 DVB-T "firmware" extraction
    is done with a firmware upgrade. The fixes are -
    1. Ensure that the correct firmware version is used.
    V4L/DVB (12206): get_dvb_firmware: Correct errors in MPC718 firmware extraction logic
    The extraction routine for the MPC718 "firmware" had 2 bugs in it, where one
    && instead of || for deciding if the firmware length is reasonable.
    a "demod_init" function, a "firmware" must be obtained and loaded to get
    V4L/DVB (12181): get_dvb_firmware: Add Yuan MPC718 MT352 DVB-T "firmware" extraction
    DTV7 firmware from the xc3028-v27.fw firmware image.
    certain firmware events.
    firmware might still have some commands in flight, which
    but sadly there's a firmware issue causing the firmware
    So the firmware will send us commands which we haven't
    netxen: avoid frequent firmware reset
    Restrict firmware reset to following cases -
    o firmware is dead.
    o previous attempt to init firmware had failed.
    o we have got newer file firmware.
    Correct firmware encoding is 8 bit major, 8 bit minor and
    Also fix a infinite loop when cut-thru file firmware is
      ide: add QUANTUM FIREBALLct20 30 with firmware APL.090 to ivb_list[]
      netxen: fix firmware init handshake
    Added the patch module option to apply a "patch" as a firmware to
    Atom - and it might also be firmware dependent.
    ide: add QUANTUM FIREBALLct20 30 with firmware APL.090 to ivb_list[]
    Some PowerMac firmwares set up a tiling surface at the beginning of VRAM
    action of the firmware, this produces a glitch where the LED goes from on
    state by the firmware or hardware before Linux boots, and it is desired to
    netxen: fix firmware init handshake
    Make sure all functions run firmware init handshake.
    If PCI function 0 fails to initialize firmware, mark the
    bail out quickly instead of waiting 30s for firmware
    must happen *after* the chip's firmware is loaded, not before.  With
    Host software could issue interrupts to ME firmware, using H_IG bit. While
    Staging: wlan-ng: Move firmware loading into driver
    Move prism2 firmware loading from userspace into driver, using linux
    request_firmware(). Firmware is now loaded (if available) on device
    Staging: comedi: convert usbdux* to use firmware_request
    The firmware is now in the linux-firmware tree, so we can move these two
    drivers to use the proper request_firmware infrastructure.
    Staging: comedi: jr3_pci: Use struct device from pci_dev for firmware loading.
      netxen: fix detection of cut-thru firmware mode
    Perl is used on the kernel Makefile to generate documentation, firmwares
    firmware control commands didn't care to pause tx queue.
    netxen: fix detection of cut-thru firmware mode
    interface, as the firmware doesn't care if an attempt is made to
    Add a quirklist engine suitable for matching ThinkPad firmware,
    Extend the thinkpad model and firmware identification data with the
    release serial number for the BIOS and firmware (when available), as
    firmware versioning and model:
      AA = firmware model, see above
      V4L/DVB (11821): Siano: smscore - fix isdb-t firmware name
      fbdev: add support for handoff from firmware to hw framebuffers
    fbdev: add support for handoff from firmware to hw framebuffers
    info flag to denote a firmware fbdev, and adds a new aperture base/size
    there is a conflict with a firmware driver, and if there is the firmware
    firmware_map: fix hang with x86/32bit
    | the following code in drivers/firmware/memmap.c, the resource_size_t is 32bit
    |static int firmware_map_add_entry(resource_size_t start, resource_size_t end,
    |                  struct firmware_map_entry *entry)
    V4L/DVB (11821): Siano: smscore - fix isdb-t firmware name
    V4L/DVB (11817): Siano: smscards - fix wrong firmware assignment
    Remove wrong firmware assignments for Nova, Stellar
    Modules linked in: af9013 dvb_usb_af9015(+) dvb_usb dvb_core firmware_class
    V4L/DVB (11962): dvb: Fix broken link in get_dvb_firmware for nxt2004 (A180)
    Due to a reorganisation of AVermedia's websites, get_dvb_firmware
    V4L/DVB (11917): Fix firmware load for DVB-T @ 6MHz bandwidth for xc3028/xc3028L
    This patch fixes the firmware load for such countries, where the
    required firmware is the QAM one.
    QAM firmware doesn't work for cable. So, this patch also removes support
    damage the firmware on recent units.  As he seems to not want this hardware supported in Linux, and I do not know how to detect the difference between
    during firmware load and powering down the chip, I am taking out the reset.
    V4L/DVB (11802): xc5000: switch to new xc5000 firmware 1.6.114 with redistribution rights
    firmware, which eliminates the need for users to manually extract the blob
    V4L/DVB (11799): xc5000: don't load firmware until a tuning request is made
    Defer loading of the xc5000 firmware until it is actually needed.  This helps
    the HVR-950Q).  Also, the firmware load isn't really useful since we
    immediately put the device to sleep afterward, which means a firmware reload
    case he doesn't want to incur the cost of reloading the firmware when starting
    V4L/DVB (11797): xc5000: cleanup firmware loading messages
    firmware upload.  This is more important for boards like the HVR-950q that
    Starting in firmware version 1.1.44, Xceive recommends using the FINERFREQ for
    Expose the firmware build number along with the other version info
    for 10ms.  Reduce the value accordingly, which speeds up the firmware load
    V4L/DVB (11793): xc5000: Properly support power down for newer firmware
    Xceive got rid of the XREG_POWER_DOWN register in later firmware revisions.
    to sleep is to pull the reset pin (but don't reload the firmware).
    V4L/DVB (11792): xc5000: switch to new version of Xceive firmware
    This switches to a new version of the xc5000 firmware, extracted from the
    Also, had to make sure we were making sure the firmware was loaded in the
    V4L/DVB (11723): Link firmware to physical device
    device when loading firmwares. This will prevent the sysfs name
    V4L/DVB (11623): cx18: Verify cx18-av-core digitizer firmware loads correctly
    Add code to verify the cx18-av-core digitizer firmware loads correctly.  The
    verification function reads back and compares the firmware bytes loaded
    back to the firmware for use.  Also reduced the memory required for scheduling
    V4L/DVB (11617): cx18: Set up to wait for a one-shot response before sending a firmware cmd
    When sending an outgoing firmware command, prepare to wait before we raise the
    V4L/DVB (11616): cx18: Add a work queue for deferring empty buffer handoffs to the firmware
    needed.  This prevents any sleeps, caused by notifying the firmware of new
    V4L/DVB (11488): get_dvb_firmware: trivial url change
    firmware: remove broken example files
    The firmware example files are beyond broken, and will not work, and
    firmware: FIRMWARE_NAME_MAX removal
    As we're allocating the firmware name dynamically, we no longer need this
    firmware: wireless/libertas: prepare for FIRMWARE_NAME_MAX removal
    firmware name length restriction.
    firmware: pcmcia/ds: prepare for FIRMWARE_NAME_MAX removal
    firmware name length restriction.
    dont need to check for the firmware name length anymore.
    firmware: dvb/dvb-usb: prepare for FIRMWARE_NAME_MAX removal
    firmware name length restriction.
    This patch changes the dvb_usb_device_properties firmware field accordingly.
    firmware: tuners/xc2028: prepare for FIRMWARE_NAME_MAX removal
    firmware name length restriction.
    firmware: atm/ueagle-atm: prepare for FIRMWARE_NAME_MAX removal
    firmware name length restriction.
    firmware: allocate firmware id dynamically
    The firmware loader has a statically allocated 30 bytes long string for
    the firmware id (a.k.a. the firmware file name). There is no reason why
    firmware names lengths.
    driver core: fix documentation of request_firmware_nowait
    request_firmware_nowait declares it can be called in non-sleep contexts,
    but kthead_run called by request_firmware_nowait may sleep. So fix its
    driver core: firmware_class: replace kfree(dev) with put_device(dev)
    The card firmware does not set the Command Download Ready interrupt bit
    This patch allows the Adaptec firmware to pass on its values for Packetize and
    - Fix SLI4 firmware version not being saved or displayed correctly
    Merge git://git.infradead.org/~dwmw2/firmware-2.6
    * git://git.infradead.org/~dwmw2/firmware-2.6:
      firmware: speed up request_firmware(), v3
    generation bits are left in whatever state that firmware/BIOS set them to.
    tty:cyclades, load firmware even on Ze
    Ze needs firmware to be loaded as well as Zo. Move cyz_load_fw one
    When a device reset happens during firmware load [in
    Thus, on the retry path, pass the I2400M_MAC_REINIT to the firmware
    (firmware load) mode. This was causing issues on some hardware.
    being ready to accept firmware, the driver was currently trying to
    The code that sets up the i2400m (firmware load and general driver
    Add automagic feature flags, so the firmware can tell the driver
    ar9170: interpret firmware debug commands
    This adds new commands that the original firmware will not send
    but we can use them to debug firmware.
    qlge: Add support for retrieving firmware version.
      ALSA: hdsp - Add a comment about external firmwares for hdsp
      ALSA: hdsp: allow firmware loading from inside the kernel
    SAS topology scan is restructured. HBA firmware is generating more
    Now Firmware events are handled by firmware event queue.
    firmware, porting them to be single threaded using the generic MPT_MGMT
    mpt_clear_taskmgmt_in_progress_flag), as the fusion firmware only handles
    Rewrite of all internal generated functions that issue commands to firmware,
    [SCSI] qla2xxx: Export additional firmware-states for application support.
    As firmware will ultimately terminate (stop) and port
    [SCSI] qla2xxx: Fallback to 'golden-firmware' operation on supported ISPs.
    In case the onboard firmware is unable to be read or loaded for
    operation, attempt to fallback to a limited-operational firmware
    to reflash and correct a board with proper operational firmware.
    qlge: Fix timeout on firmware mailbox commands.
    Some firmware mailbox commands require the firmware to
    qlge: Fix bug in firmware event handler.
    Each firmware mailbox command can have a different number of
    an unrelated firmware async event (AE) can arrive.  When this
    qlge: Fix firmware event handler loop.
    field.  This patch adds a check to look for the firmware running on all
    risks corrupting firmware or overwriting vendor system recovery tools.
    firmware name length restriction.
    This patch gets rid of the statically allocated p54usb firmware string, and
    iwmc3200wifi: trim down calibration firmware name
    The patch trims down iwmc3200wifi calibration firmware name from
    shorten the firmware name because all calibration is done by LMAC.
    These devices require the 1-stage firmware, if not present we
    ar9170: add support for 1-stage firmware
    You can get the stage 1 firmware from here:
    http://www.kernel.org/pub/linux/kernel/people/mcgrof/firmware/ar9170/ar9170.fw
    http://www.kernel.org/pub/linux/kernel/people/mcgrof/firmware/ar9170/LICENSE
    This is a new firmware, tested with WNDA3100.
    Oddly enough, the firmware's JOIN/START commands don't appear to have
    And fix up setting authentication suite for v9+ firmware too.
    actually only needed for some firmware revs but it does no harm either way.
    still lots of Smartarray firmware that doesn't handle doing target resets
    firmware doesn't do it.
      usb-serial: fix crash when sub-driver updates firmware
      firmware reads the block size register before it reads IOE register.
    The "trace" pipe is used by the device to send firmware traces;
    usb-serial: fix crash when sub-driver updates firmware
    that new firmware was loaded and the device will disconnect and
    T3 firmware only supports one WRs worth of page list for fast register
    The firmware loading routine is split to an own function to improve
    libertas: read SD8688 firmware status from new register
    The scratch pad register is used to store firmware status after
    firmware is downloaded and initialized. After firmware status is
    Hence the firmware status code is no longer valid afterwards.
    SD8688 firmware introduces a new register for firmware status
    in a single firmware image. FUNC_INIT and FUNC_SHUTDOWN commands are
    When SD8688 card is inserted, the firmware image should be downloaded
    Alternatively, SD8688 firmware offers an enhanced method for driver
    IF_SDIO_RX_UNIT 0x43 is read one time after firmware is ready.
    [SCSI] qla2xxx: Add an override option to specify ISP firmware load semantics.
    As it may be useful during debugging to use a specific firmware
    [SCSI] qla2xxx: Don't try to 'stop' firmware if already in ROM code.
    p54spi: use firmware/DMA bug workaround that work under hight load in p54spi_rx
    code was tested against two versions of the N- Trig firmware: one that supports
      crypto: ixp4xx - check firmware for crypto support
      eeepc-laptop: Work around rfkill firmware bug
    firmware: speed up request_firmware(), v3
    Rather than calling vmalloc() repeatedly to grow the firmware image as
    A quick test with a 337KiB iwlagn firmware shows the time taken for
    request_firmware() going from ~32ms to ~5ms after I apply this patch.
    to limit the chances of nasty conflicts due to busted firmwares, we
    eeepc-laptop: Work around rfkill firmware bug
    1) Buggy firmware can change the RFKILL state by itself. This is easily
       to do for robustness, even if this particular firmware bug is fixed.
    On resume, the wireless toggle key causes the firmware to toggle the
    firmware is controlling the RFKILL state.
    toggle key twice to enable, due to the OS/firmware conflict.  (Assuming
    firmware has already toggled it, then you will never see a state change.
    ALSA: hdsp - Add a comment about external firmwares for hdsp
    When the hdsp driver is built in kernel, the corresponding firmware
    ALSA: hdsp: allow firmware loading from inside the kernel
    is enabled in the firmware or not. To do this, it keeps
    Now, this bit really needs to track what the _firmware_
    o release mac addresses in firmware in dev close().
      drivers/net/wireless/wl12xx/wl1251.c: In function 'wl1251_upload_firmware':
    >However, the device does not accept the firmware on resume.
    >> firmware part 1 upload failed (-71).
    Since "p54: prevent upload of wrong firmwares" we no longer allow
    outdated LM86 firmwares to be uploaded on ISL3887 (LM87) devices.
      [SCSI] mpt2sas : fix oops when firmware sends large sense buffer size
      Input: elantech - provide a workaround for jumpy cursor on firmware 2.34
    3c589_cs: add cis(firmware) of 3Com multifunction pcmcia card
     (1)add cis(firmware) of 3Com lan&modem mulitifunction pcmcia card.
    netxen: fix firmware download
    o hold the firmware in memory across suspend, since filesystem
    o reset the chip after requesting firmware, to minimize downtime
    it for older firmwares.
    code which broke older openfirmware device trees which this case.
    /sys/class/infiniband/nes?/fw_ver is not displaying firmware version
    firmware version number.
    With updated PHY firmware for SFP_D, setting the trace length to 1
    to broke the fifo for processing of firmware events.  After several iterations
    applications to pull ring buffers from controller firmware for debugging
    firmware related issues.
    What this patch does is sends reqeust to firmware to release the buffers prior
    branding that contains the card firmware/chip/bios versions.  If the SSDID
    [SCSI] mpt2sas : fix oops when firmware sends large sense buffer size
    There is a bug in firmware where the reply message frame says there is a
    the 1st 32bit before the 2nd 32bit has been written to by firmware.  In other
    being dma'd across pci memory from controller firmware as two 32bit pci writes.
    >From now on FW will be downloaded from the binary file using request_firmware.
    openfirmware device tree, and eliminates the assumption that the PHY
    openfirmware: Add OF phylib support code
    This patch makes changes in preparation for supporting open firmware
      ACPI: add /sys/firmware/acpi/interrupts/sci_not counter
      pcnet_cs: add cis(firmware) of the Allied Telesis LA-PCM
    MSP430 firmware on the DM355 EVM.  Verified using the RC5
    firmware with GPIO, LED, and RTC support.
    This limit applies to current (APIv1 and APIv2) 3945 firmware only, not
    supported firmware of any of the other cards.
    or the firmware will reject all of them, at the station is still blacklisted.
    received since SD8688/v10 firmware allows a gap between
    and causes buffer overflow in firmware.
    firmware versions for SD8385/SD8686.
    p54spi: compensate firmware alignment bug in p54spi_rx
    libertas: support mesh for various firmware versions
    RxPD have been changed in firmware version 10.x.y.z and newer.
    p54spi: fix p54spi_upload_firmware
    Instead of firmware itself p54_upload_firmware was sending to the device
    content of struct firmware and the following random garbage.
    Notice '&' before priv->firmware->data at p54spi_spi_write.
    and firmware.
    pcnet_cs: add cis(firmware) of the Allied Telesis LA-PCM
    pcnet_cs: add cis(firmware) of the Allied Telesis LA-PCM
    ACPI: add /sys/firmware/acpi/interrupts/sci_not counter
    available and request_firmware blocks.
    However, the device does not accept the firmware on resume.
    > firmware part 1 upload failed (-71).
    The Broadcom chips with 2.1 firmware handle the fallback case to a SCO
    absolute mode bit is not set as if masked out by the touchpad firmware.
    Input: elantech - provide a workaround for jumpy cursor on firmware 2.34
    It seems that Elantech touchpad firmware version 2.34 on the Hercules eCAF
    myri10ge: allow per-board firmware overriding
    Add myri10ge_fw_names to override the default firmware
      x86: prevent /sys/firmware/sgi_uv from being created on non-uv systems
    microcode firmware can become available later on.
    In a scenario where there isn't any firmware available, we will have a
    CONFIG_SLUB_DEBUG_ON=y, that dumps this with no firmware available:
    This is used for protection against buggy hardware/firmware that raises
      powerpc: pseries/dtl.c should include asm/firmware.h
    powerpc: pseries/dtl.c should include asm/firmware.h
    dtl.c:238: error: implicit declaration of function 'firmware_has_feature'
    - We need firmware.h for these definitions.
    crypto: ixp4xx - check firmware for crypto support
     - the loaded firmware may not support crypto at all or
     - in case of no crypto support of the firmware, the module load will fail.
    Merge git://git.infradead.org/~dwmw2/firmware-2.6
    * git://git.infradead.org/~dwmw2/firmware-2.6:
      qla1280: Fix off-by-some error in firmware loading.
      firmware: Remove newly-added slicoss and sxg firmware images
      firmware/WHENCE: Add missing origin information for Ambassador atmsar11.fw
      ALSA: wavefront - Always use request_firmware()
      Remove fdump tool for av7110 firmware
      firmware: convert av7110 driver to request_firmware()
    Add-add conflicts in firmware/WHENCE fixed manually
    Enable multiple rx rings for older NX2031 chip, firmware 3.4.336
    Add support for asynchronous events from firmware,
    status reporting from firmware.
    netxen: defer firmware handshake
    Removed duplicate firmware handshake, defer it until first
    Add new register settings for new SFP+ PHY/firmware.
    x86: prevent /sys/firmware/sgi_uv from being created on non-uv systems
    /sys/firmware/sgi_uv should only be created on uv systems.
    qla1280: Fix off-by-some error in firmware loading.
       some custom command and modes.  (nand fusing, firmware patch, etc) If
    firmware: Remove newly-added slicoss and sxg firmware images
    These are available elsewhere (for example in the linux-firmware.git
    We are only putting stuff in the firmware/ directory of the kernel
    firmware which was previously being distributed separately.
      bnx2: Use request_firmware()
      myri_sbus: use request_firmware
    Conflict in firmware/WHENCE (SCSI vs net firmware)
    The init callback was used in several places to load firmware. Make a separate
    firmware/WHENCE: Add missing origin information for Ambassador atmsar11.fw
    ALSA: wavefront - Always use request_firmware()
    Always use request_firmware() for loading yss225_registers image.
    Remove fdump tool for av7110 firmware
    option to include arbitrary firmware files directly in the kernel image.
    firmware: convert av7110 driver to request_firmware()
      [SCSI] qlogicpti: use request_firmware
      [SCSI] advansys: use request_firmware
      [SCSI] qla1280: use request_firmware
      leds: Add openfirmware platform device support
    the last recently used brightness (in Mac OSX), while the firmware reports
    leds: Add openfirmware platform device support
      thinkpad-acpi: restrict access to some firmware LEDs
    bnx2: Use request_firmware()
    Separated the mips firmware and rv2p firmware into different files
    myri_sbus: use request_firmware
    Disallow UCMS+EC, thus avoiding races with the SMM firmware.
    hammering the firmware with multiple requests.
    thinkpad-acpi: restrict access to some firmware LEDs
    On almost all ThinkPads, LED access is write-only, and the firmware
    lose whatever message the firmware was trying to convey to the user
    model of the ThinkPad firmware and of the thinkpad-acpi driver.
      trivial: Fix misspelling of firmware
    firmware files.
    the Management Engine firmware. MEI is bi-directional, and either the
    host or Intel AMT firmware can initiate transactions.
    (Intel AMT) is resident in firmware. The micro-controller within the
    Management Engine (ME) firmware, which implements various services
    - Intel(R) Quiet System Technology (QST) is implemented as a firmware
    standard. It is implemented in the PC's hardware and firmware, and is
    Staging: comedi: usbdux[fast] firmware upload changes
    usbdux and usbduxfast upload now their firmware via the firmware kernel
    The firmware will usually be loaded from /lib/firmware. Upload via
    Fixed bug in firmware loading with multiple usbduxfast boards.
    The driver is implemented based on the firmware interface information
    This stops udev trying to load the firmware before to card is fully up.
    Staging: sxg: Add support to download the firmware using request_firmware()
    Add support for downloading the firmware using kernel-builtin mechanism.
    This will remove the need for the firmware files in the driver source code.
    This works on Rev B firmware.
    This patch makes the Sahara SXG driver use Rev B firmware instead of Rev A.
    The firmware version is 1.71
    Staging: sxg: Add firmware files for Rev B card
    This patch adds the new firmware files required by Rev B cards.
    Staging: sxg: fix build warnings in downloadB firmware files
    Staging: sxg: remove firmware files from sgx_ethtool.c
    * Add new firmware and remove all firmware file.
    * Add a switch to load either debug or free firmware.
    Staging: slicoss: add binary firmware to firmware directory
    Adds the firmware to the firmware directory in ihex format so it can be
    installed when doing make firmware_install.
    Also update the firmware location in the driver code so it can locate
    This should conclude the move to request_firmware().
    Staging: SLICOSS: remove the static firmware header files
    Remove the static headers with the firmware code, they are no longer needed.
    Staging: slicoss: use request_firmware
    This patch uses request_firmware() to download the firmware to the card.
    [SCSI] qlogicpti: use request_firmware
    [SCSI] advansys: use request_firmware
    [SCSI] qla1280: use request_firmware
    firmware initialization.  The original codes use of a theoretical
    of the firmware's own 'resource' (exchange IOCBs) capabilities.
    overly-pessimistic with regards to latencies in the firmware
    Interface allows for the update of onboard EDC firmware
    code and firmware versions in the scsi_qla_host_t structure.  Now
    [SCSI] qla2xxx: Always (re)read firmware version/capabilities information.
    With recent ISPs loading firmware from flash, a flash-update to
    the firmware-image region with a follow-on reset will reload the
    Original caching of data only made sense when firmware was bound
    [SCSI] qla2xxx: Correct over-allocation of firmware-dump buffer.
    firmware adds a known pattern and flags the driver that it should check for
    drivers to IO ports and memory regions claimed by ACPI firmware.
    type when the firmware says it's 80 conductor one, the cable detection should
    accurate firmware information on whether only 32-bit kernels are
    PDC_INVALID_ARG return as the firmware manual instructs, by assuming
      V4L/DVB (11296): cx23885: bugfix error message if firmware is not found
    V4L/DVB (11296): cx23885: bugfix error message if firmware is not found
    If the firmware failed to be found the error message indicated
    V4L/DVB (11226): avoid warnings for request_ihex_firmware on dabusb and vicam
    V4L/DVB (11138): get_dvb_firmware: add support for downloading the cx2584x firmware for pvrusb2
    V4L/DVB (11137): get_dvb_firmware: add cx23885 firmwares
    V4L/DVB (11136): get_dvb_firmware: Add download code for cx18 firmwares
    V4L/DVB (11108): get_dvb_firmware: Add option to download firmware for cx231xx
    H.264 video and stereo AAC audio. Newer firmwares accept also AC3
    the firmware sits on a flash chip.
    V4L/DVB (10764): cx18: Disable AC3 controls as the firmware doesn't support AC3
    stored the HW/PCB version and the software release of the firmware.
    V4L/DVB (10512): tda1004x: Fix eeprom firmware load on boards with 16MHz Xtal
    slow down breaks the eeprom firmware load. So, use normal speed for
    with firmware version 29.
    V4L/DVB (10443): cx18: Use correct line counts per field in firmware API call
    The driver was incorrectly setting 0 line counts in a firmware
    V4L/DVB (10435): cx18: Normalize APU after second APU firmware load
    Normalize the APU state before the second firmware load so that audio
    does not work yet due to firmware or cx18 driver issues.  This change affects
    firmware load was missed in earlier PLL parameter changes.  This one really
    smc91c92_cs: use request_firmware
    Added osi_load_firmware() instead of copying same thing twice
    3C359: use request_firmware
    yam: use request_firmware
    trivial: Fix misspelling of firmware
    Fix misspelling of firmware.
    ACPI backlight control w/o _BQC support is kinda firmware bug.
    hardware / firmware interface definitions for Atheros' AR9170 based devices.
    passive trip point if the firmware doesn't provide one. The assumption
    microblaze_v8: Open firmware files
      RDMA/cxgb3: Enforce required firmware
    ACPICA: Conditionally compile acpi_set_firmware_waking_vector64
    This seems to only occur after an FPGA or firmware upgrade.
    RDMA/cxgb3: Enforce required firmware
    The cxgb3 NIC driver can handle more firmware versions than iw_cxgb3,
    will load with firmware versions that iw_cxgb3 can't handle.  The FW
    iw_cxgb3.  Thus if the major number of the running firmware does not
    myri10ge: update firmware headers to 1.4.41
    Update myri10ge firmware headers to firmware version 1.4.41.
    of this by just writing sane firmware for the modem.
    development board with one MCP55, Coreboot firmware, no ACPI.
    PCI hotplug: fix wrong assumption in acpi_get_hp_hw_control_from_firmware
    Current acpi_get_hp_hw_control_from_firmware() has a assumption that
    acpi_get_hp_hw_control_from_firmware() might cause endless loop. We
    PCI hotplug: fix wrong assumption in acpi_get_hp_params_from_firmware
    Current acpi_get_hp_params_from_firmware() has a assumption that
    acpi_get_hp_params_from_firmware() might cause endless loop. We must
    Current firmware revision 5.60 still behaves the same,
    netxen: fix firmware download warnings
    Fix following warnings, by using integer firmware types.
    drivers/net/netxen/netxen_nic_hw.c: In function 'netxen_load_firmware':
    supported by all firmwares. However we have an alternative: hibernation.
    orinoco: firmware: consistently compile out fw cache support if not requested
    This patch enables the load balancing capability of firmware
    from specific locations and fails with firmware size changes.
    concerning the logging of firmware handles.
    firmware blobs externally.
    Commit 47a8b0cc (Enable PCIe AER only after checking firmware
    - add data direction in req_msg because new firmware version
    The interrupt routine is good for normal cases. However, if the firmware
    There's no way for us to express to firmware that we want a
    Use minimum value for max vport during firmware initialization in LOOP
    causes firmware initialization failure.
    echo "/lib/firmware"
    iwlwifi: update 5150 API version to support new firmware
    qlge: Add support for lost firmware events.
    When the firmware is issuing events to the driver the events
    firmware will build and special event that captures those that
    qlge: Save status from firmware crash (system err).
    qlge: Improve handling for firmware init failure.
    MPI processor reset if the firmware failed to initialize.
    qlge: Clean up event handler for firmware init.
    qlge: Add worker-handler for firmware events.
    qlge: Add firmware support for insert/remove SFP.
    netxen: firmware download improvements
    o prefer cut-through firmware (doesn't require on-card memory).
    o load flashed firmware if newer.
    Support larger dma mask if firmware indicates capability
    This device has more firmware support for link management, setting
    qlge: Add support for firmware mailbox commands.
    typhoon: repair firmware loading
    The conversion to avoid using pci_alloc_consistent() broke the firmware
    usage of the firmware image. Go back to loading a page at a time.
    Also, since the user can now give us utter garbage for firmware, do a
    indicates a bad firmware checksum.  If so, prepare to reflash rather
    Newer i2400m firmwares (>= v1.4) extend the data RX protocol so that
    variable 'idle_mode_disabled' when the firmware is a newer version
    The method for setting the idle mode timeout in the older firmwares is
    wimax/i2400m: firmware_check() encodes the firmware version in i2400m->fw_version
    Upcoming modifications will need to test for the running firmware
    implement backward compatibility with older firmware versions.
    Modify i2400m_firmware_check() to encode in i2400m->fw_version the
    major and minor version numbers of the firmware interface.
    longer supported (nor available, as it is a preproduction firmware),
    Add support for firmware interface v9.2.x (current is 9.1.x). Firmware
    to the driver will start pressing those switches when the firmware
    wimax/i2400m: add the ability to fallback to other firmware files if the default is not there
    In order to support backwards compatibility with older firmwares when
    can declare a list of firmware files they can work with (in general
    these will be each a different version). The firmware loader will try
    Thus, if a user doesn't have the latest and greatest firmware that a
    the firmware from a previous release.
    terminated array firmware file names (and renamed to bus_fw_names) and
    firmware being currently used. All code that needs to print the
    firmware file name uses i2400m->fw_name instead of the old
    The code in i2400m_dev_bootstrap() that loads the firmware is changed
    with an iterator over the firmware file name list that tries to load
    request_firmware() (and thus stopping the iteration).
    reflect which firmwares they support.
    typhoon: Add missing firmware copy.
    typhoon: Need non-vmalloc memory to DMA firmware to the card.
    request_firmware() gives vmalloc'd memory, which is not suitable
    Use a kmalloc()'d copy of the firmware for this DMA operation.
    indicate a hardware failure rather than a firmware error.
    orinoco: prevent accessing memory outside the firmware image
    orinoco: validate firmware header
    Check the Agere firmware headers for validity before attempting to
    unwanted latency for every data packet or command sent to the firmware.
    The fix: check firmware capabilities returned by GET_HW_SPEC command.
    typhoon: Use request_firmware()
    tehuti: Use request_firmware()
    tg3: Add DASH firmware version reporting
    This patch adds code to report the DASH firmware version.
    tg3: Refactor firmware version routines
    This patch reorganizes the firmware version routines in preparation for
    qlge: Move firmware event handler.
    This is not a logical change but rather a move of the inbound firmware event
    qlge: Clean up firmware reset path.
    qlge: Add defines for firmware support.
      PCI: Enable PCIe AER only after checking firmware support
    /sys/firmware/acpi/tables/dynamic/.
    That's because the controller firmware fills different serial number in
    be done in response to firmware events as well as during initialization.
    netxen: firmware download support
    PCI: Enable PCIe AER only after checking firmware support
    any root or switch port without first checking to see if firmware will grant
    downstream switch ports after the check for firmware support (aer_osc_setup)
    old firmware. New firmware (4.0.0+) abstracts this.
      wimax/i2400m: driver loads firmware v1.4 instead of v1.3
    The new firmware release exports further RTC calls. This
    which firmware expresses using a property named "ibm,pe-total-#msi".
    For old firmwares which don't have the property, we assume there are
      fujitsu-laptop: Use RFKILL support bitmask from firmware
    fujitsu-laptop: Use RFKILL support bitmask from firmware
    It turns out that the firmware has a bitmask which indicates what rfkill-related
    firmware does not give us status updates for that particular bit.
    wimax/i2400m: driver loads firmware v1.4 instead of v1.3
    of the i2400m firmware instead of v1.3. The v1.4 version of the
    firmware has been submitted to David Woodhouse for inclusion in the
    linux-firmware tree and it is already available at
    software and firmware has a few issues that will make it difficult to
    the 1.4 firmware) has intermitent issues with the 1.3 firmware.
    deployed and tested with the codebase in 2.6.29-rc, the 1.4 firmware
    Alternatively, a user could always force feed a 1.4 firmware into a
    $ cd /lib/firmware
       firmware has recovered from the PCI PM reset.
    bug in openfirmware workaround") breaks model comparison on OLPC; the value
    designs do this in firmware/hardware, so it's better not to have it in
    mac80211. It's a lot better to do this in firmware/hardware, or if
    orinoco: Move firmware handling into a separate file
      bnx2: Update 5709 firmware.
      bnx2: Update 5706/5708 firmware.
    bnx2: Update 5709 firmware.
    New firmware fixes a data corruption issue when receiving and
    bnx2: Update 5706/5708 firmware.
    New firmware fixes a data corruption issue when receiving and
    (rev 41 or earlier). This is taken care of during firmware init.
     drivers/firmware/iscsi_ibft.c: In function ibft_init:
     drivers/firmware/iscsi_ibft.c:942: warning: format %lx expects type long unsigned int, but argument 2 has type phys_addr_t
    wouldn't boot. The AmigaOne's U-boot firmware seems to have a problem
    The AmigaOne uses U-boot as firmware, which doesn't support a flattened
    We need to increment i in the loop that queries what interrupts firmware
    fore200: fix oops on failed firmware load
    Fore 200 ATM driver fails to handle request_firmware failures and oopses
    when no firmware file was found. Fix it by checking for the right return
    Correct response-queue-0 processing by instructing the firmware
    enic: Add api for link down count and to get firmware notification status.
    Return notify intr credits after notify intr from firmware.  This is
    rt2x00: Validate firmware in driver
    The get_firmware_crc() callback function isn't flexible
    enough when dealing with multiple firmware versions.
    It might in some cases be possible that the firmware
    Create the check_firmware() callback function where the driver
    has complete freedom in how to validate the firmware.
    Tracking down the firmware loading problem led to this commit.
    The driver can now load firmware, but is not fully functional.
    also adds a version check for a newer mgmt unit firmware.
    Simple RTC driver for the MSP430 firmware on the DM355 EVM board.  Other
    current firmware.
    Early versions of the SFX7101 firmware could complete link training in
    be unnecessary with production firmware.  Therefore remove it.
    Enable a firmware option that appears to be necessary for reliable
      ieee1394: sbp2: don't assume zero model_id or firmware_revision if there is none
    firmwares (3.4.216 and older) running on older (NX2031) chip,
    b43: Automatically probe for opensource firmware
    First probe for proprietary firmware and then probe for opensource firmware.
    2) If opensource firmware is available, but no proprietary (Distros can only ship open fw)
    libertas: fix CF firmware loading for some cards
    interprets non-zero return values from firmware load functions as an
    error, this sometimes caused spurious firmware load failures.
    rt2x00: Restrict firmware file lengths
    Add extra security to the drivers for firmware loading,
    check the firmware file length before uploading it to
    the hardware. Incorrect lengths might indicate a firmware
    otherwise incorrect firmware.
    Drivers without firmware can also have custom regulatory maps
    notified about killswitch state changes. The firmware loading is still
    Sadly, we have to call usb_reset_device before we can upload the firmware on 3887.
    firmware is loaded). The firmware loading is still done in iwl3945_up.
    This patch adds support to upload pre-calculated calibration data to the firmware.
    Old firmwares had no problems processing frames which filled eighth of the memory window.
    However we have to be a bit more careful with fat frames when we talk to new firmwares.
    Fix misleading comment in lbs_setup_firmware.
    If driver/firmware/hardware does not support CCMP for management
    p54: prevent upload of wrong firmwares
    This patch will prevent anyone to upload a firmware which was not designed for his device.
    There is no easy way to detect if a firmware is for PCI or for USB (1st Gen),
    This patch introduce new shiny named labels for our 8 (4 - on old firmware) queues.
    mini) don't have firmware_version and model_id, hence none of the iPod
    the firmware that early.
    The stick works with both, the old and new firmwares:
    ieee1394: sbp2: don't assume zero model_id or firmware_revision if there is none
    or firmware_revision.
    model_id.  It only changes how model_id and firmware_revision are logged
    firmware level.
      [SCSI] qla2xxx: Modify firmware-load order precedence for ISP81XX parts.
    if the firmware allows the OS to claim control via the _OSC method so
    _OSC method or the firmware refusing to hand off control) then we can
    solos: Clean up firmware loading code
    We no longer try to load firmware while the ATM is up and running.
    Simon has patches which migrate us to request_firmware_nowait(), for
    solos: FPGA and firmware update support.
    [SCSI] qla2xxx: Modify firmware-load order precedence for ISP81XX parts.
    firmware image within a segment of flash, driver would fallback
    to loading this firmware if the request-firmware interface failed
    ship with a suggested-to-be-used firmware image within flash
    firmware load fails, the driver will then fallback to loading
    firmware via the request-firmware interface (ql8100_fw.bin).
    the firmware should hopefully send us notification of other
    In theory, the firmware acks the received a data frame, before signaling the driver to free it again.
    If we let the firmware do the data encryption, we have to remove the ICV and
    all memory allocations where page alignment is required by firmware.
    implemented using standard ACPI hotplug - nor does the firmware provide the
    tg3: Fix firmware loading
    This patch modifies how the tg3 driver handles device firmware.
    the same name.  Specifically, the patch moves the request_firmware call
    into a separate tg3_request_firmware() function and calls that function
    request_firmware calls.  The original firmware patch unnecessarily
    requested TSO firmware for devices that did not need it.  This patch
    reduces the set of devices making TSO firmware patches to approximately
    Finally, the patch reduces the effects of a request_firmware() failure.
    For those devices that are requesting TSO firmware, the driver will turn
    off the TSO capability.  If TSO firmware becomes available at a later
    Data structures that come over the wire from the WLAN firmware must be packed.
    this is what firmware actually presents.
    firmware changes to match PAPR.
    Handle some HKEY events that are actually firmware alarms.  For
    from the ACPI firmware.  It was getting too long and deep.
    Store in firmware NVRAM the radio state on machine shutdown for WWAN and
    Instruct the firmware to not enable the radios when resuming.  This
    firmware (unlike the real one).  They also don't issue deprecated proc
    Whoops.  It breaks firmware uploading.
    netxen: hold tx lock while sending firmware commands
    Some firmware commands like mac address addition/deletion are sent
    netxen: firmware init fix
    This cuts the firmware init time by 40%.
    netxen: fix endianness in firmware commands
    o Set restricted (little endian) data types in firmware command
    ti_usb_3410_5052: add Multi-Tech firmware
    Add the Multi-Tech cellular modem firmware to the TI USB serial driver.
    This firmware was extracted from:
    Firmware licence: "all firmware components are redistributable in binary
    ti_usb_3410_5052: support alternate firmware
    alternate firmware for alternate vendor/product IDs.
    All LM87 firmwares need a explicit termination "packet",
       This is actually only necessary for some obsolete p54usb firmwares.
    Replace cpumask_t with cpumask_var_t in drivers/firmware/dcdbas.c.
      [SCSI] qla2xxx: Correct MQ-chain information retrieval during a firmware dump.
      [SCSI] qla2xxx: Collapse EFT/FCE copy procedures during a firmware dump.
    This driver makes use of the dcdbas interface to the Dell firmware to
    The dcdbas code allows calls to be made into the firmware on Dell systems.
      i2400m/SDIO: firmware upload backend
      i2400m/USB: firmware upload backend
      i2400m: firmware loading and bootrom initialization
    [SCSI] qla2xxx: Correct MQ-chain information retrieval during a firmware dump.
    [SCSI] qla2xxx: Collapse EFT/FCE copy procedures during a firmware dump.
    Software should not touch this region of flash, as the firmware
    > in our tests are manifesting in firmware detected overruns.  Here's
    firmware: convert e100 driver to request_firmware()
      HOSTCC  firmware/ihex2fw
    /home/rafael/src/linux-2.6/firmware/ihex2fw.c:268: fatal error: opening dependency file firmware/.ihex2fw.d: Read-only file system
    make[3]: *** [firmware/ihex2fw] Error 1
    The issue turns out to be that we when we install firmware pick
    up the list of firmware blobs from firmware/Makefile.
    1) Move the list of firmware blobs to a separate file
    As I seriously beleive that the list of firmware blobs should be
      trivial: Fix misspelling of "firmware" in docs for ncr53c8xx/sym53c8xx
      trivial: Fix misspelling of "firmware" in powerpc Makefile
      trivial: Fix misspelling of "firmware" in usb.c
      trivial: Fix misspelling of "firmware" in qla1280.c
      trivial: Fix misspelling of "firmware" in a100u2w.c
      trivial: Fix misspelling of "firmware" in megaraid.c
      trivial: Fix misspelling of "firmware" in ql4_mbx.c
      trivial: Fix misspelling of "firmware" in acpi_memhotplug.c
      trivial: Fix misspelling of "firmware" in ipw2100.c
      trivial: Fix misspelling of "firmware" in atmel.c
      trivial: Fix misspelled firmware in Kconfig
    That's especially true if it turns out that any firmware ends up putting
    _OSC for it because firmware may not reject control of any feature it
    i2400m/SDIO: firmware upload backend
    able to load firmware to the SDIO device.
    i2400m/USB: firmware upload backend
    able to load firmware to the USB device.
    i2400m: firmware loading and bootrom initialization
    Implements the firmware loader (using the bus-specific driver's
    firmware file to the device.
    Coming-soon versions of the firmware have this issue solved.
     - boot / firmware upload protocol
    (emi26: use request_firmware()):
    emi26 - firmware loader 1-1:1.0: emi26_probe start
    usb 1-1: firmware: requesting emi26/loader.fw
    usb 1-1: firmware: requesting emi26/bitstream.fw
    usb 1-1: firmware: requesting emi26/firmware.fw
    last sysfs file: /sys/devices/pci0000:00/0000:00:1d.0/usb1/1-1/firmware/1-1/loading
    After the last "package" of firmware data is sent to the device, we dereference
    make firmware/dsp56k/bootstrap.asm buildable on a56
    Make firmware/dsp56k/bootstrap.asm buildable on a56, the free Motorola
    drivers/firmware/dmi_scan.c:475: No description found for parameter 'str'
    drivers/firmware/dmi_scan.c:592: No description found for parameter 'f'
    drivers/firmware/dmi_scan.c:592: No description found for parameter 'str'
    Staging: slicoss: use request_firmware
    This should make the driver use request_firmware() instead of a static
    firmware.
    trivial: Fix misspelling of "firmware" in docs for ncr53c8xx/sym53c8xx
    Fix misspelling of "firmware" in docs for ncr53c8xx/sym53c8xx
    It's spelled "firmware".
    trivial: Fix misspelling of "firmware" in powerpc Makefile
    Fix misspelling of "firmware" in powerpc Makefile
    It's spelled "firmware".
    trivial: Fix misspelling of "firmware" in usb.c
    Fix misspelling of "firmware" in usb.c
    It's spelled "firmware".
    trivial: Fix misspelling of "firmware" in qla1280.c
    Fix misspelling of "firmware" in qla1280.c
    It's spelled "firmware".
    trivial: Fix misspelling of "firmware" in a100u2w.c
    Fix misspelling of "firmware" in a100u2w.c
    It's spelled "firmware".
    trivial: Fix misspelling of "firmware" in megaraid.c
    Fix misspelling of "firmware" in megaraid.c
    Fixed "firmware", "ownership" and grammar in the same comment.
    trivial: Fix misspelling of "firmware" in ql4_mbx.c
    Fix misspelling of "firmware" in ql4_mbx.c
    It's spelled "firmware".
    trivial: Fix misspelling of "firmware" in acpi_memhotplug.c
    Fix misspelling of "firmware" in acpi_memhotplug.c
    It's spelled "firmware".
    trivial: Fix misspelling of "firmware" in ipw2100.c
    Fix misspelling of "firmware" in ipw2100.c
    It's spelled "firmware".
    trivial: Fix misspelling of "firmware" in atmel.c
    Fix misspelling of "firmware" in atmel.c
    It's spelled "firmware".
    trivial: Fix misspelled firmware in Kconfig
    Fix misspelled firmware in Kconfig
    It's spelled "firmware".
    acenic: Missed delete of acenic_firmware.h
    When I applied the firmware conversion I made a mistake
    which caused the acenic_firmware.h deletion to not happen.
    starfire: use request_firmware()
    firmware: convert tg3 driver to request_firmware()
            u8 firmware_major
            u8 firmware_minor
            u8 firmware_fix
            data... (in __be32 words, which is native for the firmware)
    firmware: convert acenic driver to request_firmware()
    We store the firmware in its native big-endian form now, so the loop in
    We can forget the BSS,SBSS sections of the firmware, since we were
    It is already known that buggy firmwares exist which report a bogus
    otherwise the firmware authors would have noticed their mistake.
    Basic MFD framework for the MSP430 microcontroller firmware used
         * Announces firmware revision
    line.  This allows us to work-around broken Personal Server firmware.
    set the VDCLK and AIMCLK PLLs to sane values before the APU and CPU firmware
    xc2028 0-0061: Device is Xceive 3028 version 1.0, firmware version 2.7
    V4L/DVB (9895): cx18: Refine the firmware load and firmware startup process
    Refine the firmware load and firmware startup process.  Significant changes
    are to ensure the SCB and IPC area are correct before starting up the firmware,
    and letting the CPU firmware start up the APU firmware for us.
    Removed magic number that referred to firmware limit on the number of
    MDLs the firmware can maintain for any stream at any one time.
    V4L/DVB (9804): cx18: Avoid making firmware API calls with the queue lock held
    cx18: Avoid making firmware API calls with the queue lock held.  The source
    the firmware for CPU_DE_SET_MDL while holding the queue lock, so we can get
    q_busy to hold buffers the firmware has for use.  q_free holds truly unused
    buffers in a pool.  New buffers are given to the firmware as soon as the
    firmware returns one, if there are any to give to the firmware.
    Since firmware load happens on 1 or 2 seconds on most devices, this is not a pain.
    Since the firmware load is now fast on most boards, better to keep the tuner
    No one probably cares that the firmware took forever to ack our command, as
    they always seem to succeed whether or not the firmware acks it in a reasonable
    V4L/DVB (9599): cx18: Fix unitialized variable problem upon APU firmware file read failure
    If APU firmware file read failed, the jump vector to the APU was undefined and
    V4L/DVB (9597): cx18: Minor fixes to APU firmware load process
    can know when it is not safe to send MDLs to the firmware.
    interface, as it served no purpose (only the firmware reads the
    firmware on that device starts up strangely; it sends no data in
    the firmware/hardware can process the pdu. This patch allows
    The SFT9001 firmware implements cable diagnostics; run those and
        pc: d000000000064a24: .ehea_update_firmware_handles+0x84/0x47c [ehea]
    is, only that it is passed to firmware and that the first error
    myri10ge: update firmware headers to 1.4.37
    Update myri10ge firmware headers to 1.4.37:
    errata related to prefetch should be sorted out by firmware by
    the kernel however just in case oooold firmwares don't do it.
    cleared by the system firmware when rebooting the partition.
    latency. Some hardware have support for this in firmware, but some
    Power save now only works with devices which handle power save in firmware.
    In case the firmware has support for this, drivers can disable this feature
    This fixes some locking w.r.t. the lower MAC (firmware).
    if we want to free a frame right after it was send to the firmware,
    This driver transfers firmware. It may just as well set the correct
    a few devices have buggy firmware that crashes when it receives this
    phone to include a more recent firmware revision.
    the lower 32 bits of the _SUN returned by firmware.
    (Respect "const" qualifier of firmware->data.)
    the bulk pipe faster than the firmware was injecting information, which would
    Due to miscommunication, P/N was mistaken as firmware revision
    > [  113.920933] Modules linked in: af_packet irnet ppp_generic slhc ircomm_tty ircomm binfmt_misc loop dm_mirror dm_region_hash dm_log dm_round_robin dm_multipath dm_mod alim15x3 ide_core nvram toshiba cryptomgr aead crypto_blkcipher michael_mic crypto_algapi orinoco_cs orinoco hermes_dld hermes pcmcia firmware_class snd_ali5451 snd_ac97_codec ac97_bus snd_seq_dummy snd_seq_oss snd_seq_midi_event snd_seq snd_seq_device smsc_ircc2 snd_pcm_oss snd_pcm rtc_cmos irda snd_timer snd_mixer_oss rtc_core snd crc_ccitt yenta_socket rtc_lib rsrc_nonstatic i2c_ali1535 pcmcia_core pcspkr psmouse soundcore i2c_core evdev sr_mod snd_page_alloc alim1535_wdt cdrom fan sg video output toshiba_acpi rfkill thermal backlight ali_agp processor ac button input_polldev battery agpgart ohci_hcd usbcore reiserfs pata_ali libata sd_mod scsi_mod [last unloaded: scsi_wait_scan]
    This is needed for recovery in case a PHY firmware upgrade is aborted.
    This patch fixes sporadic firmware restarts when scanning while associated.
    The firmware will quietly cancel a scan (while associated) if the dwell time
    be hit and the driver causes a firmware restart which results in
    than the actual beacon interval to work around the firmware issue. Furthermore
            arch/arm/mach-netx/xc.c: In function xc_request_firmware:
    iwlwifi: rely on API version read from firmware
    This adds the infrastructure to support older firmware APIs.
    load the most recent firmware and progressively try lower versions.
    The API version is also read from the firmware self and stored as part
    of the iwl_priv structure. Only firmware that is supported by driver will
    be loaded. The version number read from firmware is compared
    This fixes the checksum calculation for lm87 firmwares
    have to do the bookkeeping of p54's firmware state for everything.
    Those firmwares are probably capable of reprogramming the device's eeprom.
    power save buffering mechanism in firmware completely.
      ide: add SAMSUNG SP0822N with firmware WA100-10 to ivb_list[]
    ide: add SAMSUNG SP0822N with firmware WA100-10 to ivb_list[]
      V4L/DVB (9732): sms1xxx: use new firmware for Hauppauge WinTV MiniStick
      V4L/DVB (9639): Make dib0700 remote control support work with firmware v1.20
      V4L/DVB (9635): v4l: s2255drv fix firmware test on big-endian
    Some recent Seagate harddrives have firmware bug which causes FLUSH
    firmware.  Implement ATA_HORKAGE_FIRMWARE_UPDATE and blacklist these
    ALSA: pcxhr - change firmware filenames
    - compatibility issue : change firmware filenames
      with new firmware > 1.0.17. Keep the old firmware files
      and add new firmware files with different names
    interface firmware, so the Vendor and Product names are generalized.
    on how the device firmware was suppose to handle it. Almost every device
    original Digianswer devices and dongles with an early CSR firmware.
    CSR reported that they fixed this for version 12 firmware. The last
    official release of version 11 firmware is build ID 115. The first
    1. Fix the fan_suspend handling of the T43 firmware quirk. If it is
    Include firmware and protocol images in the kernel image if requested
    Make firmware caching on startup optional, and make it default.
    cache firmware in the suspend pm_notifier. This configuration saves
    driver is configured to use a different firmware.
    Retrieval of external firmware has been resolved, and should work with
    ready when firmware has not been loaded.
    orinoco: Cache Symbol firmware
    firmware.
    iwlwifi: 4965 define firmware file name once
    'iwlwifi: define firmware file name once'
    p54pci: cache firmware for suspend/resume
    Johannes pointed out that the driver has cache the firmware for
    This enables the custom firmware regulatory solution option
    cfg80211: add support for custom firmware regulatory solutions
    us if their firmware can handle regulatory considerations *and*
    Add another model ID of a broken firmware to prevent early I/O errors
    Add another model ID of a broken firmware to prevent early I/O errors
    ALSA: pcxhr - add support for pcxhr stereo sound cards (firmware support)
    - Add support for pcxhr stereo cards and their firmware
    V4L/DVB (9732): sms1xxx: use new firmware for Hauppauge WinTV MiniStick
    New firmware image brings enhanced tuning performance.
    myri10ge: update firmware headers
    Update myri10ge firmware headers.
    enic: driver/firmware API updates
    Add driver/firmware compatibility check.
    Update firmware notify cmd to honor notify area size.
    be powered unless it is running management firmware.  For backwards
    compatibility, management firmware will still set the ENABLE_ASF bit.
    This patch extracts the bootcode firmware version from the alternate
    without blocking PHY register writes, the driver/firmware synchronization
    in the hardware (e.g. firmware is loaded). We already
    Please note that only firmware 5.110.22.p20 and above supports this feature.
    This patch only implements the driver/firmware interface, not the
    executed every time by device firmware and that causes harm.
    have been lost because the firmware crashed/reset.
    the case where the firmware was reset the driver will probably
    uses an NMI, (old-style-) ES7000 uses 'MIP' (a firmware driven in-memory
    V4L/DVB (9639): Make dib0700 remote control support work with firmware v1.20
    The format for reading the IR controller changed in firmware 1.20.  It now
    be using older firmware.
    required information on how the version 1.20 firmware works.
    V4L/DVB (9635): v4l: s2255drv fix firmware test on big-endian
      [SCSI] qla2xxx: Do not honour max_vports from firmware for 2G ISPs and below.
    The doorbell writes may be seen out of order by the firmware if they
    Was wondering about this code since supposedly the firmware will
    p54: introduce new names for device firmwares
    Johannes thought it would have been a good idea to change the firmware names.
      ALSA: hdsp: check for iobox and upload firmware during ioctl
      ALSA: HDSP: check for io box before uploading firmware
      kbuild: Fixup deb-pkg target to generate separate firmware deb
    kbuild: Fixup deb-pkg target to generate separate firmware deb
    firmware out to a linux-firmware-image package and adds an
    (unversioned) Suggests to the linux package for this firmware.
    ALSA: hdsp: check for iobox and upload firmware during ioctl
    asks the user to upload the firmware.
    tries to upload the firmware in the case, that it is not present, e.g.
    ALSA: HDSP: check for io box before uploading firmware
    currently the hdsp driver tries to upload the firmware, even if the
    before trying to upload the firmware.
    thus instead of messages complaining about the fifo status and firmware
    allowed to have an empty signature and /sys/firmware/acpi/tables uses the
    cciss: fix regression firmware not displayed in procfs
    This patch fixes a regression where the controller firmware version is not
    request to the firmware to abort a command failed.  By doing so,
    [SCSI] qla2xxx: Do not honour max_vports from firmware for 2G ISPs and below.
    communicate to firmware the number of page-ins it is performing when
    the firmware might be seriously busted.
    set-indicator(gqirm) call, and apparently firmware currently ignores
    firmware versions use it.
    DASH firmware runs on the APE side of the chip, but it requires a few MAC
    When WOL is enabled and management firmware is disabled, incoming
    When management firmware is enabled, the hardware must be informed that
    frames.  Normally management firmware will configure the MAC correctly
    the APE memory space.  By doing so, the DASH firmware can assume
    Example resource allocation from Jonathan Corbet, who has firmware that
    and that had various PCI resources in it set up by firmware.
    that were allocated inside of it by firmware, and because it is not
    orinoco: cache downloadable firmware image in memory for use during resume
    If card is using downloadable firmware (like Agere 9.x), firmware has
    to be reloaded during resume. It is not possible to use request_firmware
    for that, because tasks are still frozen, so request_firmware will
    just timeout and fail. So cache firmware image in memory for later
    orinoco: reload firmware on resume
    On resume card state is likely lost so we have to reload firmware
    SPI firmwares.
    the device's firmware. As p54_assign_address always put them into same memory location.
    iwlwifi: define firmware file name once
    string repeated for definition of ucode firmware file and in preparation for
    multiple firmware files need to consolidate location for their definition.
    those that are not under hardware or firmware control.
      p54: fix misbehavings when firmware can't be found
      ehea: Detect 16GB hugepages for firmware restriction
    p54: fix misbehavings when firmware can't be found
    ehea: Detect 16GB hugepages for firmware restriction
    be registered with firmware using "memory regions". 16GB hugepages
    may not be part of a memory region due to firmware restrictions.
      MIPS: TXx9: Make firmware parameter passing more robust
    MIPS: TXx9: Make firmware parameter passing more robust
    prom_getenv(), as VxWorks doesn't pass firmware parameters in a0-a3 (in my
      orinoco: reduce stack usage in firmware download path
      uwb: i1480/GUWA100U: fix firmware download issues
      mlx4_core: Get ethernet MTU and default address from firmware
    Some firmware fail to properly configure P2P bridges, leaving them
    than the firmware does to host bridges while not setting
    just be bogus firmware.
    drivers are loaded on platforms with broken firmware that assigns
    If firmware assigns the name N to multiple slots, then:
    strongly recommended in PCI firmware specification, it should query
    ACPI: thinkpad-acpi: Remove firmware backlight delays for Intel ACPI IGD OpRegion
    Instruct the ThinkPad ACPI firmware to remove delays on the processing of
    that state (but this is extremely unlikely, no ThinkPad firmware was
    the firmware  are either "auto" or "level 7" depending on whether the
    orinoco: reduce stack usage in firmware download path
    orinoco_dl_firmware and symbol_dl_mage allocate large local
    entities, such as system firmware, which might also be programming the
    mlx4_core: Get ethernet MTU and default address from firmware
    Get maximum ethernet MTU and default MAC address from the firmware
    open firmware.  Replace a left over is even (% 2) check with a check
      parisc: add pdc_coproc_cfg_unlocked and set_firmware_width_unlocked
    Removed duplicated #include <linux/firmware.h> in
      Staging: add me4000 firmware files
    someone more familiar with openfirmware-based platforms than I am
    The lm87 driver normally assumes that firmware configured the chip
    For it is EC firmware that decides when the EC
    firmware: use dev_printk when possible
    Make firmware entries match .gitignore entries.
    an ideal solution, because if any drivers want to upload firmware into
    after the driver's notifier used for uploading the firmware).
    drivers/firmware/iscsi_ibft.c: make 3 functions static
    Create /sys/firmware/sgi_uv sysfs entries for partition_id and coherence_id.
    unassigned by the firmware and tries to allocate resource for the
    of a hack we have in there that detects some Apple firmware unassigned
    to intuit that a bridge was left unassigned by the firmware, and thus
    on pSeries machines, or attempt to use partial firmware PCI setup.
    firmware to work with NAND chips.
    Freescale MC9S08QG8 (MCU) chip with the custom firmware
    bnx2i, when they rework their firmware according to netdev
    - cast firmware data to u8
      x86 setup: fix ghost entries under /sys/firmware/edd take 3
    This worked very well, however that was using his version of firmware.
    V4L/DVB (9055): tuner-xc2028: Do a better job selecting firmware type
    selection of the proper firmware type, by using a code to hint if the
    firmware to be loaded should be D2620 or D2633.
    firmware fixing the issue with the i2c that prevented the xc5000 from working.
    V4L/DVB (9039): Add support for new i2c API provided in firmware version 1.20
    (sending it as an i2c write request instead).  Version 1.20 of the firmware
    firmware fixing the issue as well as example i2c code utilizing the interface.
    (identical to?) a Terratec Cinergy HT USB XE, and for the firmware hints:
    DVB functionality tested OK with xine using the usual dib0700 firmware.
    It needs firmware for the tda10046 and analog sound needs saa7134-alsa.
    V4L/DVB (8968): replace xc3028 firmware filenames with defined default firmware names
    well on many older motherboards: mysterious I2C errors, firmware loading errors,
    V4L/DVB (8890): budget: Add callback to load firmware for the TDHD1 tuner
    Supply callback to load firmware for the TDHD1 tuner (using request_firmware).
    V4L/DVB (8752): s2255drv: firmware improvement patch
    Fix for reloading firmware when removing and reloading driver
    Handshaking for firmware loading and changing modes.
    Add TOSHIBA_RBTX4938_MPLEX_KEEP to keep MPLEX settings by firmware.
    * Select board by command-line option or firmware environment variable.
    firmware should pass NULL for fw_arg2.
    Staging: add me4000 firmware files
            move this to the request_firmware() interface
            - move firmware loading to request_firmware()
    current firmware does not support this feature.
      RDMA/nes: Fill in firmware version for ethtool
    parisc: add pdc_coproc_cfg_unlocked and set_firmware_width_unlocked
      x86, olpc: fix endian bug in openfirmware workaround
    some firmware (like PnP tables) more than we trust the hardware itself
    This is now possible with updated firmware.
    bnx2: Update 5706/5708 firmware.
    With this new firmware, the driver no longer has to modify the
    firmware provides no data in the event notification.
      V4L/DVB (8967): Use correct XC3028L firmware for AMD ATI TV Wonder 600
    Correct firmware type to MTS
    V4L/DVB (8967): Use correct XC3028L firmware for AMD ATI TV Wonder 600
    load the proper firmware to prevent the device from overheating.
    x86 setup: fix ghost entries under /sys/firmware/edd take 3
    firmware/transport residual-count mismatches.
    the SWFLAG bit for exclusive (to hardware and firmware) access to
    management firmware clears it after 100ms.
    RDMA/nes: Fill in firmware version for ethtool
    Fill in firmware version for ethtool_drvinfo.
    NVM and PHY accesses between the driver, firmware and hardware, remove the
    cause the firmware to prevent the driver getting the flag for all future
    qeth: use firmware MAC-address for layer2 hsi-devices
    Real HiperSocket devices in layer2 mode have a firmware-created
    firmware MAC-address for layer2 HiperSocket devices.
    NX3031 firmware now supports MSI-X interrupts on Quad GbE boards.
    serial ports. This is required for firmware diagnostics
    (ehea_update_firmware_handles() and ehea_update_bcmc_registrations())
    myri10ge: Rename DCA-related firmware counters
    Rename the cryptic "dca_capable" to "dca_capable_firmware"
    and "dca_enabled" to "dca_device_present" in the firmware
    sfc: Remove workaround for old firmware bug
    There was a bug in XAUI synchronisation in early 10Xpress firmware
    versions.  This is fixed in released firmware and we do not need to
    This avoids keeping those flags set and possibly miss configuring firmware.
    RXON. If we don't, the firmware will understand this as channel 11 above
    which is not possible due to regulatory constraints, leading to firmware
        update yet. The ucode has to be updated via 'firmware'.
    x86, olpc: fix endian bug in openfirmware workaround
      usb serial: ti_usb_3410_5052 obviously broken by firmware changes
    usb serial: ti_usb_3410_5052 obviously broken by firmware changes
    changes made to move the firmware loading to a separate function are
    broken (in ti_download_firmware(), status is set to -ENOMEM and never
    cassini: use request_firmware
    Tell the user/vendor he has a BIOS/firmware problem.
    automatically check with (or let linuxfirmwarekit do that):
    or on the Linuxfirmwarekit to tell vendors that they did something
        debugging and submiting on old firmware code to mailing
      - The linuxfirmwarekit (http://www.linuxfirmwarekit.org)
        tries to detect firmware bugs. It currently is doing that
    What do we need such a stupid linuxfirmwarekit for?
        firmwarekit on his most preferred machines. He chooses one without
    I double checked with the firmwarekit.
    For more info about the linuxfirmwarekit and why this is needed
    http://www.linuxfirmwarekit.org
    While severity matches with the firmwarekit, it might be tricky
    But in the linuxfirmwarekit this should be shown as a real
    hardware/firmware so don't transmit one.
    uwb: i1480/GUWA100U: fix firmware download issues
    IOGear firmware versions >= 1.4.12224 fail to be downloaded because of a
    This patch was tested on both i1480 and GUWA100U HWAs, with all firmware
    Some hardware/firmware combinations (most notably an IOGear HWA using the i1480
    firmware) kill the host controller after issuing a GET_MAC_PHY_INFO command.
    Add the driver for downloading the firmware to an Intel i1480 device.
    handle the reset command differently since after reset, the firmware is
    auto the default firmware settings are used.
    The command CMD_802_11_PA_CFG is only sent to older firmware, as Dan Williams
    noted the command was no longer supported in firmware V9+.
    The firmware can provide lots of useful statistics about noise floor,
    as one can see on the huge jump, it's very plausible that firmware does not report the
    p54: better firmware support
    firmwares for all devices up to atleast 2.13.3.0.
     * newer firmwares are more stable and reliable than the old ones.
    > {pts/1}% ls /sys/firmware/edd
      V4L/DVB (8843): tda10048_firmware_upload(): fix a memory leak
    p54usb: support LM87 firmwares
    This patch adds the necessary changes to support LM87 firmwares.
    p54: enhance firmware parser to reduce memory waste
    The firmware headers provides the right values for extra head-/tailroom
    V4L/DVB (8843): tda10048_firmware_upload(): fix a memory leak
    causes firmware error.  Note: iwlwifi supports HW with up to 3 RX
    require sending Full-ROXN command to the firmware. Full-RXON requires
    This allows updating PHY firmware for one interface without removing
      iwlwifi: fix 64bit platform firmware loading
    sysfs: document files in /sys/firmware/sgi_uv/
    Document files in /sys/firmware/sgi_uv/.
    error directory structure for the target in /sys/firmware/ibft does not
    iwlwifi: fix 64bit platform firmware loading
    This patch fixes loading firmware from memory above 32bit.
    don't diff generated firmware files
    With the new firmware infrastructure in 2.6.27, some files are generated and shouldn't be
    needless rebuild of the firmware/ihex2fw tool.
       behavior whatever the firmware programmed it to.
    The firmware supports 8 different queues and not only 4.
    The firmware wants a extra 1 byte padding for every curve point. But someone forgot to put
    with fixes for v9 and later firmware too.
    And while we're at it, grab min/max TX power from the firmware and use
    atmel: return ENOENT on request_firmware failure
    Return errors from request_firmware() (like other drivers that do
    firmware load on device open) and make up plausible codes for other
    firmware may be missing when the result of setting IFF_UP is ENOENT.
    v2: fix reversed check of atmel_wakeup_firmware() in probe_atmel_card()
    Includes basic plumbing to get the data into firmware, and retrieve it.
    orinoco: Use extended Agere scans available on 9.x series firmwares
    firmwares.
    orinoco: Invoke firmware download in main driver
    Firmware download is enabled for Agere in orinoco_cs. Symbol firmware
    Symbol based firmware is restricted to only download on spectrum_cs
    The firmware names are hardcoded for each firmware type.
    orinoco: Extend hermes_dld routines for Agere firmware
    Add checks to avoid overrunning the firmware image or PDA areas.
    orinoco: Make firmware download logic more generic
    firmware image
    orinoco: Move firmware download functionality into new module
    passed straight to the firmware.
    The libertas thin firmware only supports usb devices, but the usb functions have
    the "libertas" driver, it uses a different (thin) firmware, that makes it
    mac80211: allow no mac address until firmware load
    report their MAC address until the firmware is loaded. While the address is not
    libertas: add sysfs hooks to update boot2 and persistent firmware
    To use these features, copy the boot2 and firmware images to /lib/firmware and:
    echo <firmware_image_name> > /sys/class/net/ethX/lbs_flash_fw
    libertas: support boot commands to write persistent firmware and bootloader
    Add locking and non-locking versions of if_usb_prog_firmware to support
    programming firmware after and before driver bring-up respectively.  Add more
    suitable error codes for firmware programming process.  Add capability checks
    to help work around broken firmware that assigns the same name to multiple
    Instead, let's rename the slot on behalf of the user. If firmware
    to help work around broken firmware that assigns the same name to multiple
    Instead, let's rename the slot on behalf of the user. If firmware
      [SCSI] qla2xxx: Correct synchronization of software/firmware fcport states.
    If the firmware page size used for collaborative memory overcommit
    [SCSI] qla2xxx: Correct synchronization of software/firmware fcport states.
    capable device, both software and firmware do not perform an
    firmware performs an ADISC without a follow-on PRLI, leaving
    stale 'initiator-only' data in the firmware's port database.
    tg3: Fix firmware event timeouts
    link state reporting to UMP firmware") introduced code that waits for
    previous firmware events to be serviced before attempting to submit a
    This bug revealed that not all firmware versions service driver events
    though.  Since we do not know which versions of the firmware do and don't
    the DASH firmware will be lost.
    In certain cases when ASF or other management firmware is running, the
    Mark interrupt scheme in very old firmware incompatible. Interrupt mask
    For NX3031 mac addr should be read from firmware. mac addr in flash
    is still valid, but can be overridden by firmware if running in
    myri10ge: myri10ge_fw_name also overrides the rss firmware
    When myri10ge_fw_name is given, use it to override the rss firmware
    USB: ohci: make distrust_firmware a quirk
    USB: usb-storage: quirk around v1.11 firmware on Nikon D4
    usb-storage: quirk around v1.11 firmware on Nikon D40
    Just as in earlier firmware versions, we need to perform this
    have the same firmware problems historically.
    firmware/memmap: cleanup
    Various cleanup the drivers/firmware/memmap (after review by AKPM):
    isight_firmware: fix a leak and double kfree()
      V4L/DVB (8582): set mts_firmware for em2882 based Pinnacle Hybrid Pro
    setting is handled by firmware, driver needs to send request to
    For old chip revisions / firmware, driver still sets it directly.
    for old firmware/chip.
    For NX3031, the phy is managed by firmware, so driver should avoid
    firmware on the host and the driver, not communicating.
    myri10ge: update firmware headers
    Update myri10ge firmware headers.
    time and even better, makes use of the standard firmware (rather than
    V4L/DVB (8582): set mts_firmware for em2882 based Pinnacle Hybrid Pro
    Pinnacle Hybrid Pro (2304:0226) requires mts_firmware flag to have any
      Fix IHEX firmware generation/loading
    firmware was at 7.0 or greater, and this function also acquires the
    will NOT allow the open if the firmware isn't 7.0, so iw_cxgb3 can
    Fix IHEX firmware generation/loading
    Fix both the IHEX firmware generation (len field always null, and EOF
      firmware: silence __fw_modbuild and __fw_modinst 'Nothing to be done' messages
    drivers/net/wireless/rt2x00/rt73usb.c: In function 'rt73usb_load_firmware':
    firmware: silence __fw_modbuild and __fw_modinst 'Nothing to be done' messages
    Leave the __fw_install one though; when 'make firmware_install' does
    libertas: only enable rtap with mesh firmware
    Since only mesh-enabled firmware has the CMD_802_11_MONITOR_MODE on
    rt2x00: rt61pci needs another millisecond after firmware upload
    After the hardware has indicated the firmware upload has completed
    - Do more ident rewriting on RAID volumes to handle firmware provided
    - Report the firmware revision and device layout in RAID mode
    cxgb3: Allow 64KB firmware images.
    rt2x00: Large vendor requests for rt73usb firmware upload and beacons
    Switches rt73usb to use large vendor requests for firmware
    is useful for firmware uploads, beacon templates and keys, all
    Modules linked in: cpufreq_powersave cpufreq_ondemand cpufreq_userspace cpufreq_conservative ext3 jbd sd_mod pata_pcmcia libata scsi_mod pcmcia loop firmware_class pxafb cfbcopyarea cfbimgblt cfbfillrect pxa2xx_cs pxa2xx_core pcmcia_core snd_pxa2xx_ac97 snd_ac97_codec ac97_bus snd_pxa2xx_pcm snd_pcm_oss snd_mixer_oss snd_pcm snd_timer snd isp116x_hcd soundcore rtc_sa1100 snd_page_alloc pxa25x_udc usbcore rtc_ds1307 rtc_core
    Modules linked in: cpufreq_powersave cpufreq_ondemand cpufreq_userspace cpufreq_conservative ext3 jbd sd_mod pata_pcmcia libata scsi_mod pcmcia loop firmware_class pxafb cfbcopyarea cfbimgblt cfbfillrect pxa2xx_cs pxa2xx_core pcmcia_core snd_pxa2xx_ac97 snd_ac97_codec ac97_bus snd_pxa2xx_pcm snd_pcm_oss snd_mixer_oss snd_pcm snd_timer snd isp116x_hcd soundcore rtc_sa1100 snd_page_alloc pxa25x_udc usbcore rtc_ds1307 rtc_core
      [SCSI] qla2xxx: Issue proper ISP callbacks during stop-firmware.
    firmware: fix memmap printk format warnings
    Fix firmware/memmap printk format warnings:
      drivers/firmware/memmap.c:156: warning: format '%llx' expects type 'long long unsigned int', but argument 4 has type 'resource_size_t'
      drivers/firmware/memmap.c:161: warning: format '%llx' expects type 'long long unsigned int', but argument 4 has type 'resource_size_t'
    [SCSI] qla2xxx: Issue proper ISP callbacks during stop-firmware.
    callbacks during recovery, a stop-firmware failure could result
    [SCSI] qla2xxx: Verify the RISC is not in ROM code if firmware-load is disabled.
    firmware is in fact non-ROM code.  The non-ROM Get-ID mailbox
    The firmware group has suggested that FCE (Fibre Channel Event)
      firmware: create firmware binaries during 'make modules'.
    firmware: create firmware binaries during 'make modules'.
      powerpc/pseries: Utilities to set firmware page state
    Convert PCI err device from platform to open firmware of_dev to comply
    firmware: use memory_read_from_buffer()
    sx: push BKL down into the firmware ioctl handler
    Also fix the capability checking for firmware load.
    rio: push down the BKL into the firmware ioctl handler
    ip2: push BKL down for the firmware interface
        longer be ignored (boot firmware may not have enabled them).
    partitions.  The firmware will balance memory between the partitions
    powerpc/pseries: Utilities to set firmware page state
    Newer versions of firmware support page states, which are used by the
    flag in powerpc_firmware_features from the rtas ibm,get-system-parameters
     firmware_has_feature(FW_FEATURE_CMO)
    With some combinations of chips, firmware and drivers, such as the DEC
    firmware used for the initial console may not expect the state of the chip
    With some combinations of chips, firmware and drivers, such as the Zilog
    firmware used for the initial console may not expect the state of the chip
    firmware, as some registers it would have to examine are write-only.
    new firmware image).
    Add support for the following operations to mlx4 when device firmware
    V4L/DVB (8423): cx18: remove firmware size check
    Removed it, as this allows the user to load different firmware versions.
    The module needs an external firmware file.
    Change driver version to 4.0.0. Netxen firmwares as old as
    MAC addr, multicast filters, mtu are set through firmware commands
    in firmware v4.0.0+ because of virtualization of physical ports.
    Link status is also read from registers allocated by firmware for
    firmware commands for netxen firmware v4.0.0+.
    netxen: pci probe and firmware init changes
      for flashing firmware.
    Add ICM_ERROR firmware status code.  In mapping to errnos, -ENFILE
    Some firmware versions report a Local CA ACK Delay of 0.  In that
    Certain firmware versions sometimes cause spurious PATH_MIG events to
    {request,release}_firmware() dummies for the case of the actual
    and the firmware in some cases sets a really bad color palette. This
    this encoding set by the firmware, which happens on some SLOF
    change state (due to them being slaves of WLSW in firmware/hardware, but
    that reality not being always properly exported by the thinkpad firmware).
    On ThinkPads where the WLSW switch exists, the firmware or the hardware
    firmware interfaces, though... so the state thinkpad-acpi was reporting
    V4L/DVB (8312): sms1xxx: add firmware filenames to board properties for stellar and nova
    Assign the following firmware filenames:
    V4L/DVB (8311): sms1xxx: support device-specific firmware filenames on stellar usb1 sticks
    Add the capability to define device-specific firmware filenames for the SMS1010,
    with a mechanism to fall back to the generic firmware if the device-specific
    firmware is not present.
    V4L/DVB (8306): sms1xxx: log firmware download process by default
    smscoreapi.c: In function 'smscore_load_firmware_from_file':
    smsusb.c: In function 'smsusb1_load_firmware':
    V4L/DVB (8301): sms1xxx: add capability to define device-specific firmware filenames
    Add the capability to define device-specific firmware filenames for the SMS1150,
    with a mechanism to fall back to the generic firmware if the device-specific
    firmware is not present.
    V4L/DVB (8168): cx18: Upgrade to newer firmware & update cx18 documentation.
    firmware. Update the documentation where the firmware can be
    V4L/DVB (8165): cx18: fix v4l-cx23418-dig.fw firmware load.
    - reset the audio firmware (required for this board, harmless for the
    The cx18 can support transport streams with newer firmwares. Add a TS
    V4L/DVB (8098): xc5000: add module option to load firmware during driver attach
    The xc5000 firmware download process can be slow on certain devices.
    Add a module option, "init_fw" to perform the firmware download during
    xc5000_attach(), which would get the firmware download over with well
    bnx2: Update TPAT firmware
    /sys/firmware/edd/, no matter how many devices are actually present.
    Also fix unwanted rebuilds of the firmware/ihex2fw tool by including
    However, for PNPBIOS and ACPI devices, the OS uses firmware interfaces
    learns the correct order by using firmware interfaces that return the
    come from the firmware "possible resource settings" list.  Each entry
    instead of the list the firmware expects, which looks like this:
    In PNPBIOS and ACPI, we configure a device by giving firmware a
    as the "template" list we got from the firmware in the first
    ACPI: Enhance /sys/firmware/interrupts to allow enable/disable/clear from user-space
    Fix 'make clean' and .gitignore for firmware/ directory.
      ieee1394: sbp2: fix spindown for PL-3507 and TSB42AA9 firmwares
      firewire: fw-sbp2: fix spindown for PL-3507 and TSB42AA9 firmwares
    by the firmware in register dumps.
    be 12.  However, new ConnectX firmware can support a minimum
    To preserve firmware compatibility with released mlx4 drivers, the
    firmware will continue to return 12 as before for log_page_sz in
    process MADs of this class through the MAD_IFC firmware command.
    QUERY_DEV_CAP firmware command.  When modifying a QP to RTR, the max
    patch sets all QPs to the max value allowed as returned from firmware.
    Negotiate with boot code and ASF firmware to see if it can
    by firmware, the VLAN tag will be kept in the RX packet
    ack=1 means wait for firmware acknowledgement, and ack=0
    Jul 11 15:39:29 wangchen kernel: Modules linked in: ipip tunnel4 nfsd lockd nfs_acl auth_rpcgss sunrpc exportfs ipv6 snd_pcm_oss snd_mixer_oss snd_seq snd_seq_device af_packet binfmt_misc button battery ac loop dm_mod usbhid ff_memless pcmcia firmware_class ohci1394 8139too mii ieee1394 yenta_socket rsrc_nonstatic pcmcia_core ide_cd_mod cdrom snd_intel8x0 snd_ac97_codec ac97_bus snd_pcm i2c_i801 snd_timer snd i2c_core soundcore snd_page_alloc rng_core shpchp ehci_hcd uhci_hcd pci_hotplug intel_agp agpgart usbcore ext3 jbd ata_piix ahci libata dock edd fan thermal processor thermal_sys piix sd_mod scsi_mod ide_disk ide_core [last unloaded: freq_table]
    Fix accidental reference to tg3 firmware
    We're not updating the tg3 driver to use request_firmware() yet, but a
    reference to its firmware accidentally slipped in as part of commit
    c4667746 ("dabusb: use request_firmware()"). Remove it again.
    firmware: Correct dependency on CONFIG_EXTRA_FIRMWARE_DIR
    to update the manual dependency in firmware/Makefile, so it was
    Merge branch 'for-2.6.27' of git://git.infradead.org/users/dwmw2/firmware-2.6
    * 'for-2.6.27' of git://git.infradead.org/users/dwmw2/firmware-2.6: (64 commits)
      firmware: convert sb16_csp driver to use firmware loader exclusively
      dsp56k: use request_firmware
      edgeport-ti: use request_firmware()
      edgeport: use request_firmware()
      vicam: use request_firmware()
      dabusb: use request_firmware()
      cpia2: use request_firmware()
      ip2: use request_firmware()
      firmware: convert Ambassador ATM driver to request_firmware()
      whiteheat: use request_firmware()
      ti_usb_3410_5052: use request_firmware()
      emi62: use request_firmware()
      emi26: use request_firmware()
      keyspan_pda: use request_firmware()
      keyspan: use request_firmware()
      ttusb-budget: use request_firmware()
      kaweth: use request_firmware()
      smctr: use request_firmware()
      firmware: convert ymfpci driver to use firmware loader exclusively
      firmware: convert maestro3 driver to use firmware loader exclusively
    firmware: convert sb16_csp driver to use firmware loader exclusively
    dsp56k: use request_firmware
    edgeport-ti: use request_firmware()
    edgeport: use request_firmware()
    vicam: use request_firmware()
    HEX record format for this firmware -- because that gives us a simple
    dabusb: use request_firmware()
    cpia2: use request_firmware()
    Thanks for Jaswinder Singh for converting the firmware blob itself to ihex.
      pcmcia: allow for longer CIS firmware files
    rt2x00: Reset LED assoc status after firmware update
    must be reset after the firmware has been uploaded to the
    harmful in SMP systems where the firmware has already synchronized the
    firmware flaw.
    ieee1394: sbp2: fix spindown for PL-3507 and TSB42AA9 firmwares
    Reported by Tino Keitel:  PL-3507 with firmware from Prolific does not
    firewire: fw-sbp2: fix spindown for PL-3507 and TSB42AA9 firmwares
    Reported by Tino Keitel:  PL-3507 with firmware from Prolific does not
    Some FireWire disk firmwares do not stop the motor if power condition is
    for now.  The three firmwares which suffer from above mentioned problems
      echo "init=/bin/bash" > /sys/firmware/reipl/ccw/parm
    [S390] cio: Use locks when accessing /sys/firmware/cpi data.
    Mutex locks are used to avoid problems when /sys/firmware/cpi data
    When the firmware is in Fault state it will be identifed only when the next time
    regular interval to check the status of the firmware and if it is in Fault
    state, then the firmware will be reset by the driver.
    ip2: use request_firmware()
    firmware: convert Ambassador ATM driver to request_firmware()
    whiteheat: use request_firmware()
    ti_usb_3410_5052: use request_firmware()
    emi62: use request_firmware()
    emi26: use request_firmware()
    keyspan_pda: use request_firmware()
    keyspan: use request_firmware()
    ttusb-budget: use request_firmware()
    kaweth: use request_firmware()
    smctr: use request_firmware()
    firmware: convert ymfpci driver to use firmware loader exclusively
    firmware: convert maestro3 driver to use firmware loader exclusively
    firmware: convert korg1212 driver to use firmware loader exclusively
    ihex: add ihex2fw tool for converting HEX files into firmware images
    Fix up 'firmware_install' to be able to build $(hostprogs-y) too.
    ihex: request_ihex_firmware() function to load and validate firmware
    Some devices need their firmware as a set of {address, len, data...}
    Also a helper function which can verify that a 'struct firmware'
    firmware: Add firmware installation to modules_install, add firmware_install
    For 'make modules_install', install any firmware required by
    Also add a 'make firmware_install' target which doesn't depend on the
    configuration, but installs _all_ available in-kernel-tree firmware into
    $(INSTALL_FW_PATH), which defaults to /lib/firmware. This is intended
    packages containing firmware.
    firmware: Add CONFIG_FIRMWARE_IN_KERNEL option.
    This will control whether we build firmware into the kernel image for
    _every_ driver which we convert to request_firmware(), to avoid a
    firmware: Add CONFIG_EXTRA_FIRMWARE option
    This allows arbitrary firmware files to be included in the static kernel
    where the firmware loader can find them without requiring userspace to
    firmware: allow firmware files to be built into kernel image
    Some drivers have their own hacks to bypass the kernel's firmware loader
    and build their firmware into the kernel; this renders those unnecessary.
    Other drivers don't use the firmware loader at all, because they always
    want the firmware to be available. This allows them to start using the
    firmware loader.
    A third set of drivers already use the firmware loader, but can't be
    firmware: make fw->data const
    In preparation for supporting firmware files linked into the static
    const pointer is being passed to copy_from_user() to load the firmware into.
    This is okay in this case because the function has allocated the firmware
    struct itself, but the const qualifier is part of the firmware struct - so the
    firmware into.  This is okay in this case because the function has allocated
    the firmware struct itself, but the const qualifier is part of the firmware
    const pointer is being passed to copy_from_user() to load the firmware into.
    This is okay in this case because the function has allocated the firmware
    struct itself, but the const qualifier will be part of the firmware
    isight: treat firmware data as const
    x86 microcode: firmware data is const
    dell_rbu: firmware data is const
    ymfpci: treat firmware data as const
    Standardise both in-kernel and loaded firmware to be stored as
    maestro3: treat firmware data as const
    The maestro3 driver is byte-swapping its firmware to be host-endian in
    Doing that means that we need to switch the in-tree firmware to be
    instead, and use it on the in-tree firmware instead of the loaded
    firmware. It's a bit suboptimal but doesn't matter much right now
    tuners: treat firmware data as const
    gp8psk: treat firmware data as const
    cxusb: treat firmware data as const
    dvb frontends: treat firmware data as const
    ttusb-dec: treat firmware data as const
    bt8xx: treat firmware data as const
    cxgb3: treat firmware data as const
    irda-usb: treat firmware data as const
    atmel: treat firmware data as const
    p54: treat firmware data as const
    rt2x00: treat firmware data as const
    zd1201: treat firmware data as const
    aic94xx: treat firmware data as const
    cxacru: treat firmware data as const
    ueagle-atm: treat firmware data as const
    vx: treat firmware data as const
    pcxhr: treat firmware data as const
    riptide: treat firmware data as const
    vx222: treat firmware data as const
    myri10ge: treat firmware data as const
    cx25840: treat firmware data as const
    cyclades: treat firmware data as const
    bluetooth: treat firmware data as const
    libertas: treat firmware data as const
    const pointer is being passed to copy_from_user() to load the firmware into.
    This is okay in this case because the function has allocated the firmware
    struct itself, but the const qualifier is part of the firmware struct - so the
    bits are set to 1 by firmware at boot time, but are not restored
    This patch uses the /sys/firmware/memmap interface provided in the last patch
    firmware_map_add_early().
    sysfs: add /sys/firmware/memmap
    This patch adds /sys/firmware/memmap interface that represents the BIOS
        /sys/firmware/memmap/0/start   (hex number)
        cd /sys/firmware/memmap
     3. The function firmware_map_add() and firmware_map_add_early()
    and 'mem'), the /sys/firmware/memmap tree represents the unmodified memory
    map provided via the firmware. So kexec can:
    firmware: fix the request_firmware() dummy
    > (.text+0x33bab): undefined reference to `request_firmware'
    > (.text+0x33c3f): undefined reference to `release_firmware'
    potential hardware and firmware braindamage.
    firmware interface and retrieve all their data from the device tree).
    in the boot wrapper for Virtex targets without firmware.  Normally the
    firmware.
    reloading the firmware.
    powerpc: Consolidate CPU and firmware feature fixup macros
    The CPU and firmware feature fixup macros are currently spread across
    three files, firmware.h, cputable.h and asm-compat.h.  Consolidate them
    it's used for CPU features as well as firmware features.  Move it into
    powerpc: Tell firmware we support architecture V2.06
    lets the firmware know we support the 2.06 architecture.
    firmware allows.
    Also tell firmware that we know about POWER7.
      V4L/DVB (8097): xc5000: check device hardware state to determine if firmware download is needed
      V4L/DVB (8067): cx18: Fix firmware load for case when digital capture happens first
    b43: Add debugfs firmware debugging knob
    This adds a firmware debugging knob to debugfs.
    With this knob it's possible to enable advanced runtime firmware
    b43: Add simple firmware watchdog
    This adds a simple firmware watchdog for the opensource firmware.
    This will check every 15 seconds, if the firmware zeroed out the watchdog
    register. The firmware will do this in its eventloop.
    This is needed in order to implement firmware and driver debugging
    V4L/DVB (8097): xc5000: check device hardware state to determine if firmware download is needed
    This patch ensures that the xc5000 will have firmware loaded as needed if the
    GPIO pin is likely incorrect as the tuner firmware cannot be reloaded without a
    V4L/DVB (8067): cx18: Fix firmware load for case when digital capture happens first
    start has been changed to load the firmware if not already loaded.  Also fixed a
    When an error occurs at firmware loading, sometimes, tda1004x stops answering.
    A fresh copy of v.29 firmware, using get_firmware, is leading to an invalid
    firmware:
    tda1004x: found firmware revision ff -- invalid
    tda1004x: found firmware revision ff -- invalid
    tda1004x: waiting for firmware upload...
    tda1004x: Error during firmware upload
    tda1004x: found firmware revision ff -- invalid
    tda1004x: firmware upload failed
    Sometimes, loading/unloading this firmware makes tda1004x to return an invalid
    (unless they are tied by firmware/hardware somehow).
    pcmcia: allow for longer CIS firmware files
    Don't be more zealous with memory than the firmware class core.
    allocate all ICM pages passed to the FW.  Once firmware with a fix is
    released, we can make the workaround conditional on firmware version.
    bnx2: Update firmware to support multi rx rings.
      netxen: download firmware in pci probe
    netxen: download firmware in pci probe
    Downloading firmware in pci probe allows recovery in case of
    firmware failure by reloading the driver.
    Also reduced delays in firmware load.
    atm: [fore200e] convert to use request_firmware()
      isight_firmware: Avoid crash on loading invalid firmware
    isight_firmware: Avoid crash on loading invalid firmware
    firmware. Ensure that the firmware buffer is not overrun, while still
      drivers/built-in.o: In function `isight_firmware_load':
      isight_firmware.c:(.text+0x1ade08): undefined reference to `request_firmware'
      isight_firmware.c:(.text+0x1adf9c): undefined reference to `release_firmware'
    check_sal_cache_flush is used to detect broken firmware that drops
    The rx5670 has known buggy firmware, where SAL_CACHE_FLUSH drops
        http://bugzilla.kernel.org/show_bug.cgi?id=9487 buggy firmware expects four-byte IRQ resource descriptor (was: Serial port disappears after Suspend on Toshiba R25)
    eHEA has to call firmware functions in order to change the mac address
    is down these firmware calls would fail and are therefore not executed.
    shpchp: check firmware before taking control
    control from firmware.
        fails to get control from the firmware. But current shpchp
        doesn't check the return value of get_hp_hw_control_from_firmware().
    When we get a "PS sleep" event, we have to confirm this to the firmware.
    firmware won't send us a response. if_cs_host_to_card() is setting
      V4L/DVB (7990): Fix entry for PowerColor RA 330 and make it run with firmware version 2.7
    V4L/DVB (7990): Fix entry for PowerColor RA 330 and make it run with firmware version 2.7
      tuner-xc2028.c:(.text+0xbd896): undefined reference to `request_firmware'
      tuner-xc2028.c:(.text+0xbdd7a): undefined reference to `release_firmware'
      xc5000.c:(.text+0xc68e6): undefined reference to `request_firmware'
      xc5000.c:(.text+0xc6abe): undefined reference to `release_firmware'
      [SCSI] qla2xxx: Extend the 'fw_dump' SYSFS node the ability to initiate a firmware dump.
      [SCSI] qla2xxx: firmware semaphore to mutex
    libertas: speeds up downloading of CF firmware
    naps. Makes downloading the firmware slightly faster.
    (IORESOURCE_MEM, etc), so that we match the list from firmware
    (and the normal firmware) are used.  To enable msi-x, multi-slice
    Once firmware has been uploaded, they disconnect and reconnect with a
    UVC devices, it makes sense to provide the firmware loading
    handle the case where the device loses its firmware during hibernation
    "this_id" from a value returned in a firmware PortFacts response.  For my
    particular test case (SAS) the firmware id assigned to the initiator was
    make myri10ge_get_firmware_capabilities() static
    myri10ge_get_firmware_capabilities() static.
    Some devices running some WinCE firmware (with SC_* Samsung processors
    b43: Add firmware markers support
    This adds support for firmware markers.
    With firmware markers it's easily possible to check whether the
    firmware runs some codepath or not. The driver will throw a message
    when the firmware executes a MARKER(x).
    Add a firmware panic reason code that doesn't trigger a restart.
    This is useful for firmware debugging and avoiding endless
    restart loops. We can use FWPANIC_DIE to halt the firmware at a
    b43: Allow running without PCM firmware
    This patch adds code to allow running the device without PCM firmware loaded.
    Without PCM firmware we don't have hardware accelerated crypto on
    b43: Add hooks for firmware debugging
    This patch adds some hooks for firmware debugging.
    b43: Fix typo in firmware file name for 802.11 cores with rev 13
    and coded the wrong file name for the initvals firmware.
    4) drops a WEP packet which has been garbaged by firmware. This can
    This patch only implements the driver/firmware interface.
     - We were trying to access mesh stats even on meshless firmware.
      libertas: fix command timeout after firmware failure
    use older versions of firmware that do not already handle it.  The last
    Guest's firmware needs an iosapic with 48 pins for ia64 guests.  Needed to
    returned by the firmware as the max_sge value when device properties
    are queried.  However, the firmware also reports a limit on the
    libertas: fix command timeout after firmware failure
    [SCSI] qla2xxx: Extend the 'fw_dump' SYSFS node the ability to initiate a firmware dump.
    Recent firmwares no longer return the 'number of buffers' in
    [SCSI] qla2xxx: firmware semaphore to mutex
    request_firmware'
    :moxa.c:(.devinit.text+0x7e6e): undefined reference to release_firmware'
    demo firmware.  It should be removed.
    [POWERPC] pseries/firmware.c should include pseries/pseries.h
    implemented in firmware.c, so the latter should include the
    reset the device after firmware download.
            tristate "Userspace firmware loading support"
    xc5000.c:(.text+0x2dacd): undefined reference to `request_firmware'
    xc5000.c:(.text+0x2daf0): undefined reference to `release_firmware'
    xc5000.c:(.text+0x2db85): undefined reference to `release_firmware'
    firmware setup (in fact it breaks second uart).
    work properly.  These are done in the firmware, normally, but Linux
    shouldn't need to rely on the firmware running such things (someone
    could disable the PHY support in the firmware to save space, for instance).
    driver and the firmware.  The size of the interrupt
    myri10ge: cleanup retrieving of firmware capabilities
    Add myri10ge_get_firmware_capabilities() to retrieve TSO6 and
    interrupt slots capabilities from the firmware.
    firmware has DMA'ed the response.
    myri10ge: update firmware headers
    Update myri10ge firmware headers.
      sparc64: Work around memory probing bug in openfirmware.
    sparc64: Work around memory probing bug in openfirmware.
      cxgb3: Use CAP_SYS_RAWIO for firmware
    cxgb3: Use CAP_SYS_RAWIO for firmware
            Reload new firmware
    The firmware on MPC8610HPCD boards enables ULI ethernet and leaves it
    machw mechanism, it needs to be replaced by a fake openfirmware tree.
      bnx2: Update RV2P firmware for 5709.
      tg3: Add link state reporting to UMP firmware
    bnx2: Update RV2P firmware for 5709.
    The new RV2P firmware fixes 2 issues:
       with firmware management packets.  This was caused by the old
       firmware DMA'ing to the wrong address.
    tg3: Add link state reporting to UMP firmware
    "Universal Management Port".  This feature is implemented in firmware
    It turns out that the UMP firmware needs to know the current status
    of the link.  Because the firmware cannot touch the PHY registers while
    firmware will not operate correctly.
    This patch implements the new handshake with the UMP firmware.  Since
      [SCSI] megaraid_mbox: fix Dell CERC firmware problem
    For firmware that supports the feature(s), add the ability to start or
    firmware is using), and the list of firmware taken memory.
    Char: moxa, add firmware loading fix
    Char: moxa, merge c2xx and c320 firmware loading
    Char: moxa, add firmware loading
    Substitute ioctl load firmware interface by kernel firmware api.
    [SCSI] megaraid_mbox: fix Dell CERC firmware problem
    Newer Dell CERC firmware (>= 6.62) implement a random deletion handling
    So we disable the random deletion support if the offending firmware is
    firmware and driver changes to be done and tested now.
     - New firmware support for peer-to-peer mode:
      make pciehp_acpi_get_hp_hw_control_from_firmware()
    firmware loader: printk when requesting firmware
    Before requesting firmware, printk a message saying what we're requesting. This
    firmware: replace remaining __FUNCTION__ occurrences
    both the ACPI firmware and thinkpad-acpi to try to change the brightness at
    The switch to the ACPI backlight mode in the firmware is designed to be
    safe to use only as an one way trapdoor.  One is not to force the firmware
    When in ACPI mode, the backlight firmware just issues (standard) events for
    1. Place the ThinkPad firmware in ACPI backlight control mode
    interrupt numbers obtained from the firmware device tree, rather than
    to work around broken hardware or firmware, or (2) use the sysfs
    the firmware device tree pathname of the node that needs to be removed.
    metronomefb: don't free firmware twice in error path
    Right now, if request_irq or anthing after it fails than we free the firmware
      [SCSI] qla2xxx: Collapse RISC-RAM retrieval code during a firmware-dump.
    [SCSI] qla2xxx: Collapse RISC-RAM retrieval code during a firmware-dump.
    from guest firmware.
    ACPI, we don't bother checking the E820 table.  The PCI Express firmware
    it were requesting for setting a frequency on a place where firmware name
    make pciehp_acpi_get_hp_hw_control_from_firmware()
    this_patch_makes_the_needlessly_global_pciehp_acpi_get_hp_hw_control_from_firmware_static
    supposed to be unoccupied to verify that the firmware hasn't left the
    exclusive (i.e. firmware or hardware might change its state behind the
    additional properties it is compatible with the open firmware
    additional properties it is compatible with the open firmware
      V4L/DVB (7730): tuner-xc2028: Fix SCODE load for MTS firmwares
      V4L/DVB (7721): pvrusb2: Restructure cx23416 firmware loading to have a common exit point
      V4L/DVB (7720): pvrusb2: Fix bad error code on cx23416 firmware load failure
    V4L/DVB (7730): tuner-xc2028: Fix SCODE load for MTS firmwares
    There are different tables for MTS firmwares. This should be taken into
    account while selecting the proper firmware.
    V4L/DVB (7721): pvrusb2: Restructure cx23416 firmware loading to have a common exit point
    V4L/DVB (7720): pvrusb2: Fix bad error code on cx23416 firmware load failure
    3) seek_firmware were wanting an exact match for firmware type. This is
       wrong. As result, no SCODE firmware were loaded;
    4) A few files were including the wrong file for seeking demod firmwares;
    5) XC3028_FE_DEFAULT can be used, if user doesn't want to load a firmware.
    to test this firmware
    V4L/DVB (7609): em28xx-core: speed-up firmware load
       10x.  Load time for BASE firmware went from 13s to .973s
    V4L/DVB (7605): tuner-xc3028: Avoids too much firmware reloads
    V4L/DVB (7439): tuner-xc2028: Adds an option to allow forcing to load an specific firmware name
    There are a number of different firmware versions and variants, shipped
    an specific firmware name to be loaded. This helps to test for a firmware that
    This board works only with non-mts firmware
    V4L/DVB (7311): pvrusb2: Allow digital streaming without encoder firmware
    streaming is OK in this case even when the encoder's firmware is not
    V4L/DVB (7269): cx88: Powercolor Angel works only with firmware version 2.5
    V4L/DVB (7248): dabfirmware.h add missing license
    that the firmware is BSD licensed.
    firmware description the init routine returns an error and doesn't
    is in a clean state.  However, it doesn't wait for firmware to
    The solution is to wait for firmware to complete its work before
    the storage commands the moment it receives a GET_REPORT. The firmware
      firmware_sample_driver.c: fix coding style
    Fixed up trivial conflicts in firmware_sample_driver.c
    firmware_sample_driver.c: fix coding style
    Fix coding style in firmware_sample_driver...
    Add /sysfs/firmware/ibft/[initiator|targetX|ethernetX] directories along with
    # for a in `find /sys/firmware/ibft/ -type f -print`; do  echo -n "$a: ";  cat $a; done
    /sys/firmware/ibft/target0/target-name: iqn.2007.com.intel-sbx44:storage-10gb
    /sys/firmware/ibft/target0/nic-assoc: 0
    /sys/firmware/ibft/target0/chap-type: 0
    /sys/firmware/ibft/target0/lun: 00000000
    /sys/firmware/ibft/target0/port: 3260
    /sys/firmware/ibft/target0/ip-addr: 192.168.79.116
    /sys/firmware/ibft/target0/flags: 3
    /sys/firmware/ibft/target0/index: 0
    /sys/firmware/ibft/ethernet0/mac: 00:11:25:9d:8b:01
    /sys/firmware/ibft/ethernet0/vlan: 0
    /sys/firmware/ibft/ethernet0/gateway: 192.168.79.254
    /sys/firmware/ibft/ethernet0/origin: 0
    /sys/firmware/ibft/ethernet0/subnet-mask: 255.255.252.0
    /sys/firmware/ibft/ethernet0/ip-addr: 192.168.77.41
    /sys/firmware/ibft/ethernet0/flags: 7
    /sys/firmware/ibft/ethernet0/index: 0
    /sys/firmware/ibft/initiator/initiator-name: iqn.2007-07.com:konrad.initiator
    /sys/firmware/ibft/initiator/flags: 3
    /sys/firmware/ibft/initiator/index: 0
    ftp://ftp.software.ibm.com/systems/support/system_x_pdf/ibm_iscsi_boot_firmware_table_v1.02.pdf
    firmware: clean up samples for coding style issues
    This fixes up a number of coding style issues in the firmware sample files.
    firmware: move firmware_class from Documentation/ to samples/
    Move the firmware_class sample drivers to samples/ so that they are
    firmware.
    kexec is independent of the system firmware.
    tree is correct and reflects what the firmware did.
    firmware could find it.
    priv->resp_idx under the driver spinlock.  The firmware specs only permit
    one in the official i2c-tiny-usb firmware since i think it makes sense to get
    the change into the kernel before releasing a modified firmware.
    i2c-tiny-usb firmware versions (avrusb v1.06 and up, usbtiny v2.06 and up).
    When doing firmware-assisted scanning, iwlwifi drivers do not
    [SCSI] qla2xxx: Update firmware filenames for new ISP parts.
    problem is that the firmware can change the handle associated with the
    2. New firmware requires that one marker iocb be issued for each task
    When Driver sent wrong frame count to firmware.  As this particular
    Provide a facility to use the request_firmware() interface to get a SAS
    [POWERPC] bootwrapper: Add a firmware-independent simpleboot target.
    how to trigger a "HOST AWAKE" event from the firmware, so this part is
    * only overwrite priv->current_addr once the firmware call succeeded
    Other OS WOL support was introduced in PS3 system firmware 2.20.
    support was introduced in PS3 system firmware 2.20.
    This has nowhere been used. Note: in the firmware manual this was
    which describes the interface between the kernel and firmware or
    Recent netxen firmware has new scheme of generating MSI interrupts, it
    The driver will be able to deal with older firmware as well.
    * firmware for the CF card supports power saving
    subsequent MAC callback attempts to issue a firmware command.
    booting.  The openfirmware code will only map up to a certain amount
    As the result of a previous change that delayed the loading of the firmware,
    table not being found in the firmware. This patch moves the filter table
    check to ensure it's only done after the firmware has been loaded.
    The QS2x blades ships with v2.54 of the firmware, which use the same
    a trap in real mode while calling firmware.
    Also do other misc clean ups. Since the only input from firmware is non
      ACPI: add _PRT quirks to work around broken firmware
    rt2x00: Move firmware checksumming to driver
    If the firmware of the PS3 wireless hardware meets these beacons, it abandons parsing
      [POWERPC] QE: Make qe_get_firmware_info reentrant
      [POWERPC] QE: Fix QE firmware uploading limit
    ACPI: add _PRT quirks to work around broken firmware
    information from firmware.  This does not fix any regressions
      firmware: provide stubs for the FW_LOADER=n case
    firmware: provide stubs for the FW_LOADER=n case
    libsas has a case where it uses the firmware loader to provide services,
    stubs for the firmware loader API in the FW_LOADER=n case.
    [POWERPC] QE: Make qe_get_firmware_info reentrant
    called if the firmware was uploaded from the boot loader
    or the first time it was called if the firmware was
    [POWERPC] QE: Fix QE firmware uploading limit
    Fix a typo in qe_upload_firmware() that prevented uploading firmware on
    tery nvram rtc sr_mod ac sg firmware_class button processor cdrom
    want to do wierd things with the firmware and interrupts, etc.
    /sys/firmware/reipl/nss/name contains the nss name when defsys or
    based on info from our firmware guys but that killed performance. Turns out
    what earlier firmwares did by explicitly cracking open the
    initial stop-firmware mailbox command fails with a time-out
    stop-firmware/detect-failure/reset-risc loop, continue with
    driver unloading and discard the stop-firmware requirement.
    ipw2100/ipw2200: note firmware loading caveat in Kconfig help text
    Most wireless drivers load their firmware at interface open time, which
    load their firmware at probe time because firmware is required to read the
    has made special arrangements (including firmware plus a loader in the
    rt2x00: Driver requiring firmware should select crc algo
    when performing a checksum on the firmware.
    This patch adds kdump support to the ehea driver. As the firmware doesn't free
    The PNP device gets a "firmware_node" link pointing to the ACPI device,
    a "physical_node" link pointing back to the PNP device.  Other firmware
    firmware tables to the rest of the system.
      V4L/DVB (7200): Fix FM firmware loading
    The idea of this thing is we could save/restore the firmware's
    palette when breaking in and out of the firmware prompt.
    And we can provide better debugging and firmware command
    V4L/DVB (7200): Fix FM firmware loading
    Else several firmwares will deny the re-login because they somehow
    Also a firmware ID is printed. This is a unique identifier blob for a specific
    version of the firmware. This ID is attached to a specific version of the firmware
    This helps users to select the right firmware for their device.
    firmware for the driver. (The script will grep the .ko for the "Firmware-ID: xxx" string.)
    While the driver might still support other versions of the firmware for backward
    b43legacy: fix firmware load message level
    The firmware version information should always get printed. Not only on a
    b43legacy: add firmware information to modinfo
    This adds the firmware ID to modinfo.
    b43: Fix firmware load message level
    The firmware version information should always get printed. Not only
    b43: Add firmware information to modinfo
    This adds the firmware ID to modinfo.
    Also a firmware ID is printed. This is a unique identifier blob for a specific
    version of the firmware. This ID is attached to a specific version of the firmware
    This helps users to select the right firmware for their device.
    firmware for the driver. (the script will grep the .ko for the "Firmware-ID: xxx" string.
    While the driver might still support other versions of the firmware for backward
    PS3 firmware 1.94 added the source of power and reset events to the
    bootwrapper.  Changes in the PS3 system firmware 2.20 cause this bug
    firmwares don't cause such a catastrophic failure, and so this
    firmware.
    WRs.  However, NEC is only supported starting with firmware 2.2.232,
    so we use constant-sized WRs for older firmware.  And, since MLX QPs
      [POWERPC] Fix cell IOMMU null pointer explosion on old firmwares
    set at startup time.  Some future boot loaders or firmware could have this
    [POWERPC] Fix cell IOMMU null pointer explosion on old firmwares
    it on older firmwares that don't contain the "dma-ranges" properties.
    > uses the same RAID firmware vendor, it would've
    > probably been better if the RAID firmware vendor
    > fixed the firmware to not set the VALID bit if the
    BIT_2 of the firmware attributes is only valid on FW-interface-2
    incorrect initialize-firmware mailbox command to be issued for
    [SCSI] qla2xxx: Clear EFT buffer before firmware reinitialization.
    [SCSI] qla2xxx: Add MODULE_FIRMWARE hint for ISP25XX firmware.
    the firmware file for the dell_rbu driver changes, which breaks all of
    also in preparation to handle the handover from the initial firmware-based
    ACPI: create /sys/firmware/acpi/interrupts
    See Documentation/ABI/testing/sysfs-firmware-acpi
       according to whichever boot firmware your board expects.
    - firmware_revision, product_id, vendor_id: used once, remove from struct
    - firmware_revision_num: only written to once
    firmware is not able to ACK any received packets anymore.
    The firmware QUERY_ADAPTER command does not return vendor_id,
    For memfree devices, the firmware QUERY_ADAPTER command does not
    this in the driver and firmware.
    drivers/firmware/: Spelling fixes
    are only valid if they are reported as available by the firmware. Since
    Handle some HKEY events that the firmware uses to report the reason for a
    The firmware will also report if the operation that triggered the wake up
    While the firmware does tell us whether we are waking from a suspend or
    4. log a printk notice when the firmware doesn't set the hot key
    platfor firmware has returned control to the OS on wake up.
    by the firmware or the kernel, then enabling memory decoding
    Modules linked in: binfmt_misc ipv6 nfs lockd nfs_acl sunrpc dm_snapshot dm_mirror dm_mod hfsplus uinput ams input_polldev genrtc cpufreq_powersave i2c_powermac therm_adt746x snd_aoa_codec_tas snd_aoa_fabric_layout snd_aoa joydev snd_aoa_i2sbus snd_pcm_oss snd_mixer_oss snd_pcm snd_timer snd_page_alloc pmac_zilog serial_core evdev ide_cd cdrom snd appletouch soundcore snd_aoa_soundbus bcm43xx firmware_class usbhid ieee80211softmac ff_memless firewire_ohci firewire_core ieee80211 ieee80211_crypt crc_itu_t sungem sungem_phy uninorth_agp agpart ssb
    G_PRINTER: Adds a USB printer gadget driver for use in printer firmware.
    This adds a USB printer gadget driver for use in printer firmware.
    The purpose of the logic is to tell the firmware that ASYM_PAUSE is
    [BNX2]: Update firmware.
    Update firmware to support programmable flow control.
      [ALSA] snd:emu10k1: E-Mu updates. Fixes to firmware loading and support for 0404.
    [ALSA] snd:emu10k1: E-Mu updates. Fixes to firmware loading and support for 0404.
    This device has io_type == 1 (Multiface) and firmware_rev > 0xa
    3GB, plus any offset required by firmware.  The firmware offset is encoded
    If firmware does not implement AUX_LOOP comand in 32 bit mode it
      - allegedly 32768s from an old OXFW911 firmware
    x86_64, parameters passed to EFI firmware services need to follow the EFI
    wrapped before calling the firmware service.  The duplicated code between
    b43: Fix firmware caching
    We must also store the ID string (filename) for the cached firmware blobs
    and verify that we really have the right firmware cached before using it.
    The CF card only has a very old firmware (5.0.16p0). This firmware doesn't
    mesh_config when the card is inserted. So check the firmware version before
    libertas: always show firmware release
    Always shows the firmware release.
    Also converts the firmware release into something that is easily comparable.
    iwlwifi: delay firmware loading from pci_probe to network interface open
    This patch moves the firmware loading (read firmware from disk and load
       impossible to get the firmware image from hard disk in the PCI probe
       handler. Thus delaying the firmware loading into the network
       interface open time is the way to go. Note, we only read the firmware
       is succeeded, we cache the firmware image into the host memory. This
       power as possible. Unloading the firmware from the wireless device
    b43: Add support for new firmware
    This patch adds support for new firmware.
    Old firmware is still supported until July 2008.
    To get new firmware, go to
    You can extract firmware out of the "wl_ap.o" file contained
    Fwcutter-010 with official support for a new firmware image will
    b43: Add N-PHY related initvals firmware filenames.
    This adds the initval filenames for the N-PHY firmware.
    on the special multicast queue. The firmware will take care
    often than not, the real cause is that the firmware has crapped itself,
    When the firmware returns 0x0004, it wants us to try again later. We can
    the firmware responds with 0x0004 (which means -EAGAIN).
    Move the various firmware setup bits into a separate function, which
    libertas: allow for PS mode to be disabled when firmware doesn't support it
    There is weirdness here; the firmware seems to refuse to change channels
    Especially in the light of OLPC trac #5461, in which the firmware starts
    libertas: wait for 'firmware ready' event from firmware after loading
    libertas: don't run thread while firmware not yet ready
    libertas: switch to a waitqueue and timer for handling USB firmware load
    This makes it easier to support the new 'firmware ready' event which is
    in the new firmware, too.
    libertas: improve reliability of firmware reloading on USB
    The firmware is always initialised before we register the netdevices.
    One day we might try loading firmware in ->open(), but still it won't be
    devices, and there seem to be firmware problems with staying associated
    libertas: cope with device which already has firmware loaded
    until I noticed that firmware for the CF card sends my extranous bytes.
    firmware. It's somewhat dubious for USB devices too, but that's a
    libertas: handy function to call firmware commands
    Using an arbitrary firmware command was actually very painful. One
    Always copy the latest BSS information from the firmware's results to
    iwlwifi: avoid firmware command sending if rfkill is enabled
    * convert mac events to decimal, as this is what the firmware
    Requires firmware version 5.110.19.p0 or newer, available here:
    http://dev.laptop.org/pub/firmware/libertas/
    This feature requires firmware version 5.110.19.p0 or newer, available
    here: http://dev.laptop.org/pub/firmware/libertas/
    [BNX2]: Update firmware to support S/G RX buffers.
    perform the whole scan process by hardware and/or firmware. The hardware
    Tested by the nslu2-linux and openwrt projects in public firmware releases.
    making any changes.  This way, if the Efika firmware is updated to fix
    form "fsl,mpc5200-*" to better conform to open firmware generic names
    http://www.openfirmware.org/1275/practice/gnames/gnamv14a.html
     2. Reboot from DASD "B" using "/sys/firmware/reipl/ccw/device"
    files under the directory /sys/firmware/ are used for that configuration.
      [SCSI] aic7xxx: fix firmware build
      IB/mthca: Update latest "native Arbel" firmware revision
    IB/mthca: Update latest "native Arbel" firmware revision
    for the respective port to become active. Since firmware does not
    plugged in again, firmware will handle that properly by sending an
    RDMA/cxgb3: Support version 5.0 firmware
    The 5.0 firmware now supports translating sgls in recv work requests,
    Note: this change requires 5.0 firmware.
      V4L/DVB (7063): xc5000: Fix OOPS caused by missing firmware
    V4L/DVB (7063): xc5000: Fix OOPS caused by missing firmware
    xc5000: Fix OOPS caused by missing firmware.
    V4L/DVB (6954): There isn't a MTS radio firmware
    Try to load non-MTS firmware instead.
    Also, MTS firmware is required for audio to work on HVR950.
    V4L/DVB (6938): Add a tool for extracting xc3028 version 2.7 firmware
    This tool allows the extraction of xc3028 v2.7 firmware from HVR 12x0 file.
    If we are selecting the S-Code firmware to load by name, then we must mask
    from userspace, apparantly the xceive firmware is already factoring in
    V4L/DVB (6855): xc2028: select DTV78 firmware if tuning 7MHz VHF / 8MHz UHF
    It seems that the DTV78 firmware is intended for use in locations where
    If we switch to DTV78 firmware when we detect this condition, we can
    avoid firmware reloads when switching between VHF and UHF transponders.
    can hint to us to use DTV78 firmware from the first tuning attempt.
    conditions with specific firmware combinations.  Document these and only
    against the firmware we are checking instead of against the the "type"
    V4L/DVB (6851): xc2028: include int_freq in firmware version display
    Add "int_freq" to the debugging output when selecting firmware and the
    HAS_IF flag when dumping firmware during load.
    firmware upload the encoder is apparently not muted, making the unmutes
    Load the firmware on cx88-blackbird driver load.
    ATSC standard-specific firmware is D2633 on both v2.5 and v2.7. Better to
    auto-select this firmware, overriding ctrl.d2633.
    DVB-S is not supported. Also, there are some QAM6 firmwares for xc3028, but it
    selecting any IF defined at firmware file.
    V4L/DVB (6671): Avoids checking digital/analog at check_firmware
    Since check_firmware is called via analog or digital set freq routines, move
    Not all 8MHz firmware are marked with F8MHz.
    V4L/DVB (6661): Remove firmware reload hack for analog
    complete firmware reload.
    Xc2028.3028 has two type of firmwares: audio-standard specific ones and
    baseband MTS firmwares. MTS firmwares provide stereo decoding for 6 MHz
    BTSC/EIAJ and for monoaural audio decoding on 8 MHz firmwares.
    firmware, this patch converts it to a bitfield that can be shared with other
    Those standards use 6 MHz firmware.
    share the same USB device ID.  The first (ZL10353 w/ firmware in ROM) is
    already supported; the latter two both require firmware and have either
    "warm" device which is running the embedded firmware, and a "cold" device
    that needs us to upload firmware to it before it will work.  We patch the
    NB: These devices use a different firmware file from previous bluebird
        devices.  You need a new firmware file to make this work.
    V4L/DVB (6653): Add support for the DViCO FusionHDTV NANO2 w/ZL10353 and firmware
    firmware in ROM on the device.
    V4L/DVB (6652): xc2028: try non-8MHZ init1 firmware
    When loading init1 firmware, there may not be an 8MHz specific version.
    When searching for standard-specific analog firmware, only certain
    the firmware to load.
    V4L/DVB (6650): xc2028: base firmwares should have std0
    When loading BASE firmware, we must use std = 0.
    NB: a firmware package is required to use this device.
    V4L/DVB (6647): xc2028: retry firmware load if tuner does not respond
    firmware load.  Retry the firmware load if the firmware/hardware version
    V4L/DVB (6646): xc2028: rework firmware (re)loading process
    Define a list of valid "firmware types" for each combination of BASE,
    DTV and SCODEs.  By masking the appropriate firmware bits off we can
    just use one "type" for the firmware searching and also flag when we
    are looking for a BASE, DTV or SCODE type firmware.  This makes it
    individual firmware part.
    Add a structure to remember what firmware properties we have.  This
    contains the currently loaded/wanted  base firmware (type), video std
    When checking whether the current firmware needs to be reloaded, first
    figure out exactly what "type" of firmware we want (base, std and
    V4L/DVB (6645): xc2028: allow selection of D2633 firmware
    Add a bit to select D2633 DTV firmware to struct xc2028_ctrl, so that it can
    V4L/DVB (6644): xc2028: use correct offset into scode firmware
    When validating and loading SCODE firmware we need to take into account the
    V4L/DVB (6643): xc2028: use best match instead of first partial match during firmware selection
    Rather than picking the first video standard firmware that supports any of
    as many of them as possible.  This improves the likelihood that the firmware
    V4L/DVB (6640): xc2028: correctly select 8MHz firmware
    We were using priv->bandwidth to select the base firmware to load, not the
    firmware loaded.
    V4L/DVB (6638): xc2028: firmware loading cleanup
    failed firmware load to prevent firmware accidentally being freed on us.
    Clean up the firmware load/error messages somewhat and rename priv->version
    V4L/DVB (6619): Use MTS firmware for the HVR-900
    The HVR-900 requires the MTS version of the xc3028 firmware in order
    to get any sound. The below patch selects this firmware variant on
    TM5600/TM6000 needs clock reset during firmware load. This patch adds the
    Also, avoids uneeded firmware loads.
    select them. This is needed only for NICAM and A2 firmwares, since AM, BTSC and
    EAIJ are already properly handled, on firmware version 2.7.
    V4L/DVB (6592): Add the capability to work with more complete firmwares
    Firmware version 2.7 has other firmware types. This patch adds the capability
    DiB7700P, MT2060 and using last drivers (6040:6a79c243aecc), firmware
    Hauppauge firmwares can be decoded using tveeprom. This patch adds HVR-900 as
    occurrences, and at xc3028_get_reg. Also, improves the hardware/firmware
    firmware loading.
    V4L/DVB (6431): Improve firmware format
    V4L/DVB (6428): Make the naming of the DTV firmware files more consistent
    [SCSI] aic7xxx: fix firmware build
    On some firmware versions (e.g. 1.90), the storage device may not show up
    driver model.  This is being done to try to use the firmware layer which
    Kobject: change drivers/firmware/efivars.c to use kobject_init_and_add
    Kobject: change drivers/firmware/edd.c to use kobject_init_and_add
    firmware: change firmware_kset to firmware_kobj
    There is no firmware "subsystem" it's just a directory in /sys that
    firmware: remove firmware_(un)register()
    As I rewrote the whole firmware.c file, add my copyright.
    kobject: convert /sys/firmware/acpi/ to use kobject_create
    firmware: export firmware_kset so that people can use that instead of the braindead firmware_register interface
    Needed for future firmware subsystem cleanups.
    In the end, the firmware_register/unregister functions will be deleted
    kset: convert drivers/base/firmware.c to use kset_create
    [POWERPC] QE: Add ability to upload QE firmware
    Define the layout of a binary blob that contains a QE firmware and instructions
    on how to upload it.  Add function qe_upload_firmware() to parse the blob
    QE firmware node to booting-without-of.txt.
    There is a case where 54xx HBA loads MID firmware as it use 24xx
    firmware. In this case, the driver should issue
    Original code would clear the buffer after the firmware had
    firmware.
    FCE support enables the firmware to record FC extended link
    firmware's FCE buffer; and finally, the FCE buffer will be
    extracted during a firmware-dump scenario.
    controller environment where firmware download boot functionality is
    invoked.  The problem is due to the firmware download is being done in
    In experiments in the lab we managed to trigger an Adapter firmware
    failed by the Adapter correctly. The adapter firmware panic that
    adapters in the field with this specific firmware bug so we do not
    Some it821x RAID firmwares return 0 for the err return off both devices.
    microcontroller firmware doesn't appear to get it right. IT821x clears
    - GPIO pins are configured by the firmware,
    - CDM configuration (clocking) is setup correctly by firmware,
    fabric, firmware generates one interrupt for each RSCN. Based on
    set by the firmware to indicate the vport the RSCN was meant for.
    supported for any given firmware version and ISP type.  Use this
    SCSI_MLQUEUE_HOST_BUSY until firmware alerts the client of a CRQ
        and copy the BIOS image into /lib/firmware folder.
              to update BIOS image from /lib/firmware/as483c01.ufi file into
              to verify BIOS image between /lib/firmware/asc48c01.ufi file
    will mean a longer load time of the cx2584x firmware.
    firmware does not provide all required properties.
    pretty much never care about what the various firmwares have done on
    since we just get the firmware id flipped in get_drvinfo output
    tries to map the interrupt indicated by PCI_INTERRUPT_LINE if the firmware
    Apple firmware has a strange way to "close" bridge resources by setting
    by the firmware.  This is no longer necessary as the generic code
    ps3fb: Update for firmware 2.10
    ps3fb: Update for firmware 2.10
    As of PS3 firmware version 2.10, the GPU command buffer size must be at least 2
    BIOS/firmware programmed initial timing for later use.  The accessor
      ide: add /sys/bus/ide/devices/*/{model,firmware,serial} sysfs entries
    can convince the device firmware folks to fix the issue.
      [MIPS] Atlas, Malta: Don't free firmware memory on free_initmem.
    [MIPS] Atlas, Malta: Don't free firmware memory on free_initmem.
    ide: add /sys/bus/ide/devices/*/{model,firmware,serial} sysfs entries
    Several pSeries firmware versions share a rare locking issue in the
    firmware doesn't match the kernel needs and the device needs
    so remove a firmware feature test.
    ibm_newemac: Skip EMACs that are marked unused by the firmware
    Freeing firmware memory: 978944k freed
    UEFI firmware with appropriate Output Protocol and pass the video information
    appropriate for EFI firmware.
      USB: add support for an older firmware revision for the Nikon D200
    USB: add support for an older firmware revision for the Nikon D200
    support an older firmware revision of the Nikon D200. This patch includes the
    on machines that have no firmware PCI initialization
    This may be because buggy SMM firmware messes with the 8259A (configured
    Using own tx_packets counter instead of firmware counters.
    driver when I had broken firmware uploaded. The cause may have
    sys_open / sys_read were used in the early 1.2 days to load firmware from
    request_firmware() API that implements this in a nice, consistent way.
    This is a good thing, since using sys_open / sys_read etc for firmware is a
    other threads for example.  For those who don't want the firmware loader,
    Newer firmware versions return physical port information to the
    openfirmware node.
    it has been setup by firmware.
    determine if the two residuals, firmware-calculated and FCP_RSP,
    consistent with what earlier firmwares did by explicitly
      V4L/DVB (6378): DiB0700-device: Using 1.10 firmware
    V4L/DVB (6378): DiB0700-device: Using 1.10 firmware
    As for most of the users the 1.10 firmware is an improvement we should
    use this firmware always now.
    CX2341X_OSD_SET_PIXEL_FORMAT firmware calls to be skipped when the pixel
    Unfortunately, another firmware call on the PVR350 sometimes scrambles the
    This patch appends the management firmware version to the bootcode
    firmware string reported through ethtool.
    The current INIT_HCA firmware command timeout is sufficient for the
    [SCSI] aic7xxx: Fix firmware build
    The following scenario leads to total confusion of the platform firmware on
    [BNX2]: Update 5709 firmware to 3.7.1.
    This firmware update fixes a problem running with IPMI management
    firmware.
    The newer firmware may return more than 96 bytes of sense data when it
    doc firmware_sample_firmware_class.c: kmalloc + memset conversion to kzalloc
     Documentation/firmware_class/firmware_sample_firmware_class.c | 5246 -> 5211 (-35 bytes)
    Since we might have misconfigured firmware or cpus that have a linesize
    ps3fb: enhance horizontal panning on firmware 1.90 and up
    ps3fb: Enhance horizontal panning on firmware 1.90 and up:
      - On firmware 1.90 and up, L1GPU_CONTEXT_ATTRIBUTE_FB_BLIT supports copying
    > Maybe this is memory-interleave by firmware config.
    AC710/750 but has a different firmware.
    [ALSA] wavefront - Use standard firmware loader
    Use the standard firmware loader for loading ICS2115 OS firmware file.
    Due to this rewrite, user will have to copy or make symlink the firmware
    file appropriately to the standard firmware path such as /lib/firmware.
    [ALSA] snd-emu10k1:Unmute the Audio/Micro Dock after firmware load.
    [ALSA] snd-emu10k1:Improves firmware loading for E-Mu cards.
    myri10ge: update firmware headers
    Update myri10ge firmware headers to latest upstream version with
      [IA64] add driver for ACPI methods to call native firmware
      [IA64] abstract SAL_CALL wrapper to allow other firmware entry points
    [IA64] add driver for ACPI methods to call native firmware
    AML methods can use this OpRegion to call native firmware entry points.
    ACPI does not define a mechanism for AML methods to call native firmware
    After the handler is installed, an AML method can call native firmware by
    storing the arguments and firmware entry point to specific offsets in the
    handler loads up the arguments, makes the firmware call, and returns the
    [IA64] abstract SAL_CALL wrapper to allow other firmware entry points
    either ia64_sal or some other firmware entry point.
    According to the PCI firmware spec (3.0), the OS must claim control
    This is normal - the device did not respond so firmware will be loaded.
    phone.  As reported by Juan Ignacio Cherrutti, there's new firmware
    to the boot load firmware of a USB Bit Whacker.  It's running the
    MicroChip Pic18 boot loader firmware and I'm putting together a flash
    Ueagle-atm driver load DSP firmware in function, which is running from
    common workqueue. In some (error) circumstances loading firmware may
    older chipsets at USB level. However DSP firmware and CMVs
    USB: Remove unneeded pointer intf from speedtch_upload_firmware()
    which fixes funnies on a few systems where the BIOS firmware leaves us in an
    interesting choice of modes, or embedded boxes with no firmware which come up
    to trigger a rescan whenever the firmware signals an event.
    * The firmware version of ST3160812AS is "3.ADJ" no "3.AD".
    [SCSI] qla2xxx: Clear options-flags while staging firmware-execution.
    [SCSI] qla2xxx: Query additional RISC registers during ISP25XX firmware dump.
    the firmware LOAD/DUMP memory mailbox command routines.  When
    [SCSI] qla2xxx: Collapse and simplify ISP2XXX firmware dump routines.
    [SCSI] hptiop: adding new firmware interface and more PCI device IDs
    - check adapter firmware version and use appropriate interface accordingly
    request FIFO instead of Doorbell writes when firmware support High priority
      drivers/firmware: const-ify DMI API and internals
    The 88w8385 chip, using SDIO interface and firmware release 5.0.11p0,
    down.  Unfortunately, the firmware sends scan completed events many
    are sticky, they might be from interface shutdown time after firmware has
    [BNX2]: Optimize firmware loading.
    <vda.linux@googlemail.com> to further optimize firmware loading.
    and use it repeatedly instead of doing this for every firmware image.
    2. We eliminate the BSS and SBSS firmware sections in bnx2_fw*.h since
    It can be useful in other drivers which need to store firmwares
    In response to an investigation into the firmware of the "Digi Rightswitch"
    includes the timeout for the firmware which is already
    Update firmware version.
    Removed the workaround that was needed for PS3 firmware versions
    somehow get to it. Newer firmwares have it in the device tree such that
    products). For now, provide a hardcoded fallback for older firmwares.
    This patch moves all firmware load responsibility into the interface-specific
    code and gets rid of the firmware pointer in the generic card structure.  It
    and hw_prog_firmware.  It also makes the init sequence from interface
    Because the USB driver code uses the same TX URB callback for both firmware
    'priv' being NULL.  All USB firmware upload bits have been changed to not
    Describe the association response status code the firmware
    Don't trust the firmware to always send them at the right time,
    [PATCH] libertas: pass boot2 version to firmware
    Boot2 version used to be hardcoded in the uploaded firmware,
    this patch preserves the boot2 version before uploading firmware
    and sends it to the firmware again on resume.
    [PATCH] libertas: monitor mode support for OLPC firmware
    OLPC 'bleeding edge' Marvell firmware release (most likely, 5.110.16.p2).
    After loading the firmware, mesh autostart will be disabled. After that, the
    They contains the same info: the firmware command opcode and, when the
    firmware sends back a result, the command opcode ORed with 0x8000.
    This is supported from Marvell firmware version 5.110.16.p0 (to be released).
    The CF/SDIO firmware doesn't support Mesh, so priv->mesh_dev is
    have not much to do with firmware, they are various card- and network-stack
    functions and use them everywhere firmware requires a rate index rather
    The firmware requires the 4 basic rates to have the MSB set, but most
    on basic rates when pushing rate arrays to firmware instead of doing a ton
    [PATCH] libertas: move generic firmware reset command to common code
    Support for new mesh control knobs on firmware 5.220.11.p4:
    IE has been introduced in firmware release 5.110.14. Note:
    in future firmware releases.
    [POWERPC] MPC5200: Don't make firmware fixups into common code
    and instead get their firmware to setup the CPU the right way.
    mlx4_core: Use mmiowb() to avoid firmware commands getting jumbled up
    66547550 ("IB/mthca: Use mmiowb() to avoid firmware commands getting
    IB/mthca: Use mmiowb() to avoid firmware commands getting jumbled up
    IB/ehca: Fix mem leak of firmware ctrlblock in ehca_create_srq()
    Some firmware levels exhibit a race condition between H_ALLOC_RESOURCE(MR)
    IB/ehca: Use remap_4k_pfn() to map firmware contexts to user space
    Use Paul's new remap_4k_pfn() function to map our 4K firmware contexts
    firmware contexts. Return the context's offset within a 64K page to
    facilitate manual firmware extraction as per the procedure documented
    V4L/DVB (6112): cx25840: use a workqueue to load the firmware
    Loading the firmware using the i2c bit-banging code blocks the kernel.
    Move the firmware load code into a workqueue so that it plays well with
    Changing the VBI format requires a CX2341X_ENC_INITIALIZE_INPUT firmware
    Since the saa7127 has no firmware it is OK to initialize it immediately.
    The CX2341X_ENC_INITIALIZE_INPUT firmware call requires careful handling,
    appears that this method can actually crash the audio firmware.
    V4L/DVB (5993): cx25840: resetting also requires reloading the firmware
    Resetting without reloading the firmware is not enough. Sometimes the
    firmware is 'stuck' and needs to be reloaded.
    V4L/DVB (5964): Fixed remote control for dib0700 with new firmware
    The new firmware returns the data of the REQUEST_POLL_RC request in
    It also includes a new firmware for the dib0700 which is necessary to
    V4L/DVB (5924): ivtv-fb: initializing the fb should trigger ivtv firmware load
    ivtv-fb: initializing the framebuffer should trigger ivtv firmware load
    The firmware is now loaded when the driver is actually used for the first
    add code for autodetection and firmware download to the Miglia TVMini USB
    DVB-T adapter.  After firmware download, the device re-registers using
    drivers/firmware: const-ify DMI API and internals
    2) const-ify DMI internals, since DMI firmware tables should,
    [POWERPC] Use cache-inhibited large page bit from firmware
    Discussions with firmware architects have confirmed that the bit in
    uses can be used to set up mappings if the firmware failed to do so in a
    this is required in case the firmware initialized a device
    [POWERPC] bootwrapper: Add PlanetCore firmware support
    It seems that some versions of firmware will report a device
    > firmware not dropping a dubious packet). I must confess I'm not
    ACPI: thinkpad-acpi: check version of hot key firmware
    Check the HKEY firmware version (HKEY.MHKV handler), and refuse to load if
    infrequent failures in the firmware that resulted in 'IRQ READY TIMEOUT'
    Some firmwares (such as PlanetCore) only provide a base MAC address, and
    This will be used by the PlanetCore firmware support to construct
    This will be needed by PlanetCore firmware support.
      netxen: Avoid firmware load in PCI probe
    call is before firmware reload, causing reads and writes across PCI bus after
    firmware reload
    netxen: Avoid firmware load in PCI probe
    Loading firmware during PCI probe can lead to incorrect initialization,
    ago as a workaround for firmware bug, a better workaround was submitted for
    this a while ago. So removing original hack that loads firmware during probe.
    The IOC3 driver's UART detection bits used to rely on the the firmware
    Fix the bug that the major version part of the firmware version number
    is ignored in the comparison done by ps3_compare_firmware_version
    What's happening here is the firmware is detecting a Xfer-ready from the
      [POWERPC] axonram: Module modification for latest firmware API changes
    [POWERPC] axonram: Module modification for latest firmware API changes
    is handled by firmware itself.
    windows than those set by firmware quirk_e100_interrupt() is causing
    time points to a invalid PCI window (set by firmware).
    Upgrade the unusual_devs.h file to support the new 1.01 firmware for the Nikon D80.
    The driver requires that the port has already been set up by the firmware
    Tested on Pegasos2 with firmware version 20040810, and two IDE disks.
      V4L/DVB (6016): get_dvb_firmware: update script for new location of tda10046 firmware
    V4L/DVB (6016): get_dvb_firmware: update script for new location of tda10046 firmware
    Update get_dvb_firmware script for the new location of the
    tda10046 firmware.
    fabric's Management Server.  Request relogin when the firmware
    proper SBP-2 firmware will report transport errors.  So let's leave it
    Warning(linux-2.6.23-rc1//drivers/base/firmware_class.c:245): No description found for parameter 'bin_attr'
    This is a workaround for firmware bug with 2nd port of multiport adapter,
    drivers/char/cyclades.c:4908: undefined reference to `request_firmware'
    drivers/char/cyclades.c:4979: undefined reference to `release_firmware'
    netxen: Load firmware during probe, dma watchdog fix.
    The firmware should be loaded after resetting hardware during PCI probe,
    For the Freescale PCIe PHBs Not all firmwares setup the virtual P2P
      [POWERPC] Fix future firmware feature fixups function failure
      ACPI: Populate /sys/firmware/acpi/tables/
      ACPI: update feature-removal-schedule.txt, /sys/firmware/acpi/namespace is gone
    [POWERPC] Fix future firmware feature fixups function failure
    Move firmware feature initialisation from pSeries_init_early to the
    earlier pSeries_probe_hypertas so they are initialised before firmware
    Currently firmware feature sections are only used for iSeries which
    ACPI: Populate /sys/firmware/acpi/tables/
    ACPI: update feature-removal-schedule.txt, /sys/firmware/acpi/namespace is gone
    The /sys/firmware/acpi/namespace has already been removed in 2.6.21.
    Keep note of ThinkPad model, BIOS and EC firmware information, and log it
    The firmware knows how many hot keys it supports, so export this
    And the driver knows which keys are always handled by the firmware in all
    way, do *not* enable hotkeys that are always handled by the firmware.
    Revise ACPI HKEY functionality to better interface with the firmware, and
    i386: insert HPET firmware resource after PCI enumeration has completed
    the HPET firmware resources will be identified, but it should also not
    This confuses the ACPI platform firmware that doesn't update the AC adapter
    freezing-of-tasks.txt mentions firmware issues without mentioning the use
    firmware, this code needs to manage bite-sized chunks of kernel pages,
    firmware memory consumption.  If enabled via the mr_largepage module
      [CELL] cell: indexing of SPUs based on firmware vicinity properties
    [CELL] cell: indexing of SPUs based on firmware vicinity properties
    information provided by the firmware through a special vicinity
    of Malta firmware.
      Start split out of common open firmware code
      [ALSA] snd-emu10k1:Enable E-Mu 1616m notebook firmware loading.
    extraction routines during firmware-dump.
    Yay, the first one from Seagate.  3.ALC firmware is okay.  This was
    [ALSA] snd-emu10k1:Enable E-Mu 1616m notebook firmware loading.
    Start split out of common open firmware code
    should let the platform firmware know that we're going to enter the low power
    At least on some machines it is necessary to prepare the ACPI firmware for the
      [PATCH] Fix ipw2200 set wrong power parameter causing firmware error
      IB/mthca: Fix printk format used for firmware version in warning
    a MAC address for the reception of BC packets in firmware from the port up
    Better way of creating and loading the firmware used.
    Update for get_dvb_firmware script to extract the files for opera usb-box
    Help file for creating the firmware added
    V4L/DVB (5795): Fix: remove unused struct that could avoiding load the firmware
    V4L/DVB (5771): Get_dvb_firmware: update script for new location
    Get_dvb_firmware: update script for new location of sp8870 firmware
    Now that cx88-blackbird is only accepting the official firmware image,
    we no longer have any need to store the size of the firmware inside the
    V4L/DVB (5733): Blackbird should accept only new cx2341x encoding firmwares
    Remove temporary support for older 256 kB firmwares.
    ivtv, pvrusb2 and blackbird can now all handle the newer larger firmwares,
    so support for the older (buggier) firmware can be removed.
    V4L/DVB (5729): Remove support for 256 Kb firmware files.
    For backwards compatibility firmware files of 256 Kb were allowed: all
    drivers have now been updated to support the newer larger firmwares so
    remove this compatibility code and only support the newer firmware.
    Revert "[POWERPC] Do firmware feature fixups after features are initialised"
    Incorrect dma mask was used for blinkled (firmware assert) recovery or
    [BNX2]: Add delay before reading firmware version.
    The management firmware may still be loading during bnx2_init_one()
    because of the D3hot -> D0 transition and the firmware version may
    [PATCH] Fix ipw2200 set wrong power parameter causing firmware error
    The power mode can only be set 0~5 to firmware. Otherwise there will be a
    firmware error generated. This patch fixed the invalid power mode requested
    IB/mthca: Fix printk format used for firmware version in warning
    When warning about out-of-date firmware, current mthca code messes up
    to the firmware yet, so the firmware cannot return the value when the QP
    Char: cyclades, add firmware loading
    cyclades, add firmware loading
    This is also a partial workaround for a bug in the LDOM firmware which
    [BNX2]: Print management firmware version.
    Add management firmware version for ethtool -i.
    the logic to interface with the firmware to control the remote PHY
    [PATCH] zd1211rw: Defer firmware load until first ifup
    While playing with the firmware a while back, I discovered a way to
    access the device's entire address space before the firmware has been
    Previously we were loading the firmware early on (during probe) so that
    Now that we can read the EEPROM without having firmware, we can defer
    firmware loading until later while still reading the MAC address early
    filesystem is available and firmware loading would fail.
    When firmware reports a nondisruptive port configuration change event,
     - Hardware capabilities are queried from the firmware
     - The maximum MTU is queried from the firmware instead of assuming a
    streaming to rdma mode is broken on the passive side.  The firmware
    NOTE: This change also bumps the required firmware version to 4.3.
    from the QUERY_DEV_CAP firmware command, rather than hard-coding 2 GB.
    firmware revision.  This is made a separate patch, as it will
    mips au1xxx_ide.h: use NULL as firmware-revision wildcard
    ide_in_drive_list(): accept NULL as the wildcard for firmware revision
    83xx/85xx have multiple PHBs and the firmwares on these devices tend not
    Some HP firmware leaves the SMCf010 IRDA device incompletely configured, or
    behind the back of the firmware is likely to make things inconsistent.
    Don't clobber the firmware's internal state machine by setting
    [POWERPC] PS3: Compare firmware version
    Add a utility routine ps3_compare_firmware_version() to compare system
    firmware versions.  Uses the existing ps3_get_firmware_version() routine.
    [POWERPC] Do firmware feature fixups after features are initialised
    On pSeries the firmware features are not setup until ppc_md.init_early,
    so we can't do the firmware feature sections fixups till after this.
    Currently firmware feature sections is only used on iSeries which inits
    the firmware features much earlier.  This is a bug in waiting on
    Moreover firmware seems to "forget" to set DMA capable bit for the
    Upcoming firmware introduces command interface revision 3, which
    new MLX4_FLAG_OLD_PORT_CMDS that it is set after querying the firmware
    New ConnectX firmware introduces FW command interface revision 2,
    firmware, so we change the driver to allow only FW command interface
    revisions 2.  This means that users will have to update their firmware
    to work with the new driver, but the firmware is changing quickly and
    the old firmware has lots of other bugs anyway, so this shouldn't be too
     - Extract VPI resource cnt from firmware
    well as a change in buffer posting.  Note: the new firmware extensions
    support is available only on these newer adapters. The latest firmware
    fact the firmware mapped target ids saved in per device object is phys_disk_num
           firmware version is latter than 1.42
    mappings set up by the OpenBIOS firmware when it configures the EBC
    robust to changes in firmware configuration.  In particular, some of
      [PATCH] libertas: pull current channel from firmware on mesh autostart
      [PATCH] libertas: don't byte-swap firmware version number. It's a byte array.
    With firmware 5.220.11.p5, this allows to specify the anycast addresses the
    This avoids channel mismatch between driver and firmware in case we change
    [PATCH] libertas: pull current channel from firmware on mesh autostart
      mlx4_core: Check firmware command interface revision
      libata: print device model and firmware revision for ATAPI devices
    [PATCH] libertas: don't byte-swap firmware version number. It's a byte array.
    Now it at least manages to load the firmware.
    [PATCH] libertas: support for mesh autostart on firmware 5.220.11
    the GTK to the firmware.
    This patch needs/is needed for firmware 5.220.9.p11.
    mesh and fwt ioctls to work properly with firmware version 5.220.10.p0
    mesh-aware firmware you can omit the calls to this functions.
    This gives time to the firmware so it can go back to the association
    libata: print device model and firmware revision for ATAPI devices
      For ATA/CFA devices, libata prints out the device model and firmware revision.
    NetXen: Fix ping issue after reboot on Blades with 3.4.19 firmware
    NetXen: Fix initialization and subsequent ping issue on 3.4.19 firmware
    firmware was moved to 3.4.19. After configured interface up, ping
    So have to re-load the firmware again in probe routine.
      firmware: remove orphaned Email
    least one firmware which never sends a response but appears to work
    so that such firmware is usable.
    another device (E2 router) and a commonly used firmware does respond.
    firmware: remove orphaned Email
    deactivated. He was in charge of the firmware_class code, and still got
      supported since it821x firmware takes care of DMA mode programming).
      et all when in RAID mode - depend solely on firmware to do the tuning
    Found by the Mellanox firmware group.
    mlx4_core: Check firmware command interface revision
    HCA firmware with incompatible changes to the FW commmand interface is
    initialization and bail out if the firmware advertises a revision that
    which the machine's firmware believes is the console device, and it sets a
    firmware or firewall or whatever.  But "firewire-" has a nice ring to
    qla4xxx_build_ddb_list() firmware ddb state needs to be updated by
    Workaround another device firmware bug, wherein CDC descriptors get
    SYNCHRONIZE_CACHE only affect the cache on the controller. Our firmware
    or to the ERROR state, but mlx4 firmware does not support this and
    state, but mthca firmware does not support this and returns an error if
    firmware call fails due to out of resources.  Some other error codes
    the firmware pokes at the old-style divisor registers. If we detected it
    to the device. For 'normal' devices the command will be handled by firmware.
    firmware will not process the command for it. This will make the console to
    the translation between scsi mid layer and firmware. To achieve this
       firmware is known to not report all actual luns
    Turns out we have an old version of firmware that stores the mac address
    IPMI: Add PPC openfirmware unregister
      [POWERPC] Check cache coherency of kernel vs firmware
    Also, the firmware for those platforms does not completely configure
    [POWERPC] Check cache coherency of kernel vs firmware
    the kernel (CONFIG_NOT_COHERENT_CACHE) matches that left by the firmware,
    Unfortunately, the firmware on some of mv64x60-based platforms do not
      [ALSA] usb-audio: work around broken M-Audio MidiSport Uno firmware
      [ALSA] do not depend on FW_LOADER when internal firmware images are used
    [ALSA] usb-audio: work around broken M-Audio MidiSport Uno firmware
    The firmware of the M-Audio USB Uno MIDI Interface has, at least in
    [ALSA] do not depend on FW_LOADER when internal firmware images are used
    Since request_firmware() is no longer used when the internal firmware
    [ALSA] Don't use request_firmware if internal firmwares are defined
    Don't use request_firmware() if the internal firmwares are defined
    [ALSA] Kconfig: clarify help text for external firmware entries
    The external firmware files are not in the alsa-plugins but in the
    alsa-firmware package.
    because these drivers use the firmware loader regardless of whether
    there is an in-kernel firmware image.
    [ALSA] echoaudio - increase sleep time at loading firmware
    (Note: the driver still works fine with the old firmware after this change.
    [ALSA] Enable Kconfig options for external firmwares
    Some drivers are already ifdefs for enabling external firmwares
    V4L/DVB (5578): Workaround for bad hardare/firmware on some pluto2 devices
    This patch constitutes a workaround for a hardware/firmware problem of the
    It turns out many/most versions of firmware enable MMIO when
      [SCSI] qla2xxx: Attempt to stop firmware only if it had been previously executed.
        processing firmware commands.  Also controls resource allocation
    Some HP/Compaq firmware reports via ACPI that the SMCF010 IR device is
    But EFI 2.00 firmware is starting to appear, and the 2.00 changes don't
    utilities.  The symptom is that cyzload refuses to load the firmware.  I
    ipmi: add powerpc openfirmware sensing
    [SCSI] qla2xxx: Attempt to stop firmware only if it had been previously executed.
    for older firmware.
    myri10ge: replace the chipset whitelist with firmware autodetection
    firmware's auto-detection features to choose which firmware to load.
    The driver now loads the aligned firmware, performs a MXGEFW_CMD_UNALIGNED_TEST,
    and falls back to using the unaligned firmware if:
    - The firmware is too old (ie, MXGEFW_CMD_UNALIGNED_TEST is an unknown command).
    The setting of allmulti when adopting firmware with the rx-filter
    myri10ge: update firmware headers
    Update myri10ge firmware headers to those of 1.4.16.
    myri10ge: support new firmware counters
    flattened device tree based on information from the firmware.  The
    New firmware platforms must define a "msi-available-ranges" property on their
    On some Apple machines the HT MSI mappings are not enabled by firmware, so
    Implement MSI support via RTAS (RTAS = run-time firmware on pSeries
    been assigned by firmware and the device also supports LSI. Devices that
      firmware already does that.
    HW.  Also update the minimum required firmware version.
    initial timeout occurs waiting for the firmware to come ready,
    In ipr dual adapter configurations, the ipr adapter firmware
    is requested by the adapter firmware logging an error with
    in the adapter firmware sending potentially multiple commands
    [BNX2]: Update 5709 firmware.
    Add ipv6 TSO support in firmware.
    [BNX2]: Update 5708 firmware.
    make life easier for the firmware.
    Some versions of pSeries firmware fail to set up a
    is hopefully just beta levels of firmware. But just in case
    this firmware escapes into the wild, this patch will avoid
    over the bus, as is the case with some TV adapters when the firmware is
    power management: remove firmware disk mode
    This patch removes the firmware disk suspend mode which is the wrong approach,
    it is supposed to be used for implementing firmware-based disk suspend but
    takes its WWPN) try to extract this from open firmware instead and if
    This will point out firmware bugs.
    registers which are configured by firmware and get cleared on
    Sometimes the initial firmware values are inconsistent and need to be
    been done after the multiport support is added in firmware.
    from testing a broken firmware version
    is searching for its firmware. If the tuner is attached to the tda10046
    V4L/DVB (5380): Cx25840-firmware include cleanup
    There is no reason why cx25840-firmware.c would need to include
    tuner is attached.  Some more initialization, such as firmware loading,
    tda10046 has its firmware - which is also necessary in analog mode
    V4L/DVB (5315): Tda1004x: check request firmware for NULL ponter again
    - set GPIOs before firmware load. This helps to avoid I2C address
    - changed firmware load mechanism to always:
    - corrected name of tda10046 firmware image (backward compatible).
    Driver core: switch firmware_class to uevent_suppress.
    firmware_uevent(). Get rid of the now unneeded FW_STATUS_READY
      e1000: FIX: firmware handover bits
      IB/mthca: Update HCA firmware revisions
    so we don't need the OBP firmware range handling at all.
    while testing this.  You can't use the 'class-code' OF firmware
    e1000: FIX: firmware handover bits
    Upon code inspection it was spotted that the firmware handover bit get/set
    Up to 16 thermal sensors are supported on new firmware (but nobody has
    supported on older firmware.  Thermal sensor mapping is model-specific.
    use the WRITE_MTT firmware command rather than writing directly if
    interoperate with such firmware can use this; it should not be used for
    Reset MPIC on boot to clear some timer state that firmware might
    includes that.  Without it, the original firmware mappings in the high BATs
    ACPI: thinkpad-acpi: update fan firmware documentation
    firmware.  This patch has no code changes.
    Driver-specific constants are now prefixed TPACPI_, ThinkPad firmware
    IB/mthca: Update HCA firmware revisions
    Update the driver's list of current firmware versions with Mellanox's
            Earlier firmware revisions need MVI fix as well.
            On UP1500 firmware reports wrong AGP IRQ (10 instead of 5).
    driver promises the HCA firmware that bits 3 and 23 of all memory keys
    The firmware assigns irq 20/21 to the VIA IDE device on Pegasos.
    graphics card plugged in. Detect if the firmware stdout is the serial
            - Easier to support platforms whose firmware passes a
    loader_info fields to the firmware's command line, rather than having
    This normally is not an issue as firmware gives dma-windows under
      myri10ge: fix management of the firmware 4KB boundary crossing restriction
    myri10ge: fix management of the firmware 4KB boundary crossing restriction
    Simpler way of dealing with the firmware 4KB boundary crossing
    The problem occurs since the microcode driver uses request_firmware() in
    support for this function has been removed from the firmware.
    [SCSI] aacraid: remove unused or deprecated firmware constants
    never been used in the driver or in the firmware (and thus are
    corresponding port as initially set by firmware. However that function
    The missing cast did result a warning when calling an 32-bit ARC firmware
    page size is not 4kB since the firmware cannot cross 4K boundary.
    Use the regular firmware on Serverworks HT2100 PCIe ports since this
      [IrDA]: Delay needed when uploading firmware chunks
    Some firmware versions will return a slot reset state of "1"
    index (such as is used by the firmware or an EEPROM to indicate MAC
    [IrDA]: Delay needed when uploading firmware chunks
    With 42101001.sb firmwares, we need a 10 ms delay between firmware chunks
    This may work if BIOS/firmware configured the host/device for DMA and chipset
    where doing this could clobber still-live firmware data structures can
    the firmware packet.  If this uninitialised field contains a bogus
    value, ha->cmd_len can become much larger than the actual firmware
    config pages, the firmware doesn't complete the reply in time, and we
    This normally is not an issue as firmware gives us dma-windows under
      V4L/DVB (5260): Cx88-blackbird: allow usage of both 376836 and 262144 sized firmware images
    V4L/DVB (5260): Cx88-blackbird: allow usage of both 376836 and 262144 sized firmware images
    firmware image released by Hauppauge Computer Works, while retaining
    compatibility with the older firmware images.
    cx2341x firmware can be downloaded at: http://dl.ivtvdriver.org/ivtv/firmware/
      V4L/DVB (5276): Cxusb: fix firmware patch for big endian systems
      V4L/DVB (5255): Fix cx25840 firmware loading.
    V4L/DVB (5276): Cxusb: fix firmware patch for big endian systems
    Without this patch, the device will not be detected after firmware download
    V4L/DVB (5255): Fix cx25840 firmware loading.
    causing the firmware load to fail for the ivtv driver. The correct
    device to load the firmware.
    myri10ge: workaround buggy adopted firmwares
    Work around a bug which occurs when adopting firmware versions
    spidernet: load firmware when open
    This patch moves calling init_firmware() from spider_net_probe() to
    Some Bluetooth drivers need one or more binary firmware images. Export
      [MIPS] Cobalt: Rename "Colo" MTD partition to "firmware".
    violation.  Currently, only some Maxtors with early firmware revisions
    are showing this problem.  Those firmwares have other NCQ related
    [MIPS] Cobalt: Rename "Colo" MTD partition to "firmware".
    firmware. Anyway, firmware loading is not used / required by the device.
    V4L/DVB (5212): Pvrusb2: Be more forgiving about encoder firmware size
    The pvrusb2 driver previously rejected encoder firmware whose size was
    possible to find cx23416 firmware whose size doesn't conform to this
    limit.  So change the firmware loader implementation to be more
    dropped support for it because it depends on firmware and does not work
    on all USB host chips. Further, I have no firmware with remote
    CX2341X_ENC_SET_3_2_PULLDOWN are not implemented in the Conexant firmware.
    not implemented in the firmware, and clarified several issues around reverse
      [SCSI] aic94xx: tie driver to the major number of the sequencer firmware
    USB Storage: indistinguishable devices with broken and unbroken firmware
    it correctly, by just returning success without involving the firmware.
    firmware what the identify data is of the device that is attached to
    [SCSI] aic94xx: tie driver to the major number of the sequencer firmware
    The sequencer firmware file has both a string (currently showing
    that Adaptec may issue sequencer firmware in the future which could be
    tied to the particular major number of the firmware (i.e. the current
    driver will load any 1.x firmware).  Additionally, the driver will print
    current firmware will print out
    aic94xx: Found sequencer firmware version 1.1 (V17/10c6)
    in the firmware, which allows easier debugging before probing
    must be set by the firmware. This patch also adds code to the
    firmware/kernel
    HCAs, once we get rid of the use of the WRITE_MTT firmware command.
      - ppc/openfirmware specific
      [SCSI] aic94xx: update for v28 firmware
    [PATCH] docbook: add edd firmware interfaces
    Cleanup kernel-doc notation in drivers/firmware/edd.c.
    use for firmware loading.  Remove the reserved letter (M) from
    this whole-disk partition exists to tell the firmware the
    drives into dmesg to add the full ATA firmware revision and model
    that has a different bitrate from what the firmware programs the
    [ALSA] maestro3: add request_firmware()
    Load the ASSP codes using request_firmware(), if possible, instead of
    [ALSA] korg1212: add request_firmware()
    Load the DSP code using request_firmware(), if possible, instead of
    [ALSA] wavefront: add request_firmware()
    Load the YSS225 register initialization data using request_firmware(),
    [ALSA] sb16: add request_firmware()
    Load the CSP programs using request_firmware(), if possible, instead of
    using the built-in firmware blobs.
    [ALSA] ymfpci: add request_firmware()
    Load the DSP and controller microcode using request_firmware(), if
    possible, instead of using the built-in firmware.
    This will need to be updated later to provide a firmware hook to handle
      [POWERPC] Only use H_BULK_REMOVE if the firmware supports it
    [POWERPC] Only use H_BULK_REMOVE if the firmware supports it
    JS20 blade, where the firmware doesn't support H_BULK_REMOVE.  This
    adds a firmware check so that on machines that don't have H_BULK_REMOVE,
      Driver Core: Increase the default timeout value of the firmware subsystem
    The in-kernel bcm43xx driver only works with V3 firmware, whereas the
    firmware. In bcm43xx-d80211, the fwpostfix module parameter is used
    Driver Core: Increase the default timeout value of the firmware subsystem
    The ipw driver sometimes takes a long time to load its firmware.
    the firmware loader to make this a non-issue, this is a minimal fix.
    [POWERPC] ps3: get firmware version
    Add a new routine ps3_get_firmware_version() and use it to output the firmware
    certain firmware levels are affected.
    [POWERPC] Maple: don't override bus-range supplied by firmware
    NetXen: Added ethtool support for user level firmware management utilities.
    NetXen: firmware crb init changes.
     - fw_reg_addr() is needed to compute addresses of firmware registers, as this
       is dynamic based upon firmware
    [PATCH] EFI x86: pass firmware call parameters on the stack
    When calling into the EFI firmware, the parameters need to be passed on
    [SCSI] aic94xx: update for v28 firmware
    These changes work compatibly with the old V17 firmware
    according to the new V28 firmware. The patch has redefined the register
    3.    The new sequencer firmware v28 for Aic94xx SAS/SATA Linux open
    This extension was into a reserved field that firmware should
    supplied by firmware and get paranoid about reserved fields.
    Fusion firmware requires target reset following hotplug removal event,
    DOS support is no longer needed since the Linux firmware kit
    As ISP24xx firmware can return a CS_DATA_UNDERRUN completion
    This includes BIOS, EFI, FCODE and firmware versions.
    the firmware to driver interface.
    firmwares.  Sprious FISes during NCQ command phase occur on many
    than using the name property (which can differ between firmwares and
      ehea: Fixing firmware queue config issue
    [MTD] [NAND] Inherit CAF NAND timing setup from firmware
    This patch is to make the driver work with multiple minor firmware versions
    ehea: Fixing firmware queue config issue
    firmware configurations
    I set the firmware bracket to 1.00 exactly, in case AMI or Sun fix it with a
    firmware update. Hey, you never know.
    [SCSI] aic94xx: Match request_firmware with release_firmware
    The vmalloc() blob holding the sequencer firmware wasn't being released at
    necessary in case the BIOS has locked read-only the firmware hub space.
    Also prevent any attempt to write to firmware space if it cannot be write
      IB/mthca: Don't execute QUERY_QP firmware command for QP in RESET state
    IB/mthca: Don't execute QUERY_QP firmware command for QP in RESET state
    QUERY_QP firmware command (because it will fail).
      NetXen: driver reload fix for newer firmware.
    NetXen: driver reload fix for newer firmware.
    level. This caused lots of problems on some buggy firmware. Please consider
    1.      Remove /sys/firmware/acpi
    /sys/firmware to /sys/devices.
    between the kernel and the firmware which is setup only later.
    For PAPR partitions with large amounts of memory, the firmware has an
    The other part of this patch is telling the firmware that we can
    here, because the firmware will invoke a reboot if the memory
    firmware is currently using.  This is because firmware can't change
    the representation on the fly.  Further, some firmware versions used
    This card has no firmware eeprom. The old version still should not
    need a firmware file due to an undocumented feature of the TDA10046.
    Some firmwares have "pcie" for the "name" property of the CPC945 PCI
    it must override firmware's notion of what the busses are numbered.
    [POWERPC] Only enable cpu hotplug via RTAS if the required firmware support is found
    during firmware upgrades and resets.  The patch never returns the HOSED state,
    things to happen when in firmware update mode.
    Add detection of those commands (cold reset, warm reset, and any firmware
    Change the SSID on the E500 as a workaround for a firmware bug.  It looks like
    initiate an undock request to the firmware.
    firmware and ACPI DSDT.  If the BIOS and the ACPI DSDT also do not
    ACPI: ibm-acpi: store embedded controller firmware version for matching
    code to store the firmware version of the EC for later usage, e.g.
    It also prints the firmware version when starting up.
    new-style ThinkPad controller firmwares as an experimental feature.  The
    extended for 16 sensors if the firmware supports 16 sensors.
    actually the same thing on these firmwares, but unfortunately IBM never
    The ipw2200 BSS firmware passes on the TSF information within ipw_rx_frame,
    but monitor firmware doesn't. I add back the IEEE80211_RADIOTAP_TSFT flags
    This command needs information from both firmware and driver. First copy
    information from firmware to buffer, then fill in driver information.
      [POWERPC] Tell firmware we can handle POWER6 compatible mode
    Also, a CIS override autoloaded using the firmware loader may
    [PATCH] NetXen: multiport firmware support, ioctl interface
            - Multiport and newer firmware support
    /sys/firmware/ipl/loadparm: shows loadparm of current system (ro)
    /sys/firmware/reipl/ccw/loadparm: loadparm used for next reboot (rw)
    [POWERPC] Tell firmware we can handle POWER6 compatible mode
    to the list of PVR values that the kernel tells firmware it is able to
    a new firmware feature bit for this, FW_FEATURE_PS3_LV1.
    turns the firmware feature check into a run-time option.
    Adds the needed firmware feature bits for the PS3.
    This adds code to look at the properties firmware puts in the device
    The oprofile driver relies on a firmware RTAS call to setup the debug bus
    second firmware RTAS call to reset the debug bus to the non pass thru
    platform-specific information firmware provides.  Thus, this patch
    [BNX2]: Download 5709 firmware.
    [BNX2]: New firmware to support 5709 (part 4).
    [BNX2]: New firmware to support 5709 (part 3).
    [BNX2]: New firmware to support 5709 (part 2).
    [BNX2]: New firmware to support 5709 (part 1).
    [BNX2]: Re-organize firmware structures.
    Re-organize the firmware handling code and declarations a bit to make
    firmware had problem receiving all packets in this configuration.
    New firmware and setting the PROM_VLAN bit when in promiscuous mode
    [PATCH] NetXen: temp monitoring, newer firmware support, mm footprint reduction
            - Driver changes to support newer version of firmware
    IO transactions.  This seems to be a firmware bug which sneaked into
      ACPI: Change ACPI to use dev_archdata instead of firmware_data
      Driver core: convert firmware code to use struct device
    ACPI: Change ACPI to use dev_archdata instead of firmware_data
    Change ACPI to use dev_archdata instead of firmware_data
    It also removes the firmware_data field from struct device as this
    DMA operation pointers, NUMA node ID, firmware specific data, etc...
    Driver core: convert firmware code to use struct device
    hooked to struct device.firmware_data. This structure contains for now a
    firmware about  OSC_EXT_PCI_CONFIG_SUPPORT flag.  that causes
    pcie control from firmware), regardless of whether or not _OSC was
      - load and execute firmware
    the ipr firmware.
    if the firmware didn't configure them properly, which seems to
      [TG3]: Increase 5906 firmware poll time.
    [TG3]: Increase 5906 firmware poll time.
    firmware loop was changed to maximum 20ms.
      IB/ehca: Assure 4K alignment for firmware control blocks
    Fix the AMSO1100 firmware version computation, which was broken
    pci_remove_bus_device() if we cannot find the firmware device tree node
    the firmware when bringinh up new machines.
    the RTAS mechanism for updating firmware.  RTAS assumes 4k for flash
    block and list sizes when preparing and sending a firmware image to
    IB/ehca: Assure 4K alignment for firmware control blocks
    Assure 4K alignment for firmware control blocks in 64K page mode,
    with 4K length and 4K alignment in order to alloc/free firmware
    the conclusion that if the hw/firmware sets a bit in the interrupt
      IB/mthca: Fix MAD extended header format for MAD_IFC firmware command
    The check to see if the firmware drops interrupts during a
    IB/mthca: Fix MAD extended header format for MAD_IFC firmware command
    into the MAD_IFC firmware command at incorrect offsets (mostly off by
      CS_COMPLETE as ISP24xx firmware no longer reports
    link.  Recent firmwares contain a workaround whereby the
    stop-firmware mailbox command prevents the ISP from entering
    must verify that the stop-firmware mailbox command completes
    re-executing firmware.
    feature fixups, one for CPU features and one for firmware features. In
    [PATCH] firmware/dcdbas: add size check in smi_data_write
    So what would happen is that any device mapped by the firmware
    that this initialization along with the firmware bin/sachu3/zzzlp2.eni
    The bcm203x firmware loading driver uses a timer to trigger the URB
    At the moment we rely on a cpu feature bit or a firmware property to
    Platform firmware exports the support for Native C-state to OS using
    [PATCH] firmware/efivars: handle error
    [PATCH] firmware/dell_rbu: handle sysfs errors
    drivers/firmware/dell_rbu.c: In function 'packetize_data':
    drivers/firmware/dell_rbu.c:252: warning: format '%lu' expects type 'long unsigned int', but argument 3 has type 'int'
    [PATCH] ehea: firmware (hvcall) interface changes
    [PATCH] firmware/dcdbas: fix bug in error cleanup
    using SLOF. Also disable an obsolete firmware workaround.
      [PARISC] Make firmware calls irqsafe-ish...
    [PARISC] Make firmware calls irqsafe-ish...
    firmwares on the field. However, the new wrapper has a bug which makes
      [POWERPC] spufs: remove support for ancient firmware
    This enables support for new firmware test releases.
    [POWERPC] spufs: remove support for ancient firmware
    Any firmware that still uses the 'spc' nodes already
    resources are assigned by firmware.  The 'start' member of ioapic device
    ioapic devices by firmware.
    On powermac, when open firmware is set to use the SCC for console, this
    It adds correct AGC setting for the 3000P, correct firmware download state
    changed the line pitch from what the firmware set it to.  Fix it by making
    Fix ide_in_drive_list: drive_table->id_firmware should be searched *in*
    - mapping of id and lun by firmware
    It is confirmed that this field is not used by firmware, so cancel
    [PATCH] isicom: correct firmware loading
    - loading of firmware didn't fail when something went wrong (returned 0).
    [PATCH] build sound/sound_firmware.c only for OSS
    All sound/sound_firmware.c contains is mod_firmware_load() that is a legacy
    This patch builds it into an own sound_firmware module that is only built
    device but without a firmware hub, there was a 50% chance that the code
    detection of the firmware hub to better qualify the existence of an RNG.
    partitions.  But they are not usable.  Maybe the firmware uses it to find
    [PATCH] kthread: drivers/base/firmware_class.c
    Replace kernel_thread() call in drivers/base/firmware_class.c with
    [IrDA]: irda-usb needs firmware loader
    The mailbox access and firmware interface are quite different from
    Put the firmware polling logic into a separate function.  This makes
    Using the new heartbeat code, the ASF firmware will also check the
    updating the firmware in the Uxxx series adapter, but as
    sequencer for communicating with the firmware on the other
    [PATCH] x86 microcode: using request_firmware to pull microcode
    Using request_firmware to pull ucode from userspace, so we don't need the
    into the firmware dir (I had a tool to split previous big data file into
    [SCSI] aic94xx: require firmware loader
    aic94xx relies on external firmware and thus requires FW_LOADER.
    A new revision of the Avermedia A800 does not reenumerate after download the firmware.
    V4L/DVB (4463): New firmware for Nova-t-usb2
    "I have now with success extracted a working firmware for the 93004 rev. C1A2."
    This patch increments the firmware version to 2.
    on NXT2004 based boards before the firmware is loaded.
    [PATCH] bcm43xx-softmac: improve wrong firmware message
    [ALSA] hdsp - Fix auto-updating of firmware
    Fixed the auto-updating of firmware if the breakout box was switched
    off/on.  The firmware binary itself was already cached but it wasn't
    loaded properly.  Also, request_firmware() is issued if the box was
    with firmware at module loading time but later it's erased.
    [TG3]: Constify firmware structs
    Constify largish areas of firmware data in Tigon3 ethernet driver.
    CONFIG_PPC_ISERIES is set and includes a firmware feature check in
    device can be configured under /sys/firmware/dump.
    /sys/firmware/reipl.
    firmware ops (fw_ops), device tree ops (dt_ops), and console ops
    INIC-1530 firmware accepted the 10 bytes version but replied with bogus
    [PATCH] bcm43xx: Add firmware version printout
      [PATCH] myri10ge: update the firmware download URL in Kconfig
    [PATCH] myri10ge: improve firmware selection
    Improve the firmware selection by adding 2 cases where we should use the
    optimized firmware:
    [PATCH] myri10ge: update the firmware download URL in Kconfig
    Update the firmware download URL in Kconfig to match the header
    firmware to change bits in some FCR registers.
    EX8350/8300/16350/16300 controllers.  The controller's firmware accepts
    Add a tag which shows what the firmware file we're requesting is.
    [SCSI] MODULE_FIRMWARE for binary firmware(s)
    request_firmware in order to pull in binary firmware blobs from userland
    determine which binary firmware blobs must be included with a kernel in
    advertising that a particular firmware file is to be loaded - it will
    This problem was noticed by one of the Phyp firmware folks.
    The ipw2200 firmware/ucode only support values from 0 to 254. So mark 255
      o aic94xx: convert to request_firmware interface
    While testing Moxa C218T/PCI on PowerPC 405EP I found that loading firmware
    After I fixed this I found that uploading firmware in a system with
      not I think enough to handle malicious firmware attacks.  That said such an
    Software must explicitely re-enable extended firmware tracing
    [PATCH] myri10ge: use multicast support in the firmware
    Some recent myri10ge firmwares support multicast filtering as well
    whether the firmware support those. mgp->fw_multicast_support
    [PATCH] spectrum_cs: Fix firmware uploading errors
    This fixes firmware upload failures which prevent the driver from
    IB/mthca: Update HCA firmware revisions
    Update the driver's list of HCA firmware revisions to make sure people
    running Sinai firmware older than 1.1.0 get a message suggesting a
    firmware upgrade.  Update the Arbel versions as well while we are at it.
    Intersil firmware 1.7.4 (and possibly others) loses the antenna
    [PATCH] myri10ge: define some previously hardwired firmware constants
    Define some previously hardwired firmware constants.
    [SCSI] aacraid: Restart adapter on firmware assert (Update 2)
    device doesn't have SRQ support (because of ancient firmware) so that
    ACPI: add message if firmware_register() init fails
    existing firmware upload routine.
    downloads the firmware + boot code, modifies it, and uploads it again
    [SCSI] mptfc: properly wait for firmware target discovery to complete
    Based upon a conversation I had with LSI's fibre channel firmware guru,
    firmware link initialization / target discovery to complete.
    [SCSI] lpfc 8.1.7 : Fix failing firmware download due to mailbox delays needing to be longer
    Fix failing firmware download due to mailbox delays needing to be longer.
      [PATCH] myri10ge - Write the firmware in 256-bytes chunks
    [PATCH] myri10ge - Write the firmware in 256-bytes chunks
    When writing the firmware to the NIC, the FIFO is 256-bytes long,
      [POWERPC] force 64bit mode in fwnmi handlers to workaround firmware bugs
    /proc/pal/*/version_info is a bit confusing.  HP firmware, at least,
    [PATCH] myri10ge - Always do a dummy RDMA after loading the firmware
    Always do a dummy RDMA after loading the firmware to work around
    subsystem that speaks SCSI at the firmware level.
    [POWERPC] force 64bit mode in fwnmi handlers to workaround firmware bugs
    The firmware of POWER4 and JS20 systems does not switch the cpu to 64bit
    The Pegasos firmware doesn't create a valid "ranges" property for the
    sparc32 and the firmware just returns a raw pointer to
      [SCSI] mptfusion: firmware download boot fix's
    [SCSI] mptfusion: firmware download boot fix's
    firmware.
    using very good firmware these days...
    ACPI: handle firmware_register init errors
      provide a proper interrupt tree from the firmware so that fallback isn't
    [PATCH] release_firmware() fixes
    Use release_firmware() to free requested resources.
    According to Documentation/firmware_class/README the request_firmware()
    call should be followed by a release_firmware().  Some drivers do not
    however free the firmware previously allocated with request_firmware().
    This patch tries to fix this by making sure that release_firmware() is used
    "rssi" value returned by the firmware after it is converted into a
    [SCSI] lpfc 8.1.7: Fix txcmplq related panics on heavy IO while downloading firmware
    Fix txcmplq related panics on heavy IO while downloading firmware
    The Pegasos firmware doesn't create a valid "ranges" property for the
    up to them. Additionally, the firmware is redistributable and they have
    This patch removes the old pre-parsing of the open firmware interrupt
    addresses from the firmware.
    devices (these are devices the firmware reports as existing, but what
    firmware reports that the lower expander also has another expander
      [POWERPC] Use little-endian bit from firmware ibm,pa-features property
      [POWERPC] Add the use of the firmware soft-reset-nmi to kdump.
    way the irq description in the firmware device-tree get translated to linux
    [POWERPC] Use little-endian bit from firmware ibm,pa-features property
    Apparently some firmware versions forget enabling the dual-edge bit,
    [POWERPC] Add the use of the firmware soft-reset-nmi to kdump.
    With this patch, kdump uses the firmware soft-reset NMI for two purposes:
    solved with the use of a firmware generated soft-reset. After the
    version firmware which supports dynamic reconfiguration of NUMA.)
          For this reason, a firmware vendor who supports Windows writes plural
    firmware call, so continue to boot if the call fails because of
    This patch introduces 3 more files to the /sys/firmware/stable tree:
    [SCSI] qla2xxx: Correctly set the firmware NOS/OLS timeout during initialization.
    used with external firmware module loaders.
    firmware informs the host software that it could not transition
    [SCSI] qla2xxx: Rework firmware-trace facilities.
    - Defer firmware dump-data raw-to-textual conversion to
      allocations of firmware dump memory.
    - Dump request and response queue data as per firmware group
    - Add extended firmware trace support for ISP24XX/ISP54XX chips.
    the same chip but requires firmware support which we don't have on
    - make firmware edid independent from framebuffer (No need to choose
    kernel-api DocBook.  Clean up kernel-doc in drivers/firmware/dmi_scan.c.
    does not work anymore.  Ofcourse that problem was a bug in firmware
    V4L/DVB (4106): Fix problems with AV7110 firmware building
    Fix AV7110 firmware dependencies so that parallel builds work correctly.
    host the requisite firmwares there as well)
    V4L/DVB (3982): Cx88-blackbird: use encoder firmware filename defined in cx2341x.h
    Since the filename of the cx23416 encoder firmware image
    V4L/DVB (3971): Cx88-blackbird: use standard filename for cx23416 firmware
    cx88-blackbird uses the same encoder firmware for the cx23416 chip that is
    This patch alters the driver to expect the cx23416 encoder firmware to be
    V4L/DVB (3970): Cx88-blackbird: use firmware api commands defined in cx2341x.h
    This patch also fixes compilation for AV7110 firmware
    V4L/DVB (3723): Avoid unnecessary firmware re-loads in or51132 frontend
    As QAM_64, QAM_256, and QAM_AUTO all use the same firmware, switching
    between these modulations doesn't require a firmware re-load.  This also
    fixes a mishandled error condition, in which the firmware file is loaded
    into the kernel, the clock mode is changed, but then the firmware upload
    There is some old code in the or51133 firmware loading function that
    into an area the firmware claimed was free and available memory for
    [PATCH] USB: Whiteheat: fix firmware spurious errors
    Attached patch fixes spurious errors during firmware load.
    [PATCH] USB: cdc-acm: add a new special case for modems with buggy firmware
    [PATCH] firmware_class: s/semaphores/mutexes
    Hi, this patch converts semaphores to mutexes for Randy's firmware_class.
    device is enabled.  This can happen either if the firmware assigns
    initialization in firmware, this causes some devices which don't
    specification" and is basically a way for invoking firmware
    as firmware "backdoors" go, this seems one of the cleaner methods, so
    better than each inventing their own firmware "backdoor".
    for timer interrupts (using firmware_has_feature).
    firmware:
      [BNX2]: Use compressed firmware
      [BNX2]: Add firmware decompression
      intelfb: use firmware EDID for mode database
    parameters from firmware. So hotplug parameters are never programed at
    Added support for RM200C machines with big endian firmware
    This driver adds support for firmware loading and start, stop, reset
    [BNX2]: Use compressed firmware
    [BNX2]: Add firmware decompression
    Add functions to decompress firmware before loading to the internal
    CPUs. Compressing the firmware reduces the driver size significantly.
    Add a counter for packets dropped by firmware.
    try to load all existing firmwares but only the matching one
    Memfree firmware is in rare cases reporting WQE index == base - 1 in
    [POWERPC] check firmware state before suspending
    ibm,suspend-me rtas call.  If the firmware is not in the correct
    smarter to first check the firmware state, and only if it is waiting,
    [POWERPC] Fix builtin command line interaction with firmware
    Apple 970 xserves and IBM JS20 blades with SLOF.  The firmware of these
    firmware_revision value as the older DViCO Momobay CX-1.
    The fibre channel firmware provides a timer which is similar in purpose
    the firmware timer to a default of one second which significantly reduces
    2) Always try to sync with the firmware, if there is no
       firmware running do not treat it as an error and instead
    characters the firmware isn't able to handle some or all of them, and so
    will usually work because by then the firmware's had time to make room. But
    The IBM Cell blade firmware might confuse the kernel to think it's a
    pSeries machine. This fixes it for now. With a bit of luck, the firmware
    The code in prom_init.c calling the firmware
    fails to properly pass the instance handle of the firmware object when
    the firmware crashing. (Found by Segher, thanks !)
    * Avoid PCI burst when writing the firmware on chipset with unaligned completions.
    intelfb: use firmware EDID for mode database
    Use firmware EDID for the driver's private mode database.
    Due to a firmware device tree bug, RTC and NVRAM accesses (including
      V4L/DVB (3832): Get_dvb_firmware: download nxt2002 firmware from new driver location
      V4L/DVB (3825): Remove broken 'fast firmware load' from cx25840.
    [PATCH] drivers/base/firmware_class.c: cleanups
      - register_firmware()
      - firmware_class_uevent()
    Semantic changes in ISP24xx firmware behaviour inadvertently
    [SCSI] qla2xxx: Consolidate firmware-dump handling across ISPs.
    [SCSI] qla2xxx: Remove obsolete firmware-loader-module support.
    If firmware image is unavailable via request_firwmare(), then
    configurations that extend the time for the firmware to declare that it
    some device/firmware combinations, so set the default to 0 until we
    firmware. This fixes it by using strcmp instead of strncmp to match what
    V4L/DVB (3832): Get_dvb_firmware: download nxt2002 firmware from new driver location
    This patch updates the get_dvb_firmware script to download the firmware
    V4L/DVB (3825): Remove broken 'fast firmware load' from cx25840.
    The fast firmware load hack in cx25840 uses private data. In fact, it
    firmware is unable to successfully handle tuning after a powered down state.
    It turns out the firmware on the TT budget-ci 1.1 slots doesn't generate
      [PATCH] USB: Emagic USB firmware loading fixes
    [PATCH] USB: Emagic USB firmware loading fixes
    It's become apparent as machines get faster that the emagic kernel firmware
    drivers/usb/misc/emi62.c: emi62_load_firmware - error loading firmware:
    airo(eth0): WPA unsupported (only firmware versions 5.30.17 and greater
    airo_test_wpa_capable assumes that the softSubVer part of the firmware
    I have firmware version 5.30.17 and cap_rid.softSubVer is 0x11==17.
    the firmware tells us.
      powerpc/pseries: Tell firmware our capabilities on new machines
    Also tell firmware that we know about POWER6.
    powerpc/pseries: Tell firmware our capabilities on new machines
    This adds code to call a new firmware method to tell the firmware
    Fix the driver to return SUCCESS if the firmware or driver doesn't
    for debuging firmware events).  We allocated 50 bytes on local stack
    without freeing `result' if we leave via the no_firmware: label.
            when firmware reports target is no longer there, return
    airo cards with firmware versions of 5.30.17 and higher support WPA.
    This patch recognizes WPA-capable firmware versions and adds support for
    [PATCH] ipw2200: Do not continue loading the firmware if kmalloc fails
    [PATCH] orinoco: delay FID allocation after firmware initialization
    so that the user at least can report the firmware version that fails.
      [PATCH] pcmcia: fix comment for pcmcia_load_firmware
    [PATCH] pcmcia: fix comment for pcmcia_load_firmware
    The comment of "pcmcia_load_firmware" is wrong: the
    firmware(*.cis) files reside in /lib/firmware/ _not_
    /lib/firmware/cis/ .
      [PATCH] orinoco: fix truncating commsquality RID with the latest Symbol firmware
    firmware loading failing on a 2100.
    [PATCH] orinoco: fix truncating commsquality RID with the latest Symbol firmware
    Symbol firmware F3.91-71 has an additional word in the commsquality RID.
    Airo firmware versions >= 5.30.17 send re-association events to the
      from the firmware.
          [PATCH] DMI: move dmi_scan.c from arch/i386 to drivers/firmware/
          This is simply "mv arch/i386/kernel/dmi_scan.c drivers/firmware/" (removing
    In the STIR421x case, when the firmware upload fails, we need to
    [PATCH] DMI: move dmi_scan.c from arch/i386 to drivers/firmware/
    This is simply "mv arch/i386/kernel/dmi_scan.c drivers/firmware/" (removing
    firmware (and this is the value currently returned by
    Once patched with Sigmatel's firmware, this chip "almost" follows the
      [WATCHDOG] pcwd.c firmware-info patch
    [WATCHDOG] pcwd.c firmware-info patch
    Get the firmware version into the private data struct
    V4L/DVB (3657): Kconfig: Add firmware download comments for or51211 and or51132
    - Added firmware download comments to or51211 and or51132 Kconfig help text.
    The FWSEND parameter controls the size of the firmware chunks sent
    The bt8xx drivers uses request_firmware()
    The saa7134 drivers uses request_firmware()
    after MC45 powers on, it takes more than 2 secs until firmware fully
    be a firmware crash that also takes down the partition.  A firmware
    Various dodgy firmware might give us nodes and/or properties in the device
    actual bogus firmware could try it, but just for completeness.
    [PATCH] powerpc: Rename and export ppc64_firmware_features
    We need to export ppc64_firmware_features for modules. Before we do that
    I think we should probably rename it to powerpc_firmware_features.
    On CHRP machines we are supposed to call into firmware (RTAS)
    a fallback to the old behaviour when we find older firmware,
    [PATCH] powerpc: Change firmware_has_feature() to a macro
    So that we can use firmware_has_feature() in a BUG_ON() and have the compiler
    firmware_has_feature to a macro. Unfortunate, but necessary at least until
    The isicom driver uses request_firmware() and thus needs to select
    The icom driver uses request_firmware()
      V4L/DVB (3573): Cxusb: remove FIXME: comment in bluebird_patch_dvico_firmware_download
    [PATCH] Doc: fix example firmware source code
    Fix Documentation/firmware_class/ examples so that they will build.
    V4L/DVB (3573): Cxusb: remove FIXME: comment in bluebird_patch_dvico_firmware_download
    Removed the FIXME comment from bluebird_patch_dvico_firmware_download:
    A single firmware image is used to support all of the bluebird boxes.
    The firmware sets all devices to PID: d700. Instead of using that, the
    Problem showed up now because of new system firmware on one platform.
    > >              * Bus already configured by firmware, process it in the first
      [PATCH] powerpc: Replace platform_is_lpar() with a firmware feature
    Not much to say here except that some drives have fixed and bad firmware
      Documentation/dvb/get_dvb_firmware: fix firmware URL
      [SCSI] fusion - move some debug firmware event debug msgs to verbose level
    [PATCH] powerpc: Replace platform_is_lpar() with a firmware feature
    Documentation/dvb/get_dvb_firmware: fix firmware URL
    This patch fixes a wrong URL in Documentation/dvb/get_dvb_firmware.
      [PATCH] firmware: fix BUG: in fw_realloc_buffer
      IB/mthca: Update firmware versions
    The cx25840 module requires external firmware in order to function,
    [TG3]: Add firmware version info
    Leave TSO off by default on older chips that do firmware TSO because
    [PATCH] firmware: fix BUG: in fw_realloc_buffer
      [PATCH] ipw2200: Change debug level for firmware error logging
    IB/mthca: Update firmware versions
    Update known firmware versions in driver's table to the latest releases.
    table from the firmware/hypervisor on the new cpu.
    cross-calls from the OBP firmware requires some trick code sequences
    1) Race conditions with the request_firmware interface and udev/hotplug
    are improved as only a single request_firmware call is now required to
    load the firmware and microcode (vs. 3 separate calls previously)
    2) The monitor mode firmware (sniffer) is now packaged with the correct
    firmware image to the 3.0 version available from:
            http://ipw2200.sf.net/firmware.php
    notifications that we've been receiving from firmware.  This
    when to pre-emptively restart the firmware/ucode in anticipation of
    firmware errors!  But since setting this new threshold, I haven't seen
    [PATCH] ipw2200: Change debug level for firmware error logging
    The spidernet drivers uses request_firmware() and thus needs to select
    the fusion firmware sends the
    The driver will read firmware config pages
    (3) initialize the hba firmware handle
    Cleanup of mptsas firmware event handlers.
    [SCSI] fusion - move some debug firmware event debug msgs to verbose level
    added some more firmware events descriptions.
    loginfo codes returned by the mpt fusion firmware.
    Resync with latest 23xx firmware -- 3.03.20.
    Resync with latest 24xx firmware -- 4.00.18.
    [SCSI] qla2xxx: Remove legacy ISP6312 firmware loader.
    As new 23xx firmware will accomidate ISP63xx types.
    Driver was keying off internal cores. Use what the firmware reports instead.
    MP3 player.  Its card-reader firmware has the common
    firmware-version: N/A
    of the OBP firmware device tree node.  If it's a Sun part we'll
    V4L/DVB (3292): Fixed xc3028 firmware extractor, added terratec fw support
    Fixed xc3028 firmware extractor for terratec's emBDA.sys firmware
    Fixed delay in firmwareupload, now terratec's firmware also works
    Maple firmware does not need PCI resource allocation, and in fact, it
    drivers/net/tokenring/smctr.c: In function `smctr_load_firmware':
    [Bluetooth] Fix firmware loading problem of BT3C driver
    firmware. This workaround is broken and makes the driver oops when
    loading the firmware. This patch removes this workaround and uses now
    When debugging is enabled, the mthca_QUERY_DEV_LIM() firmware command
    extracted from the firmware response, so some of the values that get
    [PATCH] wrong firmware location in IPW2100 Kconfig entry
    Firmware should go into /lib/firmware, not /etc/firmware.
    [PATCH] powerpc: Move pSeries firmware feature setup into platforms/pseries
    Currently we have some stuff in firmware.h and kernel/firmware.c that is
    [PATCH] powerpc: Clean up pSeries firmware feature initialisation
    [ARM] 3302/1: make pci=firmware the default for ixp2000
    Most ixp2000 boards don't actually work if pci=firmware isn't used, so
    of setting pci=firmware.
    Recent ISP24xx firmwares require that mailbox register 8 be
    The reset state is undefined and some firmware doesn't clear this bit
    V4L/DVB (3313): FIX: Check if FW was downloaded or not + new firmware file
    - When a firmware was downloaded dvb_usb_device_init returns NULL for the
    - A new firmware should be used with digitv devices.
    V4L/DVB (3313): FIX: Check if FW was downloaded or not + new firmware file
    - When a firmware was downloaded dvb_usb_device_init returns NULL for the
    - A new firmware should be used with digitv devices.
    - Reduce dangerously high firmware download speed with 16MHz xtal
    tda10046lifeview to get_dvb_firmware to download tda10046 firmware
    [SCSI] fusion - mptctl -firmware download fix
    Fix's firmware download ioctl to work with SAS.
    [PATCH] ide: set latency when resetting it821x out of firmware mode
    This is to work around a defect in HP rx5670 firmware: when an interrupt
    We use UDSL_IGNORE_EILSEQ flags because ADI firmware doesn't reply to
    as error recovery, or firmware download in flashless
    Adding verbose message returned from firmware
    from firmware to the event syslog.  This shows
    > According to the firmware engineers, Fibre needs to be 40 seconds
    firmware queue is flushed out off outstanding
    responding to firmware asyn events, and reporting
    [PATCH] ipw2200: Scale firmware loading watchdog with the firmware size
    greatly increases the likelihood that a firmware reload will succeed
    "loading" and "data" files are racy when you load 2 firmwares in quick
    succession. Second, the timeout for DMAing the firmware needs to scale
    with the size of the firmware being loaded. That is, the watchdog needs
    I no longer get the firmware load errors, though this is at best a hacky
    the fatal errors in firmware which cause reloads; it just causes the
    This does not seem to fix the firmware restarts, but it does do "the
    Convert semaphores to mutexes in mthca.  Leave firmware command
    firmware instead.
    [LIBATA] Blacklist certain Maxtor firmware revisions for FUA support
    [PATCH] appletalk/cops.h: missing const in struct ltfirmware
    [SCSI] ibmvscsi: handle re-enable firmware message
    New versions of the Power5 firmware can send a "re-enable" message to
    Skip the last digit when reporting the firmware version.
    [BNX2]: Improve handshake with firmware
    enabled. ASF firmware will not parse packets correctly if VLAN tags
    [PATCH] e1000: Added firmware version reporting for 8257{1|2|3} controllers
    The EEPROM image version is reported as a firmware version for these controllers.
    Fixed VLAN support by switching control over to the firmware.
    [PATCH] spidernet: read firmware from the OF device tree
    request_firmware() is sometimes problematic, especially
    in initramfs, reading the firmware from Open Firmware
    We still try to get the firmware from the file system
    updates of the spidernet firmware without reflashing
    [PATCH] spidernet: check if firmware was loaded correctly
    Uploading the device firmware may fail if wrong input data
    firmware, it is also necessary to release firmware's nvram lock in
    [PATCH] Remove old firmware headers from rio drivers
    [PATCH] Remove internal firmware building files from rio
    [PATCH] hostap: allow flashing firmware
    Host AP driver has code to support writing firmware to non-volatile
    The dell_rbu driver creates entries in /sys/class/firmware/dell_rbu/ by
    calling request_firmware_nowait (without hotplug ) this function inturn
    /sys/class/firmware/dell_rbu/loading , data and the thread waits on the
    to image_type the /sys/class/firmware/dell_rbu entries can be created.
    The driver code was changed to not create /sys/class/firmware/dell_rbu
    [SCSI] qla2xxx: Kconfig update: Add URL to download firmware images.
    the firmware would have updated the Get ID List port-entries
    [SCSI] qla2xxx: Update firmware-dump procedure for ISP24xx.
    firmware specification.
    firmware into the card, and was due to a
    will cause the firmware to use the portname as a base for
    firmware doesn't generate similar events for expanders addition/removal
    SPI links to its DataFlash chip and (eventually) firmware running in the card.
    [PATCH] powerpc: Add/remove/update properties in firmware device tree
    Cleanup firmware old-way fields in header file.
    New-style firmware will often place multiple different functions
    If the firmware is unable to reset the PCI slot for some reason, then
    New versions of firmware introduce a new method by which the
    V4L/DVB (3336): Bluebird firmware hosting moved to common dvb firmware dir on linuxtv.org
    - Get_dvb_firmware script updated accordingly:
    + my $url = "http://www.linuxtv.org/download/dvb/firmware/dvb-usb-blue$
    V4L/DVB (3327): Remove DViCO specific firmware hacks from the generic code.
    - Move the code that patches bluebird firmware before upload from the
    Patch correct "warm" USB IDs into bluebird firmware before download.
    accesses in most cases, from the firmware tree. However, it still wants
    V4L/DVB (3287): Add DViCO Bluebird firmware to dvb_get_firmware script
    - Add DViCO Bluebird firmware to dvb_get_firmware script,
    V4L/DVB (3268): Use combined firmware for DVB-T and ATSC Bluebird FusionHDTV USB models.
    - Now using firmware "dvb-usb-bluebird-01.fw",
      using dvb-usb-bluebird-atsc-01.fw firmware.
    V4L/DVB (3260): Using new firmware for the WideView Stick
    - A new firmware fixes VHF tuning issues. This changes the firmware file name in the driver.
    V4L/DVB (3243): add firmware instructions for nxt2002 and nxt2004
    - add firmware instructions for nxt2002 and nxt2004
    V4L/DVB (3242): make the firmware dir docs consistent in the v4l-dvb tree.
    - make the firmware dir documentation and comments consistent in the v4l-dvb tree.
    V4L/DVB (3198): make cx25840 recover from some firmware load failures
    - In the rare event that a 333MHz i2c firmware load fails after
    DVB (2441): Driver support for live-ac3, firmware >= 2621 required.
    - Driver support for live-ac3, firmware >= 2621 required.
    DVB (2421): Fixed oddities at firmware download
    - Fixed oddities at firmware download
    - modified the dvb-usb-part to allow a device-specific firmware download
    - added an option to specify whether a device reconnects after a firmware download or not.
    The CONFIG_PPC_OF symbol is used to mean that the firmware device tree
    well as firmware bugs in the past.
    I can't really get a conclusive answer from the firmware
    [PATCH] powerpc: serial port discovery: cope with broken firmware
    This makes it deal with the fact that the Pegasos firmware reports that
    can come up at the same speed it was set to by the firmware.
    ADDRESS64 descriptors in _PRS.  HP firmware uses them for built-in serial
    Add code to handle case where board firmware does not start the
    More care on loading firmware, take into account fw->size can't be zero.
    The driver uses the in-kernel firmware loader :
    - to load  a first usb firmware when the modem is in pre-firmware state
    - to load the dsp firmware that are swapped in host memory.
    * One bulk endpoint for uploading dsp firmware
        - if we need to upload a page of the dsp firmware
    probably due to a bug in its firmware.
    always safe to set qp access flags in the firmware command if either
    2. Add a missing handshake with firmware to enable WOL.
    4. Add nvram arbitration before halting the firmware.
    scsi_device for saving unique firmware mapping. This will be required
    firmware.
      firmware feature of interrupt coalesing. The firmware allows a
    [SCSI] qla2xxx: Resync with latest released ISP24xx firmware -- 4.00.16.
    [SCSI] qla2xxx: Add support for embedded ISP24xx firmware.
    [SCSI] qla2xxx: Add full firmware(-request) hotplug support for all ISPs.
    Transition driver to exclusively use the request_firmware()
    interfaces to retrieve firmware-blobs from user-space.  This
    embedded firmware-binary images are removed from the
    Upon request, the driver caches the firmware image until the
    use the firmware-loader modules, but, should be considered
    regardless of firmware completion status.
    [SCSI] zfcp: fix link down handling during firmware update
    Don't check link down payload in case of firmware update.
    mode, despite what the documentation (of the QUERY_DEV_LIM firmware
    The way the hardware and firmware work is that there is one shared RX
    rp8400 firmware).
    due to firmware errors.
    company) who has a strange 2GB restriction in firmware. But
    [PATCH] v4l: 976: ensure consistent v4l firmware prefixes
    Ensure consistent v4l firmware prefixes.
    [PATCH] v4l: (958) Make cx25840 use firmware image named 'cx25840.fw'
    Change default filename of firmware image to 'cx25840.fw'
    [PATCH] fix leaks in request_firmware_nowait
    Some devices (e.g. Qlogic iSCSI HBA hardware like QLA4010 up to firmware
    So scan the firmware device tree and count the number of cpu
    Fix default VGA console on SN platforms.  Since SN firmware does not pass
    We have been printing the raw ppc64_firmware_features during boot. Since
    these methods seems to be be the most common ACPI firmware problem
    the firmware first handed us this device.  This will allow the
    the firmware has handed over the device.  Te state resore funcion
    "permanent failure" from the firmware. Ignore permanent failures on empty slots.
            firmware.c
    * get_dvb_firmware:
    - Added support for the NXT2004 firmware. This firmware works with both
    Some older firmware reports SLIT distances of 0xff and results in bestnode
    Some powermac machines were crashing in the quiesce firmware call
    Updated firmware version stamp to 2.4 from 2.3 so it will use the latest firmware.
    You can obtain the firmware at http://ipw2200.sf.net/firmware.php
    Fixed parameter reordering in firmware log routine.
    Fixes WEP firmware error condition.
    Card with WEP enabled and using shared-key auth will have firmware
    Make all the places the firmware fails to load showerrors (in decimal,
    [Bug 455] Fix frequent channel change generates firmware fatal error.
    disassociate command to the firmware which will cause the fatal error.
    in ipw_send_cmd(), when ensures that commands will not be sent to firmware
    ring buffer for caching host commands sent to the firmware. They can
    Switched firmware error dumping so that it will capture a log available
    via sysfs even if debugging disabled.  When a firmware error is
    Fix firmware error when setting tx_power.
    beacon info in firmware.
    encryption is enabled. It sometimes causes a firmware stall (firmware
    * Fixed #592 race condition during association causing firmware errors
    * Fixed ipw_wx_sw_reset doesn't switch firmware if mode is changed.
    * Fixed problem with firmware restart if wpa_supplicant was used to set a key
      abort that could periodically cause a firmware restart.
    * Updated the firmware requirement from 2.2 to 2.3 which supports
    Fixed problem with Ad-Hoc network creation causing a firmware error if
    [PATCH] drivers/firmware: kmalloc + memset -> kzalloc conversion
    to get the firmware setting.  It significantly improves the quality of
    slow (>15 minutes to flash a new firmware with KCS, >20 seconds to retrieve
    it polls quite rapidly.  This decrease a firmware flash time from 15 minutes
    BMCs can get into ERROR0 state while flashing new firmware, particularly while
    single-threaded firmware may not be able to process new commands.  In
    pSeries also, it was needlessly complex. Now we just do two firmware tests at
    still verifying with the firmware architects the proper to get the
    adapter firmware. The queueing model is the NACA queueing model,
    some of the adapter firmware queue state that made handling QERR=0
    IBM has finally agreed that the "Version Matching" between firmware and
    [PATCH] bnx2: update firmware handshake for 5708
    Add speed reporting to management firmware. This allows management
    firmware to know the current speed without contending for MII
    [PATCH] bnx2: update firmware for 5708
    Update bnx2 firmware with support for 5708.
    - clean up the firmware check code.
    function to write the DSP firmware into the ASSP chip before sending the
    Mellanox has decided that the components of the firmware version are
    Cell uses the same code as pSeries for flashing the firmware
    [PATCH] firmware: fix all kernel-doc warnings
    /sys/firmware/ipl/device
    /sys/firmware/ipl/binary_parameter
    /sys/firmware/ipl/ipl_type
    Fix types for firmware arguments.  Don't define unneeded messages.
    [PATCH] ppc64 boot: print firmware provided stackpointer
    Show firmware provided stackpointer during boot.
    prism54 is leaking information when passing transmits to the firmware.
    firmware will timeout and reset the device if no heartbeat is received
    [SCSI] qla2xxx: Resync with latest released ISP23xx/63xx firmware -- 3.03.18.
    Also, the firmware.c file should include <linux/device.h>
    to get the prototype of  firmware_register() and
    firmware_unregister().
    to the included headers for firmware.c.
    drivers/base/firmware.c:17:5: warning: symbol 'firmware_register' was not declared. Should it be static?
    drivers/base/firmware.c:23:6: warning: symbol 'firmware_unregister' was not declared. Should it be static?
    drivers/base/firmware.c:28:12: warning: symbol 'firmware_init' was not declared. Should it be static?
    firmware will not generate system interrupt.
    *** Warning: "cpu_online_map" [drivers/firmware/dcdbas.ko] undefined!
    Talk about buggy firmware...  the OF on the Longtrail returns 0
    some pSeries-specific firmware flashing bits.  The parts of rtas.c
    [PATCH] powerpc: Move firmware.h into include/asm-powerpc
    Move firmware.h into include/asm-powerpc.
    I presume firmware does this for us on those.
    Doing a "SUNW,stop-self" firmware call on the other cpus is not the
    correct thing to do when dropping into the firmware for a halt,
    the firmware ones needs to be more air tight.  It turns
    2) Doing a firmware call via the normal C call prom_set_trap_table()
       TLB entries for the firmware call.
       One idea is to do a by-hand firmware call like we do in the
    /sys/class/firmware/dell_rbu/loading and data files to disappear and reappear
     echo 1 > /sys/class/firmware/dell_rbu/loading
     cat the packetfile > /sys/class/firmware/dell_rbu/data
     echo 0 > /sys/class/firmware/dell_rbu/loading
    The driver takes the file which came through /sys/class/firmware/dell_rbu/data
    the firmware address space.
    VM these days.  It worked by luck on many systems because the firmware
    By allocating early memory for the firmware page tables, we
    1) Read in firmware translations table while still on the
       firmware's trap table.
    4) Build firmware page tables using __alloc_bootmem().
    [netdrvr starfire] fix highmem and broken firmware issues
    (the firmware cksum engine works only on 32-bit chunks, yuck), so
    parameters from the firmware.
    mailbox buffer before calling the firmware command.
    binary SW_7xx_SER.cis and to put it into /lib/firmware/
    We first take over the trap table from the firmware.  Then, using this
    to the correct location, use portable firmware calls to do
    firmware, we don't need to load dummy mappings there
    take over the trap table from the firmware.
    note section used by open firmware indicates that it requires a virtual
    chrp and openfirmware initialization sections, and then unifies
    chrp and openfirmware initialization sections, and then unifies
    chrp and openfirmware initialization sections, and then unifies
    chrp and openfirmware initialization sections, and then unifies
      It is possible that due to user error the /sys/class/firmware/dell_rbu
            echo 1 > /sys/class/firmware/dell_rbu/loading
            echo 0 > /sys/class/firmware/dell_rbu/loading
      This will make the entries in /sys/class/firmware/ to disappear and the
    - Fix i2c code if fb_firmware_edid() returns NULL
    The call to fb_firmware_edid may return NULL but this is not checked before
    When using the kernel firmware loader, initialize the card shortname
    system, with properties that tell us what addresses the firmware has
    not supposed to be reading their config space either.  The firmware
    machines, where we get the MAC address from their respective firmware
    [PATCH] Fix breakage on ppc{,64} by "nvidiafb: Fallback to firmware EDID"
    [PATCH] printk : Documentation/firmware_class/firmware_sample_driver.c
    not been assigned by the firmware since it's not used on the machine and
    [PATCH] nvidiafb: Fallback to firmware EDID
    - Fallback to firmware EDID if chipset has no DDC/I2C support or if I2C
    [PATCH] fbdev: Resurrect hooks to get EDID from firmware
    o extended rc5 protocol, firmware >= 0x2620 required
    [PATCH] dvb: av7110: conditionally disable workaround for broken firmware
    Disable COM_IF_LOCK workaround for firmware > 0x261f.
    [PATCH] dvb: av7110: disable superflous firmware handshake
    Disable superflous firmware handshake.
    [PATCH] dvb: usb: cxusb: fixes for new firmware
    1) a firmware update made by the vendor, which has to be done in Windows
       no backwards compatibility with the old firmware as it didn't work anyway
    firmwares tested so far.
    Some firmware (e.g. Thinkpad T21) leaves devices in D3hot after a
    firmware don't set the chassis capability bit in the Get Device ID, but
    The ipmi driver does not have a way to handle firmware-generated events
    SMS_ATN bit may never get cleared by firmware, leaving the driver looping
    [PATCH] modified firmware_class.c to support no hotplug
    Upgrade the request_firmware_nowait function to not start the hotplug
    action on a firmware update.
    - Check return value from firmware device tree functions
    initialize their firmware.  The symptom is a repeated Unit Attention with
    [SPARC64]: Don't include drivers/firmware/Kconfig
        Driver for 802.11b cards using RAM-loadable Symbol firmware, such as
        The driver implements Symbol firmware download.  The rest is handled
        Utilities for downloading the Symbol firmware are available at
        It is not supported by this driver because it has no firmware in
    board is expected to be done by the firmware.
    [SCSI] qla2xxx: Stop firmware execution at unintialization time.
    On ISP24xx parts, stop execution of firmware during ISP
    firmware version, ISP serial number, ISP type, ISP product ID,
    firmware will recogonize such devices during local-loop
    firmware, e.g., HP rx7620 and rx8620 descriptions of HPET, has this bug.
            drivers/built-in.o: In function `philips_tu1216_request_firmware':
            budget-av.c:(.text+0xb937b): undefined reference to `request_firmware'
    - modify ROM assignment code as per Ben's suggestion: try to use firmware
    Some RS64-based machines (p620, F80, others) have problems with firmware
    firmware feature check to phys_to_abs().
    [PATCH] ppc64: make firmware_has_feature() stronger
    Make firmware_has_feature() evaluate at compile time for the non pSeries
    [PATCH] ppc64: create firmware_has_feature()
    Create the firmware_has_feature() inline and move the firmware feature
    [PATCH] ppc64: remove firmware features from cpu_spec
    The firmware_features field of struct cpu_spec should really be a separate
    variable as the firmware features do not depend on the chip and the
    When we call the INIT_IB firmware command to bring up a port, use
    fixes breakage seen when the firmware is build to allow 4X only.
    firmware command through sysfs.
    [PATCH] IB: Update current firmware versions in mthca driver
    BLIST_SPARSELUN.  I've tested this change with several HSG firmware
    which doesn't buffer (like firmware) and let access to at least 64k blocks i
    like you want to initialise the firmware with the current timeout of the
    offers much larger io commands, is more friendly to the internal firmware
    structure requiring less translation efforts by the firmware and offers
    the firmware version.
    Some firmware (e.g. Thinkpad T21) leaves devices in D3hot after a
    Rebuild the aic7xxx firmware doesn't work anymore after this change
    are presented by the firmware?  But, distros want one kernel for all systems
    The code that sets the altivec capability of the CPU based on firmware
    This also works around a bug in the firmware loader: The example provided
    in Documentation/firmware_class no longer works, as the firmware loader now
      - tms380tr.c, tms380tr.h: new DMA API, use real device fo firmware loader
    (workaround for firmware bug that left IBSS IE in the Beacon
    that any firmware *has* to configure VGA port forwarding for the boot
    - Fixed Oops with request_firmware()
    by new HCA firmware.
    initiating a soft-reset, insure the firmware has completed
    [SCSI] qla2xxx: Add firmware version number to qla24xx_fw_version_str().
    Add firmware version number to qla24xx_fw_version_str().
    Resync with latest 21xx firmware      -- 1.19.25.
    Resync with latest 22xx firmware      -- 2.02.08.
    Resync with latest 23xx/63xx firmware -- 3.03.15.
    diagnostic firmware dump routines.
    acpi_get_firmware_table (tbxfroot.c) to prevent a fault
    [ACPI] PCI can now get suspend state from firmware
    Uses new field in struct device: firmware_data
    firmware necessary, + minor updates.
    [PATCH] dvb: ttpci: more error handling for firmware communication
    [PATCH] dvb: ttpci: fix error handling for firmware communication
    [PATCH] dvb: add missing release_firmware() calls
    Add missing release_firmware() calls to fix memory leaks.
    [PATCH] dvb: frontend: bcm3510: fix firmware version check
    Fix limit for firmware version check was too low for tda10045.
    We dont need to use the PERFMON exception on POWER5, in fact the firmware
    [PATCH] openfirmware: implement hotplug for macio devices
    [PATCH] openfirmware: add sysfs nodes for open firmware devices
    [PATCH] openfirmware: generate device table for userspace
    440GX interrupt controller.  This helps when board firmware for some reason
    [PATCH] request_firmware(): avoid race conditions
    device attributes and already firmware allocated memory are freed.  Don't
    drivers/firmware/pcdp.c
    drivers/firmware/pcdp.h
    devices attached to it that have not been configured by firmware.  In this
    [PATCH] pcmcia: request CIS via firmware interface
    Use the firmware method to load replacement CIS tables.  It is recommended
    that the /lib/firmware/cis/ points to /etc/pcmcia/cis or the other way round
    so that both old-style cardmgr and new-style hotplug/firmware can access these
    Future versions of Mellanox HCA firmware will require command mailboxes to be
    it's probable that Linux -- or device firmware -- will need to be involved
    Doesn't do any firmware loading etc, just transmission and reception.
    [PATCH] orinoco: manual roaming for Symbol and Intersilfirmware
    [PATCH] kfree cleanups for drivers/firmware/
    Here's a patch with kfree() cleanups for drivers/firmware/efivars.c Patch
        All CPUs get passed their firmware assigned physical id in r3
        Since firmware is not around, there is no other way to obtain
    [PATCH] I2O: Adaptec specific SG_IO access, firmware access through sysfs and 2400A workaround
     - Added sysfs attribute for firmware read and write access for I2O
     - Added special handling of firmware read and write access for Adaptec
     - Added PCI ID of Promise SX6000 with firmware >= 1.20.x.x
    it.  A power cycle is usually required in order to reset a firmware in a bad
    a power down and enabled, the power cycle command is sent to the BMC firmware.
    baud rate and data bits.  So if firmware doesn't supply them, let
    fans or other board components due to hardware and firmware
    consistent with the values printed by firmware, service processor,
    firmware, but they don't set up the device nodes yet. There is a single
    The firmware provides the location and size of the nvram
    whole TCE table at setup time, in case firmware left any active
    firmware.
    [TG3]: Add TSO firmware license
    ipr 0001:d0:01.0: Adapter firmware version: 020A005C
    In file included from drivers/firmware/pcdp.c:18:
    drivers/firmware/pcdp.h:48: error: field `addr' has incomplete type
    drivers/firmware/pcdp.c: In function `setup_serial_console':
    drivers/firmware/pcdp.c:27: error:  `ACPI_ADR_SPACE_SYSTEM_MEMORY' undeclared (first use in this  function)
    firmware about its capabilities on pSeries machines, I included the
    function to give the capabilities to firmware but somehow forgot the
    [TG3]: Fix bug in tg3_load_firmware_cpu
    ppc firmware upload fix
    be set correctly (normally by BIOS/firmware) in order for it to
    Add a new module param, show_firmware_partition.
    [SCSI] qla1280: update firmware
    Update SCSI firmware images:
    fixed a tuning problem for cards based on the old firmware (Steffen Motzer,
    [PATCH] dvb: tda10046: support for different firmware versions
    added support for different tda10046 firmware versions.  tested with v20, v21
    [PATCH] orinoco: Symbol 3.0x firmware needs broken_disableport
      [netdrvr starfire] Add GPL'd firmware, remove compat code
      Consolidate allocation of firmware buffers.  In the process, remove
      duplication of a workaround for an old symbol firmware bug, and fix a
      firmware doesn't like that much.  Also don't attempt to override the
      firmware's default channel number for IBSS mode (I believe default
      will continue attempting to send packets even when the firmware has
      told us we've lost our link to the AP.  On some firmwares this
      because we have an interrmittent connection, but the firmware is able
      other cards, it causes the firmware to fall in a screaming heap :(
    V2 firmware controllers only in the register offsets and removes support
    [PATCH] aoe: add firmware version to info in sysfs
    add firmware version to info in sysfs
    [PATCH] ppc64: firmware workaround
    Recent gcc 4.0 testing uncovered a firmware issue.  Some properties are larger
    [PATCH] ppc64: tell firmware about kernel capabilities
    supposed to be supplying a structure to firmware that tells firmware about
    this data structure to the firmware.
    just setting them when they are allowed in case the firmware got them wrong)
    the spec, but didn't) and defines a "Belcarra firmware" pseudo-class.
    > 2. I'm OK with the full bcd range if Apple is changing it on firmware
    exported.  This can for example happen if you have hotpluggable firmware in
    [PATCH] add TIMEOUT to firmware_class hotplug event
    > The current implementation of the firmware class breaks a fundamental
    Here we add a TIMEOUT value to the hotplug environment of the firmware
    Minor tweaks to firmware command handling: kill off an unused get of a value,
    the HCA's translation tables rather than requiring a firmware command.  For
    [PATCH] IB/mthca: add SYNC_TPT firmware command
    Add code for SYNC_TPT firmware command, which will be used by FMR
    I misunderstood the MTT size value returned by the firmware -- it is really
    as the original firmware did.  This meant that our MTT addresses ended up
    [PATCH] ppc64: Detect altivec via firmware on unknown CPUs
    firmware in addition to the cpu table.  This allows newer CPUs that aren't
